<!DOCTYPE html>
<html lang="en">
<!-- cgroenvl.htm - Reference for the ENVELOPE functions -->

<html>

<head>
<meta http-equiv="content-type" content="text/html"; charset=UTF-8">
<title>CDP EVELOPE Functions</title>
<meta charset="UTF-8" />
	<link rel = "stylesheet"
	 type = "text/css"
	 href = "cdpmanshtml5.css" />
<link rel="icon"  href="images/cdp_favicon.ico">
    <style>
	a { text-decoration: none }
	a:hover { color:#FF3333;
          text-decoration: underline }          	
    </style>
</head>

<body>

<div id = "left"> <!-- Keep indexing on left ABOVE headlines so index goes to top of page -->

  <p>
  <div align = "center">
  <IMG SRC = "images/cdpcircs90.jpg">
  </div>
  </p>

  <p>
  <nav>
  <!-- list-style-type NOT removing bullets in IE9, using Definition List -->
  <dl>
  <dt><a href="ccdpndex.htm" Target="_top"><b>Main Index</b></a>
  <dt><a href="cgroundx.htm" Target="_top"><b>'Groucho' Index</b></a> 
  <dt><a href="filestxt.htm" Target="_blank"><b>File Formats</b></a>
  <hr>
  <br />
  <dt><a href="#ENVLIST"><b>ENVEL:</b></a>
  <dt>&nbsp;&nbsp;<a href = "#ATTACK"><b>ATTACK</b></a>
  <dt>&nbsp;&nbsp;<a href = "#BRKTOENV"><b>BRKTOENV</b></a>
  <dt>&nbsp;&nbsp;<a href = "#CREATE"><b>CREATE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#CURTAIL"><b>CURTAIL</b></a>
  <dt>&nbsp;&nbsp;<a href = "#CYCLIC"><b>CYCLIC</b></a>
  <dt>&nbsp;&nbsp;<a href = "#DBTOENV"><b>DBTOENV</b></a>
  <dt>&nbsp;&nbsp;<a href = "#DBTOGAIN"><b>DBTOGAIN</b></a>
  <dt>&nbsp;&nbsp;<a href = "#DOVETAIL"><b>DOVETAIL</b></a>
  <dt>&nbsp;&nbsp;<a href = "#ENVTOBRK"><b>ENVTOBRK</b></a>
  <dt>&nbsp;&nbsp;<a href = "#ENVTODB"><b>ENVTODB</b></a>
  <dt>&nbsp;&nbsp;<a href = "#EXTRACT"><b>EXTRACT</b></a>
  <dt>&nbsp;&nbsp;<a href = "#GAINTODB"><b>GAINTODB</b></a>
  <dt>&nbsp;&nbsp;<a href = "#IMPOSE"><b>IMPOSE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#PLUCK"><b>PLUCK</b></a>
  <dt>&nbsp;&nbsp;<a href = "#REPLACE"><b>REPLACE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#RESHAPE"><b>RESHAPE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#REPLOT"><b>REPLOT</b></a>
  <dt>&nbsp;&nbsp;<a href = "#SCALED"><b>SCALED</b></a>
  <dt>&nbsp;&nbsp;<a href = "#SWELL"><b>SWELL</b></a>
  <dt>&nbsp;&nbsp;<a href = "#TIMEGRID"><b>TIMEGRID</b></a>
  <dt>&nbsp;&nbsp;<a href = "#TREMOLO"><b>TREMOLO</b></a>
  <dt>&nbsp;&nbsp;<a href = "#WARP"><b>WARP</b></a>
  <br><br>
<b>OTHERS:</b>
  <dt>&nbsp;&nbsp;<a href="#FLATTEN"><b>FLATTEN</b></a>
  <dt>&nbsp;&nbsp;<a href="#SPIKE"><b>SPIKE</b></a>
  <dt>&nbsp;&nbsp;<a href ="#TOPANTAIL2"><b>TOPANTAIL2</b></a>
  <dt>&nbsp;&nbsp;<a href="#TREMENV"><b>TREMENV</b></a>
  <dt>&nbsp;&nbsp;<a href ="#TREMOLO-R7"><b>TREMOLO</b></a>
<br><br>
<hr>
<b>ENVNU:</b>
  <dt>&nbsp;&nbsp;<a href="cgroenvnu.htm#EXPDECAY"><b>EXPDECAY</b></a> 
  <dt>&nbsp;&nbsp;<a href="cgroenvnu.htm#PEAKCHOP"><b>PEAKCHOP</b></a>

<br><br>
<b>MULTICHAN:</b>
  <dt>&nbsp;&nbsp;<a href="cgromc.htm#FLUTTER"><b>FLUTTER</b></a> 

</dl>


  </dl>
  </p>

</div>  <!-- End of left index panel -->

<div id = "right"> <!-- Keep headlines here so index goes to top of page -->

   <div id = "head">
   <!-- 
   <p><IMG SRC="images/cdpcircs.jpg" align=left ALT="CDP circles logo"></a></p>
   -->
     <div align=center>
     <br>
     <img src="images/cdplogo2.jpg" ALT="CDP Logo">
     </div>

   <h1 align=center>CDP ENVEL Functions</h1>
   <h2 align=center><font color="#3366ff"> (with Command Line Usage)</font></h2>
   </div>  <!-- End of 'head' -->

<!-- ========================================================================= -->
<h2 align = "center" id="ENVLIST"> Functions to ENVELOPE soundfiles</h2>



<!-- ========================================================================= -->
<dl>
<dt><a href="#ATTACK">ENVEL <b>ATTACK</b></a> <dd>Emphasize the attack of a sound</dd>
<dt><a href="#BRKTOENV">ENVEL <b>BRKTOENV</b></a> <dd>Convert a (text) breakpoint
envelope to a binary envelope file</dd>
<dt><a href="#CREATE">ENVEL <b>CREATE</b></a> <dd>Create an envelope</dd>
<dt><a href="#CURTAIL">ENVEL <b>CURTAIL</b></a> <dd>Curtail a soundfile by fading to
zero at some time within it</dd>
<dt><a href="#CYCLIC">ENVEL <b>CYCLIC</b></a> <dd>Create a sequence of repeated
envelopes, in a binary envelope file</dd>
<dt><a href="#DBTOENV">ENVEL <b>DBTOENV</b></a> <dd>Convert a (text) breakpoint file
with dB values to a binary envelope file</dd>
<dt><a href="#DBTOGAIN">ENVEL <b>DBTOGAIN</b></a> <dd>Convert a (text) breakpoint file
with dB values to gain values (0 to 1)</dd>
<dt><a href="#DOVETAIL">ENVEL <b>DOVETAIL</b></a> <dd>Dovetail a soundfile by
enveloping its beginning and end</dd>
<dt><a href="#ENVTOBRK">ENVEL <b>ENVTOBRK</b></a> <dd>Convert a binary envelope file
to a (text) breakpoint envelope file</dd>
<dt><a href="#ENVTODB">ENVEL <b>ENVTODB</b></a> <dd>Convert a binary envelope file
to a (text) breakpoint envelope file with dB values</dd>
<dt><a href="#EXTRACT">ENVEL <b>EXTRACT</b></a> <dd>Extract the amplitude envelope from
an input soundfile</dd>
<dt><a href="#FLATTEN"><b>FLATTEN</b></a> <dd> Equalise level of sound elements </dd>
<dt><a href="#GAINTODB">ENVEL <b>GAINTODB</b></a> <dd>Convert a (text) breakpoint file
with gain (0 to 1) values to dB values</dd>
<dt><a href="#IMPOSE">ENVEL <b>IMPOSE</b></a> <dd>Impose an envelope on an input
soundfile</dd>
<dt><a href="#PLUCK">ENVEL <b>PLUCK</b></a> <dd>Pluck the start of a sound (Mono files
only)</dd>
<dt><a href="#REPLACE">ENVEL <b>REPLACE</b></a> <dd>Replace the existing envelope of
a soundfile with a different envelope</dd>
<dt><a href="#RESHAPE">ENVEL <b>RESHAPE</b></a> <dd>Warp the envelope in a
binary envelope file</dd>
<dt><a href="#REPLOT">ENVEL <b>REPLOT</b></a> <dd>Warp the envelope in a
(text) breakpoint envelope file</dd>
<dt><a href="#SCALED">ENVEL <b>SCALED</b></a> <dd>Impose an envelope on an input
soundfile, scaling it timewise to the sound's duration</dd>
<dt><a href="#SPIKE"><b>SPIKE</b></a> <dd>Envelope the sound to spike at the peak </dd>
<dt><a href="#SWELL">ENVEL <b>SWELL</b></a> <dd>Cause sound to fade in to and out from
a peak moment</dd>
<dt><a href="#TIMEGRID">ENVEL <b>TIMEGRID</b></a> <dd>Partition a soundfile into
a sequence of 'windows' separated by silence</dd>
<dt><a href="#TOPANTAIL2"><b>TOPANTAIL2</b></a> <dd>Fade beginning &amp; end of a sound</dd>
<dt><a href="#TREMENV"><b>TREMENV</b></a> <dd>Tremolo a sound, with width narrowed after peak </dd>
<dt><a href="#TREMOLO">ENVEL <b>TREMOLO</b></a> <dd>Tremolo a sound</dd>
<dt><a href="#TREMOLO-R7"><b>TREMOLO</b></a> <dd>Width-controlled tremolo </dd>
<dt><a href="#WARP">ENVEL <b>WARP</b></a> <dd>Warp the envelope of a soundfile</dd>
<br>
<dt><b>SEE ALSO:</b>
<dt><a href="cgromc.htm#FLUTTER">MULTICHAN <b>FLUTTER</b></a> <dd>Add multi-channel-distributed 
tremolo to a multi-channel file</dd>
<dt><a href="cgroenvnu.htm#EXPDECAY">ENVNU <b>EXPDECAY</b></a> <dd>Produce a true exponential 
decay to zero on a sound</dd>
<dt><a href="cgroenvnu.htm#PEAKCHOP">ENVNU <b>PEAKCHOP</b></a> <dd>Isolate peaks in a source and 
either play back at a specified tempo (Mode <b>1</b>) or output a 
peak-isolating envelope (Mode <b>2</b>)</dd>
</dl>

<hr> <!-- ******************************************************** -->

<h2 id="ATTACK">ENVEL ATTACK &#150; Emphasize the attack of a sound
</h2>

<h3>
Usage
</h3>
<b>envel attack 1</b> <i>infile outfile gate gain onset decay</i>
[<b>-t</b><i>envtype</i>]<br>
<b>envel attack 2</b> <i>infile outfile time gain onset decay</i>
[<b>-t</b><i>envtype</i>]<br>
<b>envel attack 3</b> <i>infile outfile time gain onset decay</i>
[<b>-t</b><i>envtype</i>]<br>
<b>envel attack 4</b> <i>infile outfile      gain onset decay</i>
[<b>-t</b><i>envtype</i>]<br>
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Set attack point where sound level first exceeds gate level<br>
<b>2</b>&nbsp; Attack point at maximum level at your 'approx-time' (+&#47;-
200 ms)<br>
<b>3</b>&nbsp; Attack point at your 'exact-time'<br>
<b>4</b>&nbsp; Attack point at maximum level in the soundfile
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>gain</i> &#150; floating point multiplier by which to amplify the
signal at the attack point (&lt; 1 reduces the signal; &gt; 1 amplifies
the signal)<br>
<i>gate</i> &#150; level (threshold) to be reached for the attack
point to be recognised (Range: 0 to 1)<br>
<i>time</i> &#150; time (approximate or exact) of the attack point,
in seconds<br>
<i>onset</i> &#150; attack onset duration in milliseconds, i.e., the
'sharpness' of the attack (Range:5ms to 32767ms)<br>
<i>decay</i> &#150; attack decay duration in milliseconds (Range: 5
to &lt; duration of <i>infile</i>)<br>
<b>-t</b><i>envtype</i> &#150; type of envelope: <b>0</b> linear,
<b>1</b> exponential (Default)<br>
</blockquote>

<h3>
Understanding the ENVEL ATTACK Process
</h3>

<blockquote>
<p>
ENVEL ATTACK amplifies the beginning of a sound by applying an
attack&#47;decay envelope, starting at a point at which the amplitude
of the <i>infile</i> exceeds a threshold value set by <i>gate</i>.
The peak level of the attack is set by <i>gain</i>.  This is a
multiplier (as used in GAIN, for example);  therefore the <i>infile</i>
(in the attack region) must be at substantially less than maximum
amplitude for the program to work as intended.  The parameters
<i>onset</i>, <i>decay</i> and <i>envtype</i> provide independent
control over the length and sharpness of the attack and decay.
</p>

<p>
<b><i>gate</i></b> &#150; To use this program effectively, you need to
examine the soundfile at the sample level with a soundfile viewer such
as VIEWSF.  The first step is to find where the signal level starts to
rise to a significant level.  This is often not at the very beginning of
the soundfile, which means that putting the attack right at the beginning
would have no effect.  Suppose that the level reaches 1000 by 0.02 sec.
(20ms) and then continues upwards.  The signal before this time is too
low for the attack operation, so one sets a <i>gate</i> of 1000;  now
the attack will begin when the amplitude reaches 1000.  <i>Gate</i> is
used in Mode <b>1</b> only.
</p>

<p>
<b><i>gain</i></b> &#150; This is the multiplier by which the original
level of the sound in the attack region is increased to produce the
attack.  You need to observe the amplitude level of the signal just after
the point where the attack will begin to see how much amplification
it can sustain before overloading.  This information is used to set
a sensible <i>gain</i> level.

<blockquote>
<p>
SNDINFO MAXSAMP will also give an indication of how much room for
manoeuvre there is with the signal level.  For example, if the maximum
sample is shown to be 10560 at 1.2 seconds, a <i>gain</i> of at least
3 will be safe, and probably considerably more if you can hear that
the sound begins with a soft attack.
</p>

<p>
ENVEL ATTACK checks the levels and will not proceed it it reckons that
there will be an overload.  In this case, you need to reduce the
<i>gain</i> level.
</p>

<p>
The attack can be placed anywhere in the sound, so this function can
be used, for example, to 'pepper' a sound with surprise impulses.  The
effectiveness will be determined by how much scope for level increase
you have at a particular point in the sound.
</p>
</blockquote>

<p>
<b><i>onset</b></i> &#150; This sets the time between the moment
when the attack starts and the end of the <i>decay</i>.  It can
therefore be referred to as the duration of the whole attack cycle.
Given an attack peak at a certain time, and a <i>decay</i> of a certain
duration, the <i>onset</i> is the time remaining for the build-up to the
attack peak.  A longer <i>onset</i> will simply cause the build-up to
begin sooner.  If this start point is mathematically before the
beginning of the soundfile, it will begin at the start of the
soundfile.  The maximum range is 32,767 seconds, so it will be possible
to create a very long attack if you wish, as long as the attack peak is
some way into the soundfile.  The value for <i>onset</i> does not affect
the time placement of the attack peak.
</p>

<p>
<b><i>decay</i></b> &#150; The decay portion of the attack is also
set in milliseconds.  Note that you could make the decay very long.
This is the 'D' part of the 'ADSR' found on some synthesisers and
is a very important parameter.  Making it shorter than <i>onset</i>
helps bring out the plosive nature of an attack.  Making it as long
or longer than <i>onset</i> smooths the transition into the rest of
the sound.
</p>

<p>
<b><i>envtype</i></b> &#150; Two types of envelope are provided: straight
line (linear) or curved (exponential).
</p>

<p>
I (Editor) always seem to pause slightly when converting seconds to
milliseconds and <i>v.vs.</i>, even though it's a simple matter of moving
the decimal point three places to the right or left:  0.1 sec = 100 ms.
So for my own reference, and perhaps yours, here's a little chart of
conversions.  The third column is to help imagine the numbers as parts
of a beat &#64; crotchet (quarter note) = 60.
</p>

<p>
<div align=center>
<table border=1 cellpadding=3 bgcolor="#B0E0E6">
<caption><b>Seconds &amp; Milliseconds Reference Chart</b></caption>

<tr>
<th align=center><b>Seconds</b></th>
<th align=center><b>Milliseconds</b></th>
<th align=center><b>Number per second</b></th>
</tr>

<tr>
<td align=right>0.001</td>
<td align=right>&nbsp;&nbsp;&nbsp;1</td>
<td align=center>1000</td>
</tr>

<tr>
<td align=right>0.010</td>
<td align=right>10</td>
<td align=center>&nbsp;100</td>
</tr>

<tr>
<td align=right>0.100</td>
<td align=right>100</td>
<td align=center>&nbsp;&nbsp;10</td>
</tr>

<tr>
<td align=right>0.025</td>
<td align=right>25</td>
<td align=center>&nbsp;&nbsp;40</td>
</tr>

<tr>
<td align=right>0.040</td>
<td align=right>40</td>
<td align=center>&nbsp;&nbsp;25</td>
</tr>

<tr>
<td align=right>0.050</td>
<td align=right>50</td>
<td align=center>&nbsp;&nbsp;20</td>
</tr>

<tr>
<td align=right>0.25</td>
<td align=right>250</td>
<td align=center>&nbsp;&nbsp;&nbsp;4</td>
</tr>

<tr>
<td align=right>0.500</td>
<td align=right>500</td>
<td align=center>&nbsp;&nbsp;&nbsp;2</td>
</tr>

<tr>
<td align=right>1.000</td>
<td align=right>1000</td>
<td align=center>&nbsp;&nbsp;&nbsp;1</td>
</tr>

</table>
</div>
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>To:</p>
	<ul>
	<li>put extra 'bite' into the start of a sound</li>
	<li>emulate the attack transient of a particular musical instrument</li>
	<li>introduce a surprise pulsation into a sound</li>
	<li>'pepper' a sound with impulses</li>
	<li>make longish exponential shapes at the start of or within
	a sound</li>
	</ul>

<p>
Note that ENVEL ATTACK can be used to introduce a plosive quality to the
beginning of a sound, while retaining its timbral characteristics.  This
differs from <a href="#PLUCK">ENVEL PLUCK</a>, which introduces (pronounced)
noise elements into the attack.
</p>
</blockquote>

<p>
Also see: <a href="#CREATE"><b>ENVEL CREATE</b></a>, <a href="#WARP"><b>ENVEL WARP</b></a>,
and  <a href="#PLUCK"><b>ENVEL PLUCK</b></a>.
</p>


<p>
End of ENVEL ATTACK<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="BRKTOENV">ENVEL BRKTOENV &#150; Convert a (text) breakpoint
envelope to a binary envelope file
</h2>

<h3>
Usage
</h3>
<b>envel brktoenv</b> <i>inbrkfile outenvfile wsize</i><br>

<h3>
Parameters
</h3>

<blockquote>
<i>inbrkfile</i> &#150; input textfile containing <i>time value</i>
breakpoint pairs<br>
<i>outenvfile</i> &#150; output binary envelope file<br>
<i>wsize</i> &#150; enveloping window:  time resolution in milliseconds
over which to average amplitude data (Range: 5 to length of file)<br>
</blockquote>

<h3>
Understanding the ENVEL BRKTOENV Function
</h3>

<blockquote>
<p>
The text format is an editable <i>time value</i> text breakpoint file.
The binary format is used by some processes of the system and cannot
be edited.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
This is a utility to convert text format to binary format.
</p>
</blockquote>

<p>
Also see: <a href="#ENVTOBRK"><b>ENVEL ENVTOBRK</b></a>.
</p>

<p>
End of ENVEL BRKTOENV<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="CREATE">ENVEL CREATE &#150; Create an envelope
</h2>

<h3>
Usage
</h3>
<b>envel create 1</b> <i>envfile createfile wsize</i><br>
<b>envel create 2</b> <i>brkfile createfile</i><br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; the output is a binary envelope file<br />
<b>2</b>&nbsp; the output is a breakpoint text file
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>envfile</i> &#150; output binary envelope file in Mode
<b>1</b>
	<blockquote>
	If you specify a start time &gt; 0, the values from
	0 to the start time hold your start level.
	</blockquote>
<i>brkfile</i> &#150; output text breakpoint envelope file
in Mode <b>2</b>
	<blockquote>
	The file starts at the time you specify.
	</blockquote>
<i>createfile</i> &#150; input text envelope data file in
the following format:
	<ul>
	<li><i>time</i> &nbsp;[<b>e</b>]<i>level</i> &nbsp;&nbsp;</li>
	<i><div align="left">time</i> &nbsp;[<b>e</b>]<i>level</i> ....
	<li><i>time level</i> pairs can be repeated as often
	as desired</li>
	<li><i>time</i> is in seconds, must increase
	throughout the file, and must be separated by at least
	0.010 sec (10ms).</li>
	<li><i>level</i> is a number between 0.0 and 1.0, or a
	dB value between -96dB and 0dB (you must write 'dB'
	if you want dB).</li>
	<li>If preceded by an <b>e</b>, the envelope rises
	&#47;falls <b>exponentially</b> to that level.</li>
	<li>Default: <b>linear</b> rise&#47;fall.</li>
	</ul>

<i>wsize</i> &#150; enveloping window: time resolution in milliseconds
over which to average emplitude data (Range: 5 to length of file)<br>
</blockquote>

<h3>
Understanding the ENVEL CREATE Function
</h3>

<blockquote>
<p>
ENVEL CREATE provides a facility for hand-crafting an envelope shape.
There can be as many 'points' as you like, and specific segments may
be given an exponential curve, rather than a straight line shape, by
preceding the value with an <b>e</b>.
</p>

<p>
It may be useful to study the existing envelope of a soundfile in
a soundfile viewer before creating your own envelope file, because it
will need to relate to the existing values in order to produce predictable
results.
</p>

<p>
Virtually simultaneous jumps can be accomplished by making the next
time increment the minimum 0.010 sec allowed (10ms).
</p>

<p>
Windows users may also use the graphic <a href="cbrkedit.htm"><b>BRKEDIT</b></a> program.
</p>

<p>
Mode <b>2</b> may at first seem redundant because both the input and
the output are text breakpoint files.  The reason it is here is that
the <i>createfile</i> may contain <b>-e</b>'s for exponential curves.
These are appropriately converted in the output textfile.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
Here are just a few ideas among the myriad possibilities:
	<ul>
	<li>create very long, gradual changes in amplitude</li>
	<li>create many ragged, jagged changes in amplitude</li>
	<li>introduce regular, slow amplitude pulsations</li>
	<li>pull down the amplitude after the attack transient</li>
	<li>tailor the attack and&#47;or decay transients</li>
	</ul>
</p>
</blockquote>

<p>
End of ENVEL CREATE<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="CURTAIL">ENVEL CURTAIL &#150; Curtail a soundfile by fading to
zero at some time within it
</h2>

<h3>
Usage
</h3>
<b>envel curtail 1</b> <i>insndfile outfile fadestart fadeend envtype</i>
[<b>-t</b><i>times</i>]<br>
<b>envel curtail 2</b> <i>insndfile outfile fadestart fade-dur envtype</i>
[<b>-t</b><i>times</i>]<br>
<b>envel curtail 3</b> <i>insndfile outfile fadestart envtype</i>
[<b>-t</b><i>times</i>]<br>
<b>envel curtail 4</b> <i>insndfile outfile fadestart fadeend</i>
[<b>-t</b><i>times</i>]<br>
<b>envel curtail 5</b> <i>insndfile outfile fadestart fade-dur</i>
[<b>-t</b><i>times</i>]<br>
<b>envel curtail 6</b> <i>insndfile outfile fadestart</i>
[<b>-t</b><i>times</i>]<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; specify the precise times at which the file is to begin and end<br>
<b>2</b>&nbsp; specify the duration of the fade and when it begins<br>
<b>3</b>&nbsp; specify when the fade begins and fade to the existing end
of <i>insndfile</i><br>
<b>4</b>&nbsp; specify the precise times at which the file is to begin and end,
and apply a doubly exponential (steeper) editing slope<br>
<b>5</b>&nbsp; specify the duration of the fade and when it begins,
and apply a doubly exponential (steeper) editing slope<br>
<b>6</b>&nbsp; specify when the fade begins and fade to the existing end
of <i>insndfile</i>, applying a doubly exponential (steeper) editing slope<br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile</i> &#150; input soundfile to curtail<br>
<i>outfile</i> &#150; output (curtailed) soundfile<br>
<i>fadestart</i> &#150; time at which to begin the fade<br>
<i>fadeend</i> &#150; time at which to complete the fade (In Modes
<b>3</b> and <b>6</b> the end-time is presumed to be the end of
<i>insndfile</i>).<br>
<i>envtype</i> &#150; type of envelope shape for the fade<br>
	<blockquote>
	<i>envtype</i> = <b>0</b>: <b>linear</b> fade<br>
	<i>envtype</i> = <b>1</b>: <b>exponential</b> fade (the Default)<br>
	In Modes <b>4-6</b> the slope is automatically doubly exponential.
	</blockquote>
<b>-t</b><i>times</i> &#150; identifies the type of time unit being used:
	<blockquote>
	<i>time</i> = <b>0</b>: times are in seconds (the Default)<br>
	<i>time</i> = <b>1</b>: times are in samples<br>
	<i>time</i> = <b>2</b>: times are in grouped-samples;  e.g., in
	stereo, each sample-pair counts as 1 item
	</blockquote>
</blockquote>

<h3>
Understanding the ENVEL CURTAIL Process
</h3>

<blockquote>
<p>
There may be times when it is useful to make a soundfile a certain length.
If it is all right to lose the latter part of the sound, then ENVEL CURTAIL
can be used to specify the time at which the sound is to end
(<i>fadeend</i>), and to customise the fade to this end point:  where the
fade is to begin (<i>fadestart</i>) and how long it is to last
(<i>fadeendr</i> in Mode <b>1</b> and <i>fade-dur</i>) in Mode <b>2</b>).
</p>

<p>
The linear <i>envtype</i> makes the fade a little less gradual.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
Here we have a handy utility to cut soundfiles to a given length while
at the same time customising the manner in which they end.  It gives
more control over shaping the final part of the soundfile than is
possible with  <a href="cgroedit.htm#CUT"><b>SFEDIT CUT</b></a>.
</p>
</blockquote>

<p>
End of ENVEL CURTAIL<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="CYCLIC">ENVEL CYCLIC &#150; Create a sequence of repeated
envelopes, in a binary envelope file
</h2>

<h3>
Usage
</h3>
<b>envel cyclic 1-3</b> <i>outenvfile.evl wsize total-dur cell-dur
phase trough env-exp</i><br />
<b>envel cyclic 4</b> <i>outenvfile.evl userenv.brk wsize total-dur cell-dur
phase</i><br />

<br>


<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Rising<br />
<b>2</b>&nbsp; Falling<br />
<b>3</b>&nbsp; Troughed (falls then rises)<br />
<b>4</b>&nbsp; User-defined (in a text breakpoint file)<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>outenvfile.evl</i> &#150; name of the output binary envelope file
created by the program in Modes <b>1-3</b>, shown here using the
CDP extension for binary envelope files (<b>.evl</b>).<br />
<i>wsize</i> &#150; envelope window size in milliseconds, i.e., the
resolution of the envelope generated<br />
<i>total-dur</i> &#150; duration of the output soundfile file<br />
<i>cell-dur</i> &#150; duration of (repeating) envelope-cell<br />
<i>phase</i> &#150; where in the cell-envelope to begin the output:
<b>0</b> = start, <b>1</b> = end of cell<br />
<i>trough</i> &#150; <i></i> the lowest point of the envelope
(Range: 0 to 1)<br />
<i>env-exp</i> &#150; shapes are linear (0) or exponential 
(&lt; 1 = start slow and speed up: steep at top; &gt; 1 = start 
quickly and slow down: steep at bottom)<br />
<i>userenv</i> &#150; a user-defined textfile of <i>time value</i>
pairs defining the envelope, in which the time units are arbitrary:
the envelope is stretched to fit into each of the envelope cells.
	<p>
	<blockquote>
	<i>Cell-dur</i> and <i>trough</i> may vary over time.
	</blockquote>
	</p>
</blockquote>

<h3>
Understanding the ENVEL CYCLIC Function
</h3>

<blockquote>
<p>
ENVEL CYCLIC creates a binary envelope file that cyclically repeats
the shape that you give to it, at whatever repetition rate you want.
It is therefore a way to rhythmicise a continuous sound by imposing
a regularly pulsating envelope.
</p>

<p>
The program is very flexible, allowing you to set the output duration,
the duration of the repeating contour shapes (time-variable), phase
(start point in the shape), type and depth of shape.
</p>

<p>
The window-size (<i>wsize</i>) determines how accurately the output 
envelope is defined:
	<ul>
	<li>a small window-size gives a very precisely defined 
	envelope</li>
	<li>a larger window-size gives a less well-defined 
	envelope</li>
	</ul>
</p>

<p>
Mode <b>4</b> accepts a (special) text breakpoint file with which 
you can define an envelope shape.  What is special about this 
user-defined breakpoint file is that its time-units are relative.  
You the user define the pulse shape between <i>times</i> 0 and 1, 
or between <i>times</i> 0 and 1000, but the actual duration will be 
scaled up or down to fit the duration of (each) <i>cell-dur</i>.  
<i>Cell-dur</i> may be a constant, or it may itself be defined in a 
time-varying breakpoint file.  The shape will then be stretched
or compressed to to fit each (changing) <i>cell-dur</i>.  In this 
way, you can create a pulsing envelope that accelerates, gets
slower, or is randomised.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
ENVEL CYCLIC can be used to create an amplitude tremolo with a contour
shape designed specifically for the task in hand.
</p>
</blockquote>

<p>
End of ENVEL CYCLIC<br>
<a href="#ENVLIST">Return</a> to List of functions for interacting
spectra at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="DBTOENV">ENVEL DBTOENV &#150; Convert a (text) breakpoint file
with dB values to a binary envelope file
</h2>

<h3>
Usage
</h3>
<b>envel dbtoenv</b> <i>db_brkfile outenvfile wsize</i><br>

<h3>
Parameters
</h3>

<blockquote>
<i>db_brkfile</i> &#150; input breakpoint file with dB values<br>
<i>outenvfile</i> &#150; equivalent data written in binary form<br>
<i>wsize</i> &#150; enveloping window: time resolution in milliseconds
over which to average amplitude data (Range: 5 to length of file)
</blockquote>

<h3>
Understanding the ENVEL DBTOENV Function
</h3>

<blockquote>
<p>
This is a utility to convert breakpoint data in dB format to
envelope data in binary format.  The input breakpoint file
contains <i>time dB</i> values and can be accessed with a text editor.
The binary envelope file can only be handled by the software.
</p>

<p>
The dB format is amplitude expressed along the logarithmic decibel
scale.  See the <a href="cgroinfo.htm#UNITSGAINS">reference chart</a>
which relates these to gain and the 0 to 32767 scale.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
This is a utility to convert between dB and binary formats.
</p>
</blockquote>

<p>
Also see: <a href="#ENVTODB"><b>ENVEL ENVTODB</b></a>
</p>

<p>
End of ENVEL DBTOENV<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="DBTOGAIN">ENVEL DBTOGAIN &#150; Convert a (text) breakpoint file
with dB values to gain values (0 to 1)
</h2>

<h3>
Usage
</h3>
<b>envel dbtogain</b> <i>dbbrkfile outbrkfile</i><br>

<h3>
Parameters
</h3>

<blockquote>
<i>dbbrkfile</i> &#150; input breakpoint file with <i>time dB</i> values<br>
<i>outbrkfile</i> &#150; output breakpoint file with <i>time gain</i>
values<br>
</blockquote>

<h3>
Understanding the ENVEL DBTOGAIN Function
</h3>

<blockquote>
<p>
Both the input and the output files are breakpoint files, i.e., with
time points and values for each of those time points.  The times will
remain the same, and the amplitude values will be converted.
</p>

<p>
Both files can be accessed with a text editor.
</p>

<p>
Gain is a multiplier operating between 0 and 1.  See the
<a href="cgroinfo.htm#UNITSGAINS">reference chart</a> which relates
gain to dB and to the 0 to 32767 scale.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
This is a utility to convert between amplitude value formats.
</p>
</blockquote>

<p>
<b>SEE ALSO:</b> <a href="#GAINTODB"><b>ENVEL GAINTODB</b></a>
</p>

<p>
End of ENVEL DBTOGAIN<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="DOVETAIL">ENVEL DOVETAIL &#150; Dovetail a soundfile by
enveloping its beginning and end
</h2>

<h3>
Usage
</h3>
<b>envel dovetail 1</b> <i>infile outfile infadedur outfadedur intype
outtype</i> <b>-t</b><i>times</i><br>
<b>envel dovetail 2</b> <i>infile outfile infadedur outfadedur</i>
<b>-t</b><i>times</i><br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; a choice of linear or exponential slopes at the beginning and
the end<br>
<b>2</b>&nbsp; a doubly exponential slope (steeper) is applied to the beginning
and the end<br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to dovetail<br>
<i>outfile</i> &#150; output (dovetailed) soundfile<br>
<i>infadedur</i> &#150; duration of the fade-in at the start of the file<br>
<i>outfadedur</i> &#150; duration of the fade-out at the end of the file<br>
	<blockquote>
	<i>infadedur</i> and <i>outfadedur</i> must not overlap each other
	</blockquote>
<i>intype</i> &#150; envelope shape for the fade-in at the start of
the file<br>
	<blockquote>
	<i>intype</i> = <b>0</b>: <b>linear</b> fade<br>
	<i>intype</i> = <b>1</b>: <b>exponential</b> fade (the Default)
	</blockquote>
<i>outtype</i> &#150; envelope shape for the fade-out, at the end of
the file<br>
	<blockquote>
	<i>outtype</i> = <b>0</b>: <b>linear</b> fade<br>
	<i>outtype</i> = <b>1</b>: <b>exponential</b> fade (the Default)
	</blockquote>
<b>-t</b><i>times</i> &#150; identifies the type of time unit being used:
	<blockquote>
	<i>times</i> = <b>0</b>: times are in seconds (the Default)<br>
	<i>times</i> = <b>1</b>: times are in samples<br>
	<i>times</i> = <b>2</b>: times are in grouped-samples;  e.g., in
	stereo, each sample-pair counts as 1 item
	</blockquote>
</blockquote>

<h3>
Understanding the ENVEL DOVETAIL Process
</h3>

<blockquote>
<p>
This function provides a way to smooth the beginning and end of a
soundfile without having to create an envelope breakpoint file.  The
duration of the fade-in and fade-out can be short or long, with the
restriction that they must not overlap: i.e., their sum must not be
greater than the length of the soundfile.
</p>

<p>
The linear shape creates a steady rise and fall in amplitude, while
the (default) exponential shape is curved: slower and then speeding
up on the rise, faster and then slowing down on the fall.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
ENVEL DOVETAIL can be used to make a soundfile begin and end more
gradually if it is too abrupt or even has clicks at its edges.
</p>

<p>
On the other hand, you may want it slowly to emerge out of silence and
return to silence in a similar fashion.  This is easily done with
ENVEL DOVETAIL because the durations of the fades can be very long.
</p>
</blockquote>

<p>
End of ENVEL DOVETAIL<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="ENVTOBRK">ENVEL ENVTOBRK &#150; Convert a binary envelope file
to a (text) breakpoint envelope file
</h2>

<h3>
Usage
</h3>
<b>envel envtobrk</b> <i>inenvfile outbrkfile</i> [<b>-d</b><i>datareduce</i>]
<br>

<h3>
Parameters
</h3>

<blockquote>
<i>inenvfile</i> &#150; input binary envelope file<br>
<i>outbrkfile</i> &#150; output text breakpoint envelope file<br>
<b>-d</b><i>datareduce</i> &#150; weights in favour of the quantity or
the accuracy of the data written to the breakpoint file
(Range: 0 [quantity] to 1 [accuracy])
</blockquote>

<h3>
Understanding the ENVEL ENVTOBRK Function
</h3>

<blockquote>
<p>
Converts from binary envelope to text breakpoint envelope data.
</p>

<p>
The <i>datareduce</i> parameter enables you to reduce the amount of
data contained in the file.  A low value, such as 0.2 will keep most
of the data, while a high value such as 0.8 will lose most of the
data &#150; while trying to retain the basic shape of the envelope.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
ENVEL ENVTOBRK makes it possible to gain access to binary envelope data
so that it can be edited, printed, or used with another function which
uses a breakpoint file as input (such as pitch transposition).
</p>
</blockquote>

<p>
Also see: <a href="#BRKTOENV"><b>ENVEL BRKTOENV</b></a>
</p>

<p>
End of ENVEL ENVTOBRK<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="ENVTODB">ENVEL ENVTODB &#150; Convert a binary envelope file
to a (text) breakpoint envelope file with dB values
</h2>

<h3>
Usage
</h3>
<b>envel envtodb</b> <i>inenvfile outbrkfile</i> [<b>-d</b><i>datareduce]</i>
<br>

<h3>
Parameters
</h3>

<blockquote>
<i>inenvfile</i> &#150; input binary envelope file<br>
<i>outbrkfile</i> &#150; output text breakpoint file, with values
expressed in dB<br>
<b>-d</b><i>datareduce</i> &#150; weights in favour of the quantity or
the accuracy of the data written to the breakpoint file
(Range: 0 [quantity] to 1 [accuracy])
</blockquote>

<h3>
Understanding the ENVEL ENVTODB Function
</h3>

<blockquote>
<p>
This function converts a binary envelope file to a text breakpoint
envelope file with its values expressed in dB.  Bear in mind that 0.0dB
represents full volume, so the numbers in the dB file ought to be
negative.  A positive value indicates a boosting of the original
level (care!).
</p>

<p>
See the <a href="cgroinfo.htm#UNITSGAINS">Gain - dB Chart</a> for
orientation regarding the aural significance of dB values.
</p>

<p>
The <i>datareduce</i> parameter enables you to reduce the amount of
data contained in the file.  A low value, such as 0.2 will keep most
of the data, while a high value such as 0.8 will lose most of the
data &#150; while trying to retain the basic shape of the envelope.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
If you prefer to enter mixfile amplitude data in dB, using ENVEL ENVTODB
can provide experience in relating dB values to what you hear in various
sounds.
</p>
</blockquote>

<p>
Also see: <a href="#DBTOENV"><b>ENVEL DBTOENV</b></a>
</p>

<p>
End of ENVEL ENVTODB<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="EXTRACT">ENVEL EXTRACT &#150; Extract the amplitude envelope
from an input soundfile
</h2>

<h3>
Usage
</h3>
<b>envel extract 1 </b> <i>infile outenvfile</i> <i>wsize</i><br>
<b>envel extract 2 </b> <i>infile outbrkfile</i> <i>wsize</i>
[<b>-d</b><i>datareduce</i>]<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; extract envelope, creating a binary envelope file<br>
<b>2</b>&nbsp; extract envelope, creating a (text) breakpoint file
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile<br>
<i>outenvfile</i> &#150; output binary envelope file created in
Mode <b>1</b><br>
<i>outbrkfile</i> &#150; output (text) breakpoint envelope file
containing <i>time gain</i> values created in Mode <b>2</b><br>
<i>wsize</i> &#150; enveloping window: time resolution in milliseconds
over which to average amplitude data (Range: 5 to length of <i>infile</i>)<br>
<b>-d</b><i>datareduce</i> &#150; weights in favour of the quantity or
the accuracy of the data written to the breakpoint file
(Range: 0 [quantity] to 1 [accuracy])<br>
</blockquote>

<h3>
Understanding the ENVEL EXTRACT Function
</h3>

<blockquote>
<p>
The envelope of a soundfile charts its rise and fall in amplitude over
time.  It is the overall, usually fairly coarse, shape we see in the 
standard time-amplitude waveform display of a soundfile.  Only at the 
very smallest scale to we see the signal continually rising above and 
falling below the zero line, showing instantaneous change in the 
amplitude of the signal and defining its waveshape.  The total span 
of this rise and fall from the peak above zero to the trough below 
zero tells us something about the loudness of the signal at that moment. 
</p>

<p>
If we chart how this total span changes over time, we get an idea of 
how the loudness of the sound varies over time.  When we see a graphic 
display of a waveform at a coarser scale, the instantaneous up and 
down motion of the amplitude cannot be seen.  What we do see is a kind 
of block representation of the signal, whose variation in width (top 
to bottom) gives an indication of the changing loudness, or envelope, 
of the sound.
</p>

<p>
The fineness or degree of resolution of the amplitude envelope extracted 
from the sound or as defined in a breakpoint file is determined by the 
<i>windowsize</i> parameter.  This is the amount of time between 
measurements of the waveform's amplitude.  The minimum value 
here is 5 milliseconds, i.e., every 200<sup><small>th</small></sup> 
of a second.  Thus, at a sample rate of 44100 per second, an amplitude 
value is registered every 220.5 samples &#150; and whatever 
changes in amplitude happen between these points <i>are not 
registered</i>.
</p>

<p>
A resolution of 5 milliseconds is considered to be rather 'fine' and 
even coarser values can be adequate.  It depends on the nature of 
the sound, and this is what you must consider when you set the 
<i>windowsize</i>.  If you have a sound that tremolos through a 
crescendo, for example, a small <i>windowsize</i> will track the 
undulations of the tremolo as well as the crescendo.  A larger 
<i>windowsize</i> will see the crescendo but ignore the tremolo 
fluctuations.  Which <i>windowsize</i> you choose will depend on 
what musical information you want to extract from the source sound.
</p>

<!-- 
ENVEL EXTRACT goes through the soundfile and extracts the
amplitude data according to the timing resolution you specify, i.e.,
between every <i>wsize</i> time point.
TW : sentence above 'It is the shape we see ...'. This is misleading.
TW : if you look at a time-amplitude display of a waveform, at the
TW : smallest scale, the signal continually rises above and then falls below
TW : the zero line. This is the INSTANTANEOUS change in amplitude of the
TW : signal, and defines its waveshape. THe total span of this rise and fall
TW : (From the peak above zero to the trough below zero) tells us something
TW : about the loudness of the signal at that moment. If we chart how this
TW : total span changes over time, we get an idea of how the loudness
TW : of the sound varies over time. When we see a graphic display of a
TW : waveform at a coarser scale, the instantaneous up and down motion
TW : of the amplitude cannot be seen. We see a kind of block representation
TW : of the signal, whose variation in width (top to bottom) gives an
TW : indication of the changing loudness, or envelope, of the sound.
TW :
TW : IT might be useful to add the following.
TW : The windowsize parameter is important. If you have a sound
TW : which tremolos through a crescendo, a small window size
TW : will track the undulations of the tremolo (as well as the
TW : crescendo). A larger window size will see the crescendo
TW : but ignore the tremolo fluctuations. Which window size
TW : you choose will depend on what musical information you
TW : want to extract from the source sound.
</p>
 -->

<p>
The <i>datareduce</i> parameter enables you to reduce the amount of
data contained in the file.  A low value, such as 0.2 will keep most
of the data, while a high value such as 0.8 will lose most of the
data &#150; while trying to retain the basic shape of the envelope.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
Extracting the envelope is a preliminary step for several operations,
such as imposing it on a different soundfile (<a href="#IMPOSE"><b>ENVEL
IMPOSE</b></a>) or using it as a breakpoint input for the parameter of some
other function altogether.  In this case, you may find you have too
much data, so you may need to extract the envelope again, using a
<i>datareduce</i> value &#150; or go straight to BRKEDIT (if you have
a Windows 95 system), where there is a 'Reduce' option.
</p>

<p>
BRKEDIT can also be useful to alter the vertical range of the breakpoint
file to suit a given parameter, or to adjust the overall duration of the
breakpoint file to match the length of a different sound.
</p>

<p>
Re-using envelope data in a variety of contexts is one of the key tools
for creating unity by means of aural cross-references, sometimes overt
and sometimes only very subtly present to the ear.
</p>
</blockquote>

<p>
End of ENVEL EXTRACT<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ********************************************************** -->
<h2 id="FLATTEN">FLATTEN &#150; Equalise level of sound elements</h2>

<h3>
Usage
</h3>
<b>flatten flatten</b> <i>infile outfile elementsize shoulder</i> [<b>-t</b><i>tail</i>]
<br />

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile (MONO)<br />
<i>outfile</i> &#150; output soundfile (MONO)<br />
<i>elementsize</i> &#150; approx size of elements (e.g. syllables) in source. (Range: 0.001 to 100).<br />
<i>shoulder</i> &#150; rise time in segment to changed level (mS). (Range: 20 to <i>elementsize</i>/2) <br> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
It will never be longer than the distance from the segment edge to its peak.<br />
<b>-t</b><i>tail</i> &#150; portion of the end of the sound to be treated as a whole segment. (Range: 0 to < duration)<br />
</blockquote>

<h3>
Understanding the FLATTEN Process
</h3>

<blockquote>
<p>
FLATTEN aims to even out the peaks in the sound to the same level. It is advisable to set the rise time (<i>shoulder</i>) to the minimum value at first and increase it gradually to an acceptable output level, which gets progressively quieter. 
</p><p>
A common CDP Error message is "Minimum window not set", as if there is a missing parameter (there isn't). 
</p><p>
There is already a CDP function to flatten the envelope: see ENVEL WARP 7, though this is not as effective as FLATTEN for vocal sounds.
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
End of FLATTEN
<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index

</p>



<hr><!-- ****************************************************** -->

<h2 id="GAINTODB">ENVEL GAINDODB &#150; Convert a (text) breakpoint file
with gain (0 to 1) values to dB values
</h2>

<h3>
Usage
</h3>
<b>envel gaintodb</b> <i>brkfile out_db_brkfile</i><br>

<h3>
Parameters
</h3>

<blockquote>
<i>brkfile</i> &#150; input <i>time gain</i> envelope text breakpoint file<br>
<i>out_db_brkfile</i> &#150; output <i>time dB</i> envelope text
breakpoint file<br>
</blockquote>

<h3>
Understanding the ENVEL GAINTODB Function
</h3>

<blockquote>
<p>
ENVEL GAINTODB makes the conversion between these two text data formats,
from gain to dB.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
The conversion may be made for educational purposes, or to provide
values relevant for expressing amplitude in dB in mixfiles.
</p>
</blockquote>

<p>
Also see: <a href="#DBTOGAIN"><b>ENVEL DBTOGAIN</b></a>
</p>

<p>
End of ENVEL GAINTODB<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="IMPOSE">ENVEL IMPOSE &#150; Impose an envelope on an input
soundfile
</h2>

<h3>
Usage
</h3>
<b>envel impose 1</b> <i>input_sndfile imposed_sndfile outsndfile wsize</i><br>
<b>envel impose 2</b> <i>input_sndfile imposed_envfile outsndfile</i>
	<blockquote>
	In Modes <b>1</b> and <b>2</b> the whole soundfile is enveloped.
	</blockquote>
<b>envel impose 3</b> <i>input_sndfile imposed_brkfile outsndfile</i><br>
<b>envel impose 4</b> <i>input_sndfile imposed_brkfile_dB outsndfile</i>
	<blockquote>
	In Modes <b>3</b> and <b>4</b> the breakpoint data may begin
	(and end) at any point in the file, effectively editing it &#150;
	but there must be at least 2 breakpoint pairs in the file.
	</blockquote>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Extract an envelope from another soundfile and impose it on
<i>input_sndfile</i><br>
<b>2</b>&nbsp; Impose an envelope from a binary envelope file<br>
<b>3</b>&nbsp; Impose an envelope from a (text) breakpoint file<br>
<b>4</b>&nbsp; Impose an envelope from a (text) breakpoint file with dB values<br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>input_sndfile</i> &#150; input soundfile on which to impose the
envelope<br>
<i>imposed_sndfile</i> &#150; soundfile from which to extract the
amplitude envelope<br>
<i>imposed_envfile</i> &#150; envelope to impose is contained in a
binary envelope file<br>
<i>imposed_brkfile</i> &#150; envelope to impose is contained in a
(text) <i>time value</i> breakpoint file (Range of <i>value</i> is
0 to 1)<br>
<i>imposed_brkfile_dB</i> &#150; envelope to impose is contained in a
(text) <i>time dB_value</i> breakpoint file (Range of <i>dB_value</i>
is -96 to 0)
	<blockquote>
	<b>NB:</b> Put only the dB value in the file, without the
	letters 'dB' &#150; e.g., '-6', not '-6dB'.
	</blockquote>
<i>outsndfile</i> &#150; output soundfile with new amplitude envelope<br>
<i>wsize</i> &#150; enveloping window: time resolution in milliseconds
over which to average amplitude data (Range: 5 to length of
<i>imposed_sndfile</i>)<br>
</blockquote>

<h3>
Understanding the ENVEL IMPOSE Process
</h3>

<blockquote>
<p>
This is the matching function for <a href="#EXTRACT">ENVEL EXTRACT</a>, which
extracts an envelope from a soundfile, saving it as a binary (Mode 1) or
breakpoint (Mode 2) file.
</p>

<p>
For convenience, ENVEL IMPOSE can extract an envelope directly from a
soundfile (Mode 1) as well as imposing envelopes from existing binary
or breakpoint files.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
Mode <b>3</b> can be very useful when you would like to fine-tune the
envelope of a soundfile with a breakpoint envelope file you have written
yourself, e.g., to soften or sharpen an attack, or some other portion of
the soundfile.  Sometimes you may need a customised result which the
other more generalised envelope shaping functions (such as DOVETAIL)
do not provide.
</p>

<p>
Another key application is to impose a changing envelope
onto a soundfile which has a fairly steady-state envelope.  In this way,
for example, a bubbling stream of water can be made to pulse to the
rhythm of spoken words.  Similarly, a given sound can acquire the
amplitude shape of some other specific sound, thus blending features of
the two sounds.  This is all part of creating relationships among sonic
data.
</p>

<p>
Note that this deals with amplitude only.  It is quite a different matter
to extract and impose timbral envelopes, because then the tonal
characteristics are moved.  See the <a href="cformant.htm">Formants Group
</a> in the spectral dimension.
</p>

</blockquote>

<p>
Also see: <a href="#EXTRACT"><b>ENVEL EXTRACT</b></a>,
<a href="#REPLACE"><b>ENVEL REPLACE</b></a>, <a href="#REPLOT"><b>ENVEL REPLOT</b></a>,
<a href="#RESHAPE"><b>ENVEL RESHAPE</b></a> and <a href="#WARP"><b>ENVEL WARP</b></a>.
</p>

<p>
End of ENVEL IMPOSE<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="PLUCK">ENVEL PLUCK &#150; Pluck the start of a sound (Mono files
only)
</h2>

<h3>
Usage
</h3>
<b>envel pluck</b> <i>infile outfile startsamp wavelen</i>
[<b>-a</b><i>atkcycles</i>]  [<b>-d</b><i>decayrate</i>]<br>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to pluck<br>
<i>outfile</i> &#150; output soundfile with pluck effect<br>
<i>startsamp</i> &#150; the sample in <i>infile</i> at which the
pluck is to end:  <b>it must be at a zero crossing</b>;  this is
also where <i>wavelen</i> begins.  Zero crossings can be seen in
VIEWSF.<br>
<i>wavelen</i> &#150; the number of (absolute) samples in the wavelength
of the pluck effect;  its value is the number of samples in a waveform
starting at <i>startsamp</i> in the <i>infile</i> &#150; see below!
(Range: 4 to 2205)<br>
<b>-a</b><i>atkcycles</i> &#150; the number of wavecycles in the pluck
attack (Range: 2 to 32767; the Default is 32)<br>
<b>-d</b><i>decayrate</i>&#150; rate of decay of the pluck effect
(Range: 1 [slow] to 64 [fast];  the Default is 48)<br>
</blockquote>

<h3>
Understanding the ENVEL PLUCK Process
</h3>

<blockquote>
<p>
Although similar to ENVEL ATTACK, ENVEL PLUCK differs in that the attack
imposed on the soundfile also has the noise and decay characteristics
associated with plucked sounds.
</p>

<p>
To pluck the sound, ENVEL PLUCK creates a 'pluck' constructed from a
number of wavecycles and splices it into the beginning of the sound.
To achieve this, it needs a goal wavecycle to pluck towards:  this
is located at <i>startsamp</i>.
</p>

<p>
We can get an idea of what is going on here by reviewing how the
Karplus-Strong pluck algorithm used in <i>Csound</i> works.  It achieves
a pluck effect by iteratively filtering a block of noise until it
becomes pitched.  It does this because noise components are an
essential ingredient of a plucked sound.
</p>

<p>
ENVEL PLUCK achieves the same effect by working backwards &#150;
backwards because it is starting with an existing sound.  The process
is to repeat <i>wavelen</i> backwards a number of times towards the
beginning of the soundfile, becoming noisier as it goes.
	<ul>
	<li><i>startsamp</i> is where the pluck effect links into the
	sound.  It will usually be a little after the beginning of the
	sound, not at the very beginning, because we want the pluck to
	link smoothly into stable signal.  So we look for a fairly
	regular waveform close to the beginning of the sound, from
	the first positive sample after a zero crossing to the last
	negative sample before the next zero crossing.  The sample count
	of the 'first positive sample' is <i>startsamp</i>.</li>

	<li><i>wavelen</i> is the number of samples between <i>startsamp</i>
	and the 'last negative sample', i.e., the number of samples in
	the 'fairly regular waveform' you've identified.</li>

	<li><i>atkcycles</i> is the number of cycles of <i>wavelen</i> to
	use for the pluck.  The Default is 32, but the max is very high:
	32767.  Be careful about values much beyond 128:  you may introduce
	a prolonged sustain into the sound.</li>

	<li><i>decayrate</i> specifies the rate at which the pluck effect
	will decay.  The default is a fairly high 48, but can be made
	slower (&lt; 48 &#150; the pluck-noise lasts longer) or quicker
	(&gt; 48 &#150; the pluck-noise fades away very quickly).</li>
	</ul>
</p>

<p>
The order of events looks like this:
	<blockquote>
	Start of sound ... <i>atkcycles</i> of pluck ending at ...
	<i>startsamp</i>, which is also where a 'fairly regular
	waveform' begins, extending for <i>wavelen</i> samples.
	The pluck effect is built out of this specified waveform.
	</blockquote>
</p>

<p>
If your waveform display program does not show both time and sample
count, you can convert between them with SNDINFO SMPTIME and SNDINFO
TIMESMP.
</p>

<p>
If the <i>infile</i> has a gradual attack transient, it is possible that
the added pluck noise component may fade before the amplitude of the
sound reaches a matching level, thus leaving a hole.  This can perhaps be
mitigated by having a modest wavelength (less than 1000), not too many
attack cycles (e.g., 100 or less) and a slow decay rate (e.g., 2) &#150;
depending on what works for that sound.  Additional strategies may be
to cut out the new pluck section and then join it to the rest of the
sound with MORPH BRIDGE or MORPH MORPH.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
The pluck effect relates to a specific technique used with stringed
instruments, whether standard 'picking' on guitar&#47;mandolin type
instruments, or 'pizzicato' on orchestral strings.  The noise
component is an essential part of this type of sound, making it
different from a sharp attack, although this can also introduce
timbral components, especially on brass instruments.
</p>

<p>
The attack part of a sound is one of the key means of identifying the
source of a sound, so altering the attack implies playing with the
perception of the source, as well as simply intensifying the onset
of the sound.
</p>

<p>
I seemed to get the best results with a rather long <i>wavelen</i>
(several wavecycles of <i>infile</i>, a modest number of repeats
(<i>atkcycles</i>), and the slowest <i>decayrate</i> (1).  Even so,
the effect was not like a stringed instrument, but rather like a
tap on a tambourine:  there seems to be more noise than tuning in
the pluck portion of the new sound.  If you want to achieve the
sound of a plucked string instrument, I would recommend that you
use <b>pluck</b> in <i>Csound</i>.[Ed.]
</p>

<p>
Also see <a href="chilite.htm#PLUCK"><b>HILITE PLUCK</b></a> in the
spectral dimension.
</p>
</blockquote>

<p>
End of ENVEL PLUCK<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="REPLACE">ENVEL REPLACE &#150; Replace the existing envelope of
a soundfile with a different envelope
</h2>

<h3>
Usage
</h3>
<b>envel replace 1</b> <i>input_sndfile replacing_sndfile outsndfile
wsize</i><br>
<b>envel replace 2</b> <i>input_sndfile replacing_envfile outsndfile</i><br>
<b>envel replace 3</b> <i>input_sndfile replacing_brkfile outsndfile</i>
<i>wsize</i><br>
<b>envel replace 4</b> <i>input_sndfile replacing_brkfile_dB outsndfile</i>
<i>wsize</i><br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Replaces envelope with a new one extracted from another soundfile<br>
<b>2</b>&nbsp; Replaces envelope with a new one from a binary envelope file<br>
<b>3</b>&nbsp; Replaces envelope with a new one from a (text) breakpoint file<br>
<b>4</b>&nbsp; Replaces envelope with a new one from a (text) breakpoint file
with dB values
	<blockquote>
	In all cases the entire soundfile is enveloped.
	</blockquote>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>input_sndfile</i> &#150; input soundfile on which to impose the
envelope<br>
<i>replacing_sndfile</i> &#150; soundfile from which to extract the
amplitude envelope<br>
<i>replacing_envfile</i> &#150; envelope to impose is contained in a
binary envelope file<br>
<i>replacing_brkfile</i> &#150; envelope to impose is contained in a
(text) <i>time value</i> breakpoint file (Range of <i>value</i> is
0 to 1)<br>
<i>replacing_brkfile_dB</i> &#150; envelope to impose is contained in a
(text) <i>time dB_value</i> breakpoint file (Range of <i>dB_value</i>
is -96 to 0)<br>
<i>outsndfile</i> &#150; output soundfile with new amplitude envelope<br>
<i>wsize</i> &#150; enveloping window: time resolution in milliseconds
over which to average amplitude data (Range: 5 to length of
<i>replacing_sndfile</i>)
</blockquote>

<h3>
Understanding the ENVEL REPLACE Process
</h3>

<blockquote>
<p>
With ENVEL IMPOSE, the imposed envelope is imposed <b>on top of</b> any
existing envelope.  The result is the combination of the imposed
envelope and the existing envelope.
</p>

<p>
In contrast, ENVEL REPLACE attempts to <b>replace</b> the existing
envelope of the sound with the newly sampled envelope.  (To do this
it must start by flattening out the original envelope of the sound.)
</p>

<p>
Care!  If there are (near) zero amplitudes in the original sound,
it will not be possible to replace these meaningfully.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
The author observes that Mode <b>1</b> is useful for 'restoring the
amplitude contour of a sound after filtering with time-varying Q'.
In this case, the amplitude envelope of the <i>input_sndfile</i> is
extracted before applying time-varying Q.  It will then be 'in storage',
available, in this case, to be reapplied to the filtered sound in
order to restore the original amplitude contour.
</p>
</blockquote>

<p>
End of ENVEL REPLACE<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="REPLOT">ENVEL REPLOT &#150; Warp the envelope in a (text)
breakpoint envelope file
</h2>

<h3 align=center>
<a href="#WARPMODES">Modes</a>
</h3>

<h3>
Usage
</h3>
<b>envel replot 1&#150;12</b> <i>brkfile outbrkfile wsize
various_params</i> [<b>-d</b><i>reduce</i>]<br>
<b>envel replot 13</b> <i>brkfile outbrkfile rampfile wsize
various_params</i> [<b>-d</b><i>reduce</i>]<br>
<b>envel replot 14&#150;15</b> <i>brkfile outbrkfile wsize
various_params</i> [<b>-d</b><i>reduce</i>]<br>
<br>

	<blockquote>
	<i>wsize</i> &#150: enveloping window: time resolution in
	milliseconds over which to average amplitude data<br>
	<b>-d</b><i>reduce</i> &#150; forces interpolation of data in
	the breakpoint output file to reduce unnecessary data output.
	Range: 0 to 1.<br>
	<b>NB:</b> TRIGGER works best with ENV RESHAPE or ENV WARP.
	</blockquote>


<h2 id="RESHAPE">ENVEL RESHAPE &#150; Warp the envelope in a binary
envelope file
</h2>

<h3 align=center>
<a href="#WARPMODES">Modes</a>
</h3>

<h3>
Usage
</h3>
<b>envel reshape 1&#150;12</b> <i>envfile outenvfile various_params</i><br>
<b>envel reshape 13</b> <i>envfile outenvfile rampfile various_params</i><br>
<b>envel reshape 14&#150;15</b> <i>envfile outenvfile various_params</i><br>
<br>

<h2 id="WARP">ENVEL WARP &#150; Warp the envelope of a soundfile
</h2>

<h3 align=center>
<a href="#WARPMODES">Modes</a>
</h3>

<h3>
Usage
</h3>
<b>envel warp 1&#150;12</b> <i>sndfile outsndfile wsize various_params</i><br>
<b>envel warp 13</b> <i>sndfile outsndfile rampfile wsize various_params</i><br>
<b>envel warp 14&#150;15</b> <i>sndfile outsndfile wsize various_params</i><br>
<br>

	<blockquote>
	<i>wisize</i> &#150; the duration of the enveloping window, in
	milliseconds
	</blockquote>

<h3 id="WARPMODES">Modes
</h3>

<div align=center>
<table border=1 cellpadding=3 bgcolor="#B0E0E6">
<caption><b>The 15 Modes of ENVEL RESHAPE, REPLOT &amp; WARP</b></caption>

<tr>
<th align=center><a href="#1TO4"><b>Modes 1 &#150; 4</a></b></th>
<th align=center><a href="#5TO8"><b>Modes 5 &#150; 8</a></b></th>
<th align=center><a href="#9TO12"><b>Modes 9 &#150; 12</a></b></th>
<th align=center><a href="#13TO15"><b>Modes 13 &#150; 15</a></b></th>
</tr>

<tr>
<td><b>&nbsp;1 </b>NORMALISE</td>
<td><b>&nbsp;5 </b>LIFT</td>
<td><b>&nbsp;9 </b>INVERT</td>
<td><b>13 </b>TRIGGER</td>
</tr>

<tr>
<td><b>&nbsp;2 </b>REVERSE</td>
<td><b>&nbsp;6 </b>TIMESTRETCH</td>
<td><b>10 </b>LIMIT</td>
<td><b>14 </b>CEILING</td>
</tr>

<tr>
<td><b>&nbsp;3 </b>EXAGGERATE</td>
<td><b>&nbsp;7 </b>FLATTEN</td>
<td><b>11 </b>CORRUGATE</td>
<td><b>15 </b>DUCKED</td>
</tr>

<tr>
<td><b>&nbsp;4 </b>ATTENUATE</td>
<td><b>&nbsp;8 </b>GATE</td>
<td><b>12 </b>EXPAND</td>
<td><br></td>
</tr>

</table>
</div>
</p>

<blockquote>
<h3>
The Modes and their Parameters
</h3>

<dl id="1TO4">
<dt><b>1 NORMALISE</b> <dd>Expand envelope so that the highest envelope
point is at the maximum possible amplitude value.
	<blockquote>
	No other extra parameters are needed.
	</blockquote>

<dt><b>2 REVERSE</b> <dd>Reverse the envelope in time.
	<blockquote>
	No other extra parameters are needed.
	</blockquote>

<dt><b>3 EXAGGERATE</b> <dd>Exaggerate the envelope contour.  One other
parameter:
	<blockquote>
	<i>exaggerate</i> &#150; Range: &gt; 0.0<br>
	<b>&lt; 1</b>, low values are boosted<br>
	<b>= 1</b>, no change<br>
	<b>&gt; 1</b>, high values are boosted<br>
	<i>exaggerate</i> may vary over time
	</blockquote>

<dt><b>4 ATTENUATE</b> <dd>Reduce the amplitude of an envelope.  One other
parameter:
	<blockquote>
	<i>attenuation</i> &#150; multiplier by which to scale down
	the envelope.  Range: 0 to 1<br>
	<i>attenuation</i> may vary over time
	</blockquote>

<dt id="5TO8"><b>5 LIFT</b> <dd>Raise the envelope by a fixed amount.  One other
parameter:
	<blockquote>
	<i>lift</i> &#150; amount to add to each amplitude value.
	Range: 0 to 1<br>
	<i>lift</i> may vary over time
	</blockquote>

<dt><b>6 TIMESTRETCH</b> <dd>Stretch or compress an envelope in time.  One
other parameter:
	<blockquote>
	<i>timestretch</i> &#150; multiplier by which to stretch the
	envelope.  Range: &gt; 0.0<br>
	<b>&lt; 1.0</b> compresses the envelope in time<br>
	<b>= 1.0</b> no change<br>
	<b>&gt; 1.0</b> stretches the envelope in time
	</blockquote>


<dt><b>7 FLATTEN</b> <dd>Even out the envelope contour.  One other
parameter:
	<blockquote>
	<i>flatten</i> &#150; number of envelope values over which to
	average.  Range: 1 to 5000.<br>
	<i>flatten</i> may vary over time<br>
	Note that there is an envelope value for every segment of
	sound, and that this may be considerably more widely spaced
	than, for example, the control points specified by <i>ksmps</i>
	in a Csound orchestra (often set to 15 samples).
	</blockquote>


<dt><b>8 GATE</b> <dd>Zero lower portion of envelope.  Two other
parameters:
	<blockquote>
	<i>gate</i> &#150; levels less than <i>gate</i> are set to 0.
	Range: 0 to 1.<br>
	<i>smoothing</i> &#150; excises segments with an amplitude
	less than <i>smoothing</i>.  Range: 0 to 32767.<br>
	<i>smoothing</i> &lt; 0 turns off the smoothing effect.<br>
	<i>gate</i> may vary over time<br>
	</blockquote>

<dt id="9TO12"><b>9 INVERT</b> <dd>Turn envelope upside down:  negative values
become positive, and positive values become negative.  Two other
parameters:
	<blockquote>
	<i>gate</i> &#150; levels less than <i>gate</i> are set to 0.
	Range: 0 to &lt; <i>mirror</i>.<br>
	<i>mirror</i> &#150; reflection point:  all values other than
	those below <i>gate</i>, both above and below <i>mirror</i>,
	are inverted to the other side of <i>mirror</i>.  Range:
	&gt; <i>gate</i> to 1.<br>
	<i>gate</i> and <i>mirror</i> may vary over time
	</blockquote>


<dt><b>10 LIMIT</b> <dd>Squeeze down amplitude into a specified range.
Two other parameters:
	<blockquote>
	<i>limit</i> &#150; upper limit of range;  amplitude values which
	were above <i>limit</i> are scaled down such that 'maxamp' becomes
	<i>limit</i>.  Range: &gt; <i>threshold</i> to 1.<br>
	<i>threshold</i> &#150; lower limit of range; only values above
	<i>threshold</i> are affected.  Range: 0 to <i>limit</i>.<br>
	<i>limit</i> and <i>threshold</i> may vary over time
	</blockquote>


<dt><b>11 CORRUGATE</b> <dd>Tighten the peaks into close-set ridges by
taking troughs (downward dips) in the envelope to zero.  Two other
parameters:
	<blockquote>
	<i>trofdel</i> &#150; number of windows to set to zero per
	trough.  Range: 1 to &lt; <i>peak_separation</i>.<br>
	<i>peak_separation</i> &#150; minimum number of windows per
	peak.  Range: 2 to 32767.<br>
	<i>trofdel</i> and <i>peak_separation</i> may vary over time
	</blockquote>


<dt><b>12 EXPAND</b> <dd>Inflate the envelope.  Three other parameters:
	<blockquote>
	<i>gate</i> &#150; levels below <i>gate</i> are set to 0.  Range:
	0 to <i>threshold</i>.<br>
	<i>threshold</i> &#150; lower limit of range:  amplitude values
	that were above <i>gate</i> and below <i>threshold</i> are scaled
	up such that the minimum level becomes <i>threshold</i>.
	Range: <i>gate</i> to 1.<br>
	<i>smoothing</i> &#150; excises low-level segments which are
	less than <i>smoothing</i> windows in length.  Range: 0 to
	32767.  0 turns off the smoothing effect.<br>
	<i>gate</i> and <i>threshold</i> may vary over time
	</blockquote>


<dt id="13TO15"><b>13 TRIGGER</b> <dd>Create a new envelope of sudden <b>on</b> bursts,
triggered by the rate of rise of the current envelope.  Four other
parameters:
	<blockquote>
	<i>rampfile</i> &#150; your new breakpoint file for the
	(triggered) bursts<br>
	<i>gate</i> &#150; the average level must be above <i>gate</i>
	before triggering can occur.  Range: 0 to 1.<br>
	<i>rise</i> &#150; minimum loudness-step before
	triggering can occur.  Range: 0 to 1.<br>
	<i>dur</i> &#150; maximum duration over which the <i>rise</i> can
	take place before triggering can occur.  Range: must be &gt;= the
	envelope window duration.<br>
	<i>gate</i> may vary over time
	</blockquote>


<dt><b>14 CEILING</b> <dd>Force envelope up to its maximum level,
<b>everywhere</b>.  No other extra parameters needed.
	<blockquote>
	</blockquote>


<dt><b>15 DUCKED</b> <dd>Create 'ducking' envelope:  envelope kept
below a set level.  Two other parameters are needed:
	<blockquote>
	<i>gate</i> &#150; highest level allowed for the envelope.
	Range: 0 to 1.<br>
	<i>threshold</i> &#150; amplitude level the envelope must
	reach before 'ducking' is applied.  Range: 0 to 1.<br>
	<i>gate</i> and <i>threshold</i> may vary over time<br>

	<ul>
	<li><b>With envelope Warping:</b> When the input envelope level
	exceeds <i>threshold</i>, the output envelope is reduced to
	<i>gate</i> level.  Elsewhere it is unchanged.</li>
	<li><b>With envelope Reshaping or Replotting:</b> When the input
	envelope level exceeds <i>threshold</i>, the output envelope
	takes <i>gate</i> level.  Elsewhere, it gives unity gain (no
	change).</li>
	<li>This function can be used to create an envelope to apply to
	another sound which can then be mixed with the sound from which
	the original envelope was extracted.</li>
	</ul>
	</blockquote>

</dl>
</blockquote>

<h3>
Understanding the ENVEL RESHAPE, REPLOT &amp; WARP Processes
</h3>

<blockquote>
<p>
The envelope shaping routines for these three functions are identical.
Only the output to which the changes are applied differs.
</p>

<p>
Movement in time creates shapes.  Amplitude change plays a key role in
performance articulation and in the identification of sounds.  When we
hear the amplitude 'grow' as a soprano sings a glorious long tone, we
are aware of its amplitude 'envelope'.  When we hear the sharp 'report'
of a snare drum rimshot, we are aware of the 'attack transient' of the
sound: i.e., its very rapid rise in amplitude.  Voices rise and fall
in both pitch and amplitude.
</p>

<p>
ENVEL WARP is a way of working with the shape produced by the envelope
over the course of its whole duration.  If we think of it as made of
rubber, we can imagine it being pulled and stretched and squeezed.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
Amplitude envelope is an essential part of musical 'articulation' and
has a great bearing on emotional content.  These functions can be used
to increase contrasts and make the music 'vivid', or to reduce the
contrasts and 'tone down' the emotional effect.
</p>

<p>
On the other hand, the amplitude shape can be handled as an abstract
form which can be extracted from a sound, remoulded in some way,
and then applied to another sound or to some other musical data.  This
introduces a point of connection between different parts of the musical
material.  For example, we might hear an amplitude shape in the form
of a series of vocal bursts.  Then this same&#47;similar shape may
become audible in the form of a pitch transient (pitch glissando).
The musical principle is 'sameness and difference':  creating unity
amidst disparate material by introducing elements of sameness.
</p>
</blockquote>

<p>
End of ENVEL RESHAPE, REPLOT &amp; WARP<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="SCALED">ENVEL SCALED &#150; Impose an envelope on an input
soundfile, scaling it timewise to the sound's duration
</h2>

<h3>
Usage
</h3>
<b>envel scaled</b> <i>input_soundfile imposed_brkfile outsoundfile</i>
<br>

<h3>
Parameters
</h3>

<blockquote>
<i>input_soundfile</i> &#150; input soundfile to process<br />
<i>imposed_brkfile</i> &#150; breakpoint file describing the envelope
to impose: <i>time amplitude_value</i> pairs.  <b>Note that this is a
text, not a binary envelope file.</b>  <i>Times</i> can be over
any duration: e.g., 0 to 1, 0 to 10000 etc.  <i>Amplitude_values</i>
can go from 0 to more than 1.  Thus parts of the input sound can be
amplified, but take care: too much amplification may lead to
distortion.<br />
<i>outsoundfile</i> &#150; the output is a reshaped input<br />
	<blockquote>
	Must have at least 2 breakpoint pairs
	</blockquote>
</blockquote>

<h3>
Understanding the ENVEL SCALED Process
</h3>

<blockquote>
<p>
The main point here is that the times in the breakpoint file do 
not need to match the length of the input soundfile.  The breakpoint
file is therefore generic:  whatever its times, this function will
scale it to fit the length of the input sound.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
Because the <i>imposed_breakpoint</i> file needs to be a text file,
you can use <a href="#ENVTOBRK">ENVTOBRK</a> to convert a binary envelope
file extracted from a sound to a text breakpoint file.
</p>

<p>
This function can be convenient when you want to apply existing
envelope files to a given sound.  Sometimes it is useful to apply a
process to many sounds, slightly modifying that process to suit the
different durations of the source files. This is especially useful
when using BULK PROCESSING on the <i>Sound Loom</i>, so that new data
files do not need to be written for every single input source.
</p>

<p>
For example, a simple fade in, fade-out envelope could be
applied to hundreds of sounds of slightly different duration,
at a single BULK PROCESSING pass, using this process.
</p>
</blockquote>

<p>
End of ENVEL SCALED<br>
<a href="#ENVLIST">Return</a> to List of functions for interacting
spectra at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ========================================================================= -->
<h2 id="SPIKE">SPIKE &#150; Envelope the sound to spike at the peak</h2>

<h3>
Usage
</h3>
<b>spike spike</b> <i>infile outfile peak(s) upslope downslope</i> [<b>-m</b><i>maxup</i>] [<b>-d</b><i>maxdown</i>] [<b>-n</b>]


<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile.<br>
<i>outfile</i> &#150; output soundfile.<br>
<i>peak(s)</i>&#150; <b>either</b> a single time (single peak)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  
<b>or</b> &#150; a datafile of peak times, listed as trough-peak-trough triples (times). <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Adjacent troughs may be at the same time, but other times must advance.<br>
<i>upslope</i> &#150; power-value for slope of envelope before peak(s). (Range: 1 to 100)<br>
<i>downslope</i> &#150; power-value for slope of envelope after peak(s). (Range: 1 to 100)<br>
<b>-m</b><i>maxup</i> &#150; maximum duration of upward approach. (Range: 0 to 1 secs; 0 implies <b>no</b> maximum.)<br>
<b>-d</b><i>maxdown</i> &#150; maximum duration of downward approach. (Range: 0 to 1 secs; 0 implies <b>no</b> maximum.)<br>
<b>-n</b> &#150; Raise all peaks to that of maximum.
</blockquote>



<h3>
Understanding the SPIKE Process
</h3>

<blockquote>
<p>
SPIKE is a more pronounced version of <a href="#SWELL"><b>ENVEL SWELL</b></a>, spiking either at a single time, like SWELL, or at listed times. SPIKE adds controls for the up and down slope to and from the peak. If a single time is used, the whole sound will crescendo up to that time and decay after it. Multiple times should produce multiple spikes, but there are often silences at other times (to be investigated).
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
<b>SEE ALSO:</b> <a href="#SWELL"><b>SWELL</b></a>
</p>


<p>
End of SPIKE<br>
<a href="#ENVLIST">Return</a> to List of functions for interacting
spectra at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>



<hr><!-- ****************************************************** -->
<h2 id="SWELL">ENVEL SWELL &#150; Cause sound to fade in to and out from
a peak moment
</h2>

<h3>
Usage
</h3>
<b>envel swell</b> <i>infile outfile peaktime peaktype</i><br>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile<br>
<i>outfile</i> &#150; output soundfile<br>
<i>peaktime</i> &#150; time in <i>infile</i> at which the peak moment is
located<br>
<i>peaktype</i> &#150; type of swell shape:  <b>0</b> (linear) or
<b>1</b> (exponential &#150; the Default)<br>
</blockquote>

<h3>
Understanding the ENVEL SWELL Process
</h3>

<blockquote>
<p>
This is a generic envelope type which can be applied very easily by
specifying the time of the peak moment and the shape to be applied.
</p>

<p>
The peak moment (<i>peaktime</i>) can be the location of the maximum 
amplitude in the soundfile, which can be found with 
<a href="cgroinfo.htm#MAXSAMP">SNDINFO MAXSAMP</a>).  It could 
also be any other place in the file that you define.  For example, 
you can take a completely flat sound (in terms of loudness) and make 
it swell to a peak (at any point you want) and die away again.
</p>

<p>
The linear <i>peaktype</i> produces a less gradual fade.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
This function makes it easy to create an audible peak anywhere in a
soundfile, and implement a swell to and from it without having to
create a breakpoint file.
</p>
</blockquote>

<p>
<b>SEE ALSO:</b> <a href="#SPIKE"><b>SPIKE</b></a>
</p>

<p>
End of ENVEL SWELL<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="TIMEGRID">ENVEL TIMEGRID &#150; Partition a soundfile into
a sequence of 'windows' separated by silence
</h2>

<h3>
Usage
</h3>
<b>envel timegrid</b> <i>input_soundfile generic_outsoundfile_name
gridcount gridwidth splicelength</i>
<br>

<h3>
Parameters
</h3>

<blockquote>
<i>input_soundfile</i> &#150; soundfile from which to create the grid<br />
<i>generic_outsoundfile_name</i> &#150; root name for the several
output soundfiles, numbered 0 to <i>gridcount</i> - 1<br />
<i>gridcount</i> &#150; number of grids (and hence output files)<br />
<i>gridwidth</i> &#150; duration of grid windows, in seconds<br />
<i>splicelen</i> &#150; splice length, in milliseconds<br />
	<p>
	<blockquote>
	<i>gridwidth</i> and <i>splicelength</i> may vary over time
	</blockquote>
	</p>
</blockquote>

<h3>
Understanding the ENVEL TIMEGRID Process
</h3>

<blockquote>
<p>
Imagine you have a regular fence composed of uprights separated by 
gaps.  If you look through the fence, the view will be broken up into 
vertical slices, with the bits inbetween hidden by the fence posts.  
If you move slightly to your right you will see a different set 
of vertical slices of the view beyond the fence.  Move a little more, 
and you will see the original view again, as the N+1<sup><small>
th</small></sup> fencepost blocks the same bits of the view as was 
previously blocked by the N<sup><small>th</small></sup> fencepost.
</p>

<p>
ENVEL TIMEGRID therefore creates a series of 'views' of a sound 
as if seen through a fence (or mask).  Where the fence-posts 
block our 'view', there is only silence.
</p>

<p>
To illustrate this we can set ENVEL TIMEGRID to use 2 grids 
(<i>gridcount</i> = 2) and a <i>gridwidth</i> of 0.5 seconds:
<pre>
<font color="#FF0000">At Time     Grid number 1 has              Grid number 2 has</font>
0.0 - 0.5   see the SIGNAL                 signal replaced by silence
0.5 - 1.0   signal replaced by silence     see the SIGNAL
1.0 - 1.5   see the SIGNAL                 signal replaced by silence
1.5 - 2.0   signal replaced by silence     see the SIGNAL
ETC
</pre>
If we mix these two grids, we reconstitute the original sound.
</p>

<p>
with 3 grids (<i>gridcount</i> = 3) and a <i>gridwidth</i> of 0.5 
seconds, we have:
<pre>
<font color="#FF0000">At Time     Grid 1 has        Grid 2 has       Grid 3 has</font>
0.0 - 0.5   see SIGNAL        silence          silence
0.5 - 1.0   silence           see SIGNAL       silence
1.0 - 1.5   silence           silence          see SIGNAL
1.5 - 2.0   see SIGNAL        silence          silence
1.5 - 2.0   silence           see SIGNAL       silence
ETC
</pre>
If we mix these three grids, we reconstitute the original sound.
</p>

<p>
The movement in and out of silence is controlled by the length of
the splice, so it could be abrupt or, if long, quite gradual.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
This function, therefore, partitions a sound into a number of
grids.  Each grid is like the sound seen through a 'fence' with
regular gaps. Were we to mix these output sounds together, all
starting at time 0, the original sound would be reconstituted.
We could also mix them together in a different order.  And
if we made several of these grids from different sounds
(with the same grid distance in time, i.e., <i>gridwidth</i>),
they could be be mixed together to form hybrid sounds.
</p>

<p>
ENVEL TIMEGRID is a new take on the idea of segmentation.  What 
is original is that separate soundfiles are formed.  The length 
of the segments (<i>gridwidth</i>) are user-defined, but you 
probably get the most interesting results when they are very short.  
With a mixing operation, with <a href="cgromixr.htm#MIX">SUBMIX 
MIX</a> (MIXFILES) or with an audio sequencer, the segments from
the same <b>or different</b> sounds can be reassembled, creating
strange hybrids, or collage effects if the segments are fairly 
long.
</p>

<p>
Note that there are various parameters involved in exploring and 
fine-tuning the results:
	<ul>
	<li>you can use just one soundfile and create staccato or 
	stuttering effects</li>
	<li>you can repeat ENVEL TIMEGRID with more soundfiles, 
	creating grids from several soundfiles that can be mixed, 
	and the order of these files in the mix can varied</li>
	<li><i>gridcount</i> &#150; the number of output soundfiles 
	from each input soundfile that you can put into the mix</li>
	<li><i>gridwidth</i> &#150; the temporal width of the grid, 
	which can be different for each input sound that you use, or 
	could also vary over time(!)</li>
	<li><i>spliclen</i> &#150; which can be sharper or more 
	gradual, adjusted in an appropriate way to <i>gridwidth</i> 
	or also vary over time</li>
	<li><i>starttime</i> &#150; the soundfile start times in the 
	<i>mixfile</i>;  they may be synchronous or offset by varying 
	amounts</li>
	</ul>
As with many CDP programs, therefore, there are many possibilities to 
explore.
</p>

<p>
Finally, bear in mind that <a href="cgromixr.htm#DUMMY">SUBMIX 
DUMMY</a> can help you to create a <i>mixfile</i> from the outputs 
of ENVEL TIMEGRID very quickly.  You just submit your list of 
soundfiles to SUBMIX DUMMY and it creates a basic <i>mixfile</i> 
that you can edit.  In <i>Sound Loom</i> the process can be even 
quicker, because you can select all the files you want in the mix 
in CHOSEN FILES mode, go straight to SUBMIX DUMMY and create the 
<i>mixfile</i>.
</p>
</blockquote>

<p>
End of ENVEL TIMEGRID<br>
<a href="#ENVLIST">Return</a> to List of functions for interacting
spectra at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="TOPANTAIL2">TOPANTAIL2 &#150; Fade both the beginning and end of a sound
</h2>

<h3>
Usage
</h3>
<b>topantail2 topantail</b> <i>insndfile outsndfile startgate endgate</i> [<b>-s</b><i>splicelen</i>] [<b>-b</b><i>backtrack</i>] 

<br />

<p>
Example command line:<br>
	<blockquote>
	<b><code>topantail2 topantail insnd.wav outsnd.wav 0.035 0.035 -s25 -b200</code></b>
	</blockquote>
</p>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile</i> &#150; input mono soundfile<br />
<i>outsndfile</i> &#150; output soundfile<br />
<i>startgate</i> &#150; level at start before which sound is to be removed.  (Range: 0 to 1, Default: 0.001)<br />
<i>endgate</i> &#150; level at end after which sound is to be removed.  (Range: 0 to 1, Default: 0.001)<br />
<b>-s</b><i>splicelen</i> &#150; splice length in milliseconds<br />
<b>-b</b><i>backtrack</i> &#150; backtrack in time from the initial gate point(found by the program) to an earlier splice point, in milliseconds
</blockquote>

<h3>
Understanding the TOPANTAIL2 Process
</h3>

<blockquote>
<p>
TOPANTAIL2 provides another approach to extracting part of a soundfile by using gate levels.  
In this case it trims away signal before and after the extracted portion.  
The 'backtracking' function moves the initial cut 
point earlier in the sound, thus retaining some of the sound which may 
be below the <i>startgate</i>'s level.
</p>

<p>
TOPANTAIL2 is designed both to deal with low-level noise and to aid the synchronisation of sounds in a mixfile.  As such it is both an extension of <a href = "cgroenvl.htm#DOVETAIL">ENVEL DOVETAIL</a> and a replacement for <a href = "cgrohous.htm#EXTRACT">HOUSEKEEP EXTRACT</a>.  The latter cuts out soundfile before and after good signal.  (It also has a backtracking facility, but also a more complex command line.)
</p>

<p>
When low-level noise is present, a useful value to try for <i>startgate</i> and <i>endgate</i> is 0.1.  The aim here is to remove level below this level while capturing the beginning of strong signal at the start of the sound.  The fade-in is present so that some soundfile remains before this first strong signal, soundfile into which one can backtrack in time.  One result of this is that the start of the sound, e.g., a vocal sound, will be more natural.  Some sounds begin very quietly before rising to an acceptable signal level, as set by <i>startgate</i>, but removing this may make the beginning of the sound more abrupt than expected &#150; the ears are very sensitive instruments!  The backtracking enables you to keep this very quiet portion of the sound.
</p>

<p>
If you then set <i>backtrack</i> to e.g., 250ms, the sound will be cut 250ms <b>before</b> the good signal starts, not <b>when</b> it starts.  This enables you to set the start points of two sounds in a mixfile both to 0.0 while enabling them to synchronise their attacks.  If there is a latency in the beginning of the other sound, your backtracked sound will become audible at the same time while preserving its natural attack transient.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
The original purpose of TOPANTAIL2 was to enable the processes described above to become automated once the appropriate research into the behaviour of the sounds being used or that could be used had been completed.
</blockquote>

<p>
End of TOPANTAIL2<br>
<a href="#ENVLIST"><b>Return</b></a> to list of ENVEL functions at 
top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>


<hr><!-- ========================================================================= -->
<h2 id="TREMENV">TREMENV &#150; Tremolo a sound, with width narrowed after peak</h2>

<h3>
Usage
</h3>
<b>tremenv tremenv</b> <i>infile outfile frq depth winsize fineness</i>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150;input soundfile.<br>
<i>outfile</i> &#150; output soundfile.<br>
<i>frq</i> &#150; frequency of the tremolo. (Range: 0 to 500 Hz)<br>
<i>depth</i> &#150; depth of the tremolo. (Range: 0 to 1; default: 1)<br>
<i>winsize</i> &#150; size of window for envelope extraction. (Range: 1 to 40 mS)<br>
<i>fineness</i> &#150; squeeze width of the tremolo. (Range: 1 to 100, integer)
</blockquote>

<h3>
Understanding the TREMENV  Process
</h3>

<blockquote>
<p>
TREMENV is a variant of <a href=#TREMOLO-R7"><b>TREMOLO</b></a> (or <b>ENVEL TREMOLO</b>), in which the tremolo variation does not take effect until after the sound's peak amplitude.
</p><p>
Tremolo is a classic treatment, producing a cyclic amplitude variation.  It uses a built-in Low-Frequency Oscillator (LFO), set in the traditional manner by the size <i>depth</i> and rate (<i>frq</i>) of amplitude variation. Above about 20 Hz frequency, the cycles are perceived as a pitch. The <i>fineness</i>  parameter narrows the width of the tremolo, leaving gaps between the tremoloed segments.

</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
<b>SEE ALSO:</b> <a href="#TREMOLO-R7"><b>TREMOLO</b></a>
</p>

<p>
End of TREMENV
<br>
<a href="#ENVLIST"><b>Return</b></a> to list of ENVEL functions at 
top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>


<hr> <!-- ************************************************************* -->
<h2 id="TREMOLO">ENVEL TREMOLO &#150; Tremolo a sound
</h2>

<h3>
Usage
</h3>
<b>envel tremolo mode</b> <i>infile outfile freq depth gain</i><br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Interpolate linearly between frequencies in any frequency
breaktable (Default Mode)<br>
<b>2</b>&nbsp; Interpolate logarithmically (like pitch) &#150; take care with
zero frequencies
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile<br>
<i>outfile</i> &#150; output soundfile<br>
<i>freq</i> &#150; frequency of the tremolo (a low frequency
oscillation: Range: 0 to 500)<br>
<i>depth</i> &#150; frequency displacement of the oscillation (Range:
0 to 1; the Default is 0.250)<br>
<i>gain</i> &#150; the overall signal gain, or envelope (Range 0 to 1;
the Default is 1)
	<blockquote>
	<i>freq</i>, <i>depth</i> and <i>gain</i> may vary over time.
	</blockquote>
</blockquote>

<h3>
Understanding the ENVEL TREMOLO Process
</h3>

<blockquote>
<p>
'Tremolo' is a pulsation in the amplitude of a sound.  The frequency of the tremolo is the rate of the amplitude pulsation.  ('Vibrato' is
a frequency displacement.)
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
This technique is familiar to us as a feature of various singing styles, and also as a control available on synthesisers.
</p>

<p>
It can be used to enliven or enrich a sound, or to create more marked flutter effects, such as the 'flutter-tongue' technique on a wind instrument.
</p>
</blockquote>

<p>
<b>SEE ALSO</b>:<br> 
<a href=#TREMOLO-R7"><b>TREMOLO</b></a><br>
<a href="cgromody.htm#SHUDDER"><b>MODIFY SHUDDER</b></a><br> 
<a href="crepitch.htm#VIBRATO"><b>REPITCH VIBRATO</b></a> and<br> 
<a href="cstrange.htm#WAVER"><b>STRANGE WAVER</b></a>.
</p>


<p>
End of ENVEL TREMOLO<br>
<a href="#ENVLIST"><b>Return</b></a> to List of ENVELOPE functions
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a>
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr> <!-- ************************************************************** -->
<h2 id="TREMOLO-R7">TREMOLO &#150; Apply width-controlled tremolo to a soundfile
</h2>

<h3>
Usage
</h3>
<b>tremolo tremolo mode</b> <i>insndfile outsndfile frq depth gain fineness</i> 
<br />

<p>
Example command line to create TREMOLO:<br>
	<blockquote>
	<b><code>tremolo tremolo 1 insnd.wav outsnd.wav 4 0.6 1 40</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Interpolate linearly between frequencies in any frequency breaktable.  This is the Default.<br />
<b>2</b>&nbsp; Interpolate logarithmically (like pitch).  Take care with any zero frequencies.
</blockquote

<h3>
Parameters
</h3>

<blockquote>
<i>frq</i> &#150; frequency of the tremolo.  Range:  0 to 500<br />
<i>depth</i> &#150; depth of the tremolo.  Range:  0 to 1.  Default 1<br />
<i>gain</i> &#150; overall signal gain, or envelope.  Range:  0 to 1.  Default 1<br />
<i>fineness</i> &#150; squeeze the width of the tremolo:  an integer value &gt;= 1
	<blockquote>
	<i>frq</i>, <i>depth</i> and <i>gain</i> may vary over time.
	</blockquote>
</blockquote>

<h3>
Understanding the TREMOLO Process
</h3>

<blockquote>
This Release 7 <b>TREMOLO</b> function complements <a href = "#TREMOLO"><b>ENVEL TREMOLO</b></a>.  It applies tremolo to a soundfile with the added ability to narrow ('squeeze') the width of the tremolo segments.
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>

<p>
End of TREMOLO TREMOLO<br />
<a href="#ENVLIST"><b>Return</b></a> to list of ENVEL functions at 
top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>


<!-- ********************************************************** -->
  <div id = "footer">
   <p>
    <address>
    Last Updated 26 Apr 2023 for CDP8<br />
    Documentation: Archer Endrich<br />
    Revisions: Robert Fraser<br>
    All observations &amp; ideas for improvement appreciated<br />
    Composers Desktop Project Ltd<br />
    Email: cdpse9@gmail.com<br />
    &#169; Copyright 1998-2021 Archer Endrich &amp; CDP<br>
    </address>
   </p>
  </div>

</div> <!-- End of 'right' (contents) indentation -->

</body>

</html>
