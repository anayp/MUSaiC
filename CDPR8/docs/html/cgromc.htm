<!DOCTYPE html>
<html lang="en">
<!-- cgromc.htm  - MULTICHANNEL GROUP: HTML5 version -->
<html>

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>CDP MULTICHANNEL Functions</title>
<meta charset="UTF-8" />
	<link rel = "stylesheet"
	 type = "text/css"
	 href = "cdpmanshtml5.css" />
<link rel="icon"  href="images/cdp_favicon.ico">
    <style>
	a { text-decoration: none }
	a:hover { color:#FF3333;
          text-decoration: underline }          	
    </style>
</head>

<body>

<div id = "left"> <!-- Keep indexing on left ABOVE headlines so index goes to top of page -->

  <p>
  <div align = "center">
  <IMG SRC = "images/cdpcircs90.jpg"></a>
  </div>
  </p>

  <p>
  <nav>
  <dl>
  <dt><a href="ccdpndex.htm" Target="_top"><b>Main Index</b></a>
  <dt><a href="cgroundx.htm" Target="_top"><b>'Groucho' Index</b></a> 
  <dt><a href="filestxt.htm" Target="_blank"><b>File Formats</b></a>
  <hr>
  <dt><a href="#INTRO"><b>Introduction</b></a>
  <br><br>
  <dt><a href="#MCLIST"><b>INDEX</b></a>
  <br><br>
  <dt><b>Spatial/Chans:</b>  
  <dt>&nbsp;&nbsp;<a href = "#FRAMESHIFT"><b>FRAME SHIFT</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MCHANPAN"><b>MCHANPAN</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MCHSTEREO"><b>MCHSTEREO</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MTON"><b>MTON</b></a>
  <dt>&nbsp;&nbsp;<a href = "#PANORAMA"><b>PANORAMA</b></a>
  <br><br>
  <dt><b>Multi-Chan Mixing:</b>
  <dt>&nbsp;&nbsp;<a href = "#MULTIMIX"><b>MULTIMIX</b></a>
  <dt>&nbsp;&nbsp;<a href = "#NEWMIX"><b>NEWMIX</b></a>
  <dt>&nbsp;&nbsp;<a href = "#TANGGROUP"><b>TANGENT GRP</b></a>
  <dt>&nbsp;&nbsp;<a href = "#TRANGROUP"><b>TRANSIT GRP</b></a>
  <br><br>
  <dt><b>Multi-Chan Processes:</b>
  <dt>&nbsp;&nbsp;<a href="#BROWNIAN"><b>BROWNIAN</b></a>
  <dt>&nbsp;&nbsp;<a href="#CASCADE"><b>CASCADE</b></a>
  <dt>&nbsp;&nbsp;<a href="#CRUMBLE"><b>CRUMBLE</b></a>
  <dt>&nbsp;&nbsp;<a href="#CRYSTAL"><b>CRYSTAL</b></a>
  <dt>&nbsp;&nbsp;<a href = "#FLUTTER"><b>FLUTTER</b></a>
  <dt>&nbsp;&nbsp;<a href = "#FRACTURE"><b>FRACTURE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MCHZIG"><b>MCHZIG</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MCHANREV"><b>MCHANREV</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MCHITER"><b>MCHITER</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MCHSHRED"><b>MCHSHRED</b></a>
  <dt>&nbsp;&nbsp;<a href="#SPIN"><b>SPIN</b></a>
  <dt>&nbsp;&nbsp;<a href = "#STRANSMULTI"><b>STRANS</b></a>  
  <dt>&nbsp;&nbsp;<a href = "#TEXMCHAN"><b>TEXMCHAN</b></a>
  <br><br> 
  <b>Other Multi-Chan:</b><br> 
  <dt><a href="cmcrefmn.htm"><b>MULTI-CHAN TOOLKIT</b></a>
  <dt><a href="cgrogrns.htm#NEWTEX"><b>NEWTEX</b></a> 
  <dt><a href="cgrogrns.htm#WRAPPAGE"><b>WRAPPAGE</b></a>

  <hr>
  <dt><a href="#OVERVIEW"><b>OVERVIEW</b></a> 
  <dt><a href="#TECHNICAL"><b>M-C Setup</b></a>
  <dt><a href="cgromc.htm#MCMIXFILES"><b>M-C Mixfiles</b></a>


<!--
  <dt><a href="cgromc.htm#APPENDIX2"><b>M-C Inputs</b></a>
-->
  </dl>
  </p>

</div>  <!-- End of left index panel -->

<div id = "right"> <!-- Keep headlines here so index goes to top of page -->

   <div id = "head">

   <!-- 
   <p><IMG SRC="images/cdpcircs.jpg" align=left ALT="CDP circles logo"></a></p>
   -->
   <div align=center>
   <br>
   <img src="images/cdplogo2.jpg" ALT="CDP Logo">
   </div>

   <h1 align=center>
   CDP MULTI-CHANNEL Functions</h1>
   <h2 align=center><font color="#3366ff"> (with Command Line Usage)</font></h2>
   </div>  <!-- End of 'head' -->


<!-- ========================================================================= -->
<h2 align = "center" id="INTRO">Introduction </h2>
	<blockquote>
	<p>
	Unlike most other CDP process groups, there is no group program called 'MULTICHANNEL'.
	The functions listed below are all separate programs, except for
	the TANGENT and TRANSIT groups. There is also the <a href="cmcrefmn.htm">
	<b>MULTI-CHANNEL TOOLKIT</b></a> group of file-handling functions, documented
	separately. Various other multi-channel functions have also been documented elsewhere
	 and these are listed below under "Other Multi-Channel Processes". 
	<!--
	Finally, very many of the CDP soundfile processes now accept multi-channel input and these are listed in Appendix 2. -->
	</p>	

        <p>
	The multi-channel facilities described here generate and manipulate 
	multi-channel <b>wav</b> (or <b>aiff</b>) soundfiles. The (<i>N</i>) 
	channels of these files can be sent to (<i>N</i>) loudspeakers 
	arranged in an arc or a ring around the listener. <b>In the descriptions 
	and explanations given, a clockwise ring arrangement is assumed.</b> <br> 
	However, it is not essential. For example:
	<ul>
	<li>The loudspeakers can be arranged in any spatial location or 
	orientation desired.</li>
	<li>
	The output channels can be assigned to loudspeakers in any way desired.</li>
	<li>The output soundfile can be converted to an Ambisonic or 
	some other format, using the <a href = "cmcrefmf.htm"><b>Multi-channel Toolkit</b></a>.</li>
	</ul></p>

        <p>
	If you do not have a multi-channel soundcard or multiple speakers, there is
	still much that can be done with these programs. Many processes	distibute segments 	of sound over multi-channel space, but these channels can be split into separate 	files via <a href="cgrohous.htm"#CHANS><b>HOUSEKEEP CHANS 2</b></a> or 
	<a href="cmcrefmn.htm#CHANNELX"><b>CHANNELX</b></a> and re-combined by mixing or 	interleaving, via <a href="cmcrefmn.htm#CHANNELX"><b>INTERLX</b></a> or 
	<a href="cgromixr.htm#INTERLEAVE"><b>SUBMIX INTERLEAVE</b></a>. 
	</p>
	</blockquote>
<p>
ALSO SEE: <a href="#OVERVIEW"><b>OVERVIEW</b></a> of multi-channel 
facilities available via CDP.<br>
</p>

<!-- ========================================================================= -->
<h2 align = "center" id="MCLIST">Index of Multi-Channel functions</h2>

<em><b>All functions are separate stand-alone programs except those in the Tangent and Transit groups.</b></em>

<dl>
<dt><a href="#BROWNIAN"><b>BROWNIAN</b></a> <dd> Generate texture of sampled elements following brownian motion in pitch and space</dd>
<dt><a href="#CASCADE"><b>CASCADE</b></a> <dd> Successive segments are repeat-echoed, and the echosets are superimposed on the source</dd>
<dt><a href="#CRUMBLE"><b>CRUMBLE</b></a> <dd> Project segments spatially over progressively smaller groups of channels</dd>
<dt><a href="#CRYSTAL"><b>CRYSTAL</b></a> <dd> Generate sound-events based on the position of vertices of a crystal, then rotate the crystal in 3-D space</dd>
<dt><a href="#FLUTTER"><b>FLUTTER</b></a> <dd>Add multi-channel-distributed 
tremolo to a multi-channel file</dd>
<dt><a href="#FRACTURE"><b>FRACTURE</b></a> <dd>Disperse a mono signal into fragments spread over <i>N</i>-channel space</dd>
<dt><a href="#FRAMESHIFT"><b>FRAME SHIFT</b></a> <dd>Reorient or rotate a multi-channel file</dd>
<dt><a href="#MCHANPAN"><b>MCHANPAN</b></a> <dd>Pan sounds around a multi-channel space</dd>
<dt><a href="#MCHANREV"><b>MCHANREV</b></a> <dd>Create multi-channel Echoes or 
Reverb</dd>
<dt><a href="#MCHITER"><b>MCHITER</b></a> <dd>Iterate the input sound in a 
fluid manner, scattering around a multi-channel space</dd>
<dt><a href="#MCHSHRED"><b>MCHSHRED</b></a> <dd>Sound is cut into random segments 
which are then reassembled in random order within the original 
duration</dd>
<dt><a href="#MCHSTEREO"><b>MCHSTEREO</b></a> <dd>Combine stereo files in a multi-channel output</dd>
<dt><a href="#MCHZIG"><b>MCHZIG</b></a> <dd>Extend by reading back and forth 
in the soundfile, while panning to a new channel at each 'zig' or 
'zag'</dd>
<dt><a href="#MTON"><b>MTON</b></a> <dd>Create a multi-channel equivalent of a mono soundfile</dd>
<dt><a href="#MULTIMIX"><b>MULTIMIX CREATE</b></a> <dd>Create a multi-channel 
mixfile</dd>
<dt><a href="#NEWMIX"><b>NEWMIX</b></a> <dd>Mix from a multi-channel mixfile 
to give a multi-channel soundfile output</dd>
<dt><a href="#PANORAMA"><b>PANORAMA</b></a>
<dd>Distribute <i>N</i> source files in a panorama across a specified angle of a sound-surround loudspeaker array</dd>
<dt><a href="#SPINSTEREO"><b>SPIN STEREO</b></a> <dd> Spin a wide stereo image across stereo / multichannel space, with possible doppler-shift </dd>
<dt><a href="#SPINQUAD"><b>SPIN QUAD</b></a> <dd> Spin two wide stereo-images across a 5-channel-wide sound image, with possible doppler-shift </dd>
<dt><a href="#STRANSMULTI"><b>STRANS MULTI</b></a> <dd>Change the speed or pitch 
of a multi-channel sound, or add vibrato</dd><br />
<dt><a href="#TANGGROUP"><b>TANGENT GROUP:</b></a>
  <dt><a href="#ONEFILE"><b>TANGENT ONEFILE</b></a> <dd>Make a mixfile to play repeats of a mono soundfile along a tangent path</dd>
  <dt><a href="#TWOFILES"><b>TANGENT TWOFILES</b></a> <dd>Make a mixfile to play repeats of two synchronised mono soundfiles along a tangent path</dd>
  <dt><a href="#TANGSEQUENCE"><b>TANGENT SEQUENCE</b></a> <dd>Make a mixfile to play a sequence of mono soundfiles along a tangent path</dd>
  <dt><a href="#TANGLIST"><b>TANGENT LIST</b></a> <dd>Make a mixfile to play a sequence of mono soundfiles as listed in a textfile along a tangent path</dd>
<br>

<dt><a href="#TEXMCHAN"><b>TEXMCHAN</b></a> <dd>Create textures over a 
multi-channel frame</dd><br>
<dt><a href="#TRANGROUP"><b>TRANSIT GROUP:</b></a>
<br>
  <dt><a href="#SIMPLE"><b>TRANSIT SIMPLE</b></a> <dd>Place repetitions of a mono soundfile on a path <i>into</i> and <i>across</i> an 8-channel array</dd>
  <dt><a href="#FILTERED"><b>TRANSIT FILTERED</b></a> <dd>Place filtered repetitions of a mono soundfile on a path <i>into</i> and <i>across</i> an 8-channel array</dd>
  <dt><a href="#DOPPLER"><b>TRANSIT DOPPLER</b></a> <dd>Place pitch-shifted repetitions of a mono soundfile on a path <i>into</i> and <i>across</i> an 8-channel array, suggesting a doppler shift</dd>
  <dt><a href="#DOPLFILT"><b>TRANSIT DOPLFILT</b></a> <dd>Doppler effect on a path <i>into</i> and <i>across</i> an 8-channel array with filtering, to suggest greater distance</dd>
  <dt><a href="#TRANSEQUENCE"><b>TRANSIT SEQUENCE</b></a> <dd> Position a sequence of mono sounds (at least 3) on a path <i>into</i> and <i>across</i> an 8-channel array </dd>
  <dt><a href="#TRANLIST"><b>TRANSIT LIST</b></a> <dd> Position a sequence of mono sounds (at least 3), as listed in a textfile, on a path <i>into</i> and <i>across</i> an 8-channel array</dd>
<br>
<dt><b>OTHER MULTI-CHANNEL PROCESSES:</b>
<dt><a href="cmcrefmn.htm"><b>MULTI-CHANNEL TOOLKIT</b></a>
	<dd>Multi-Channel File Handling Functions </dd>
<dt><a href="cgrogrns.htm#NEWTEX"><b>NEWTEX</b></a> 
<dd>Generate a texture of grains made from a source sound or sounds</dd>
<dt><a href="cgrogrns.htm#WRAPPAGE"><b>WRAPPAGE</b></a> <dd>
<i>Brassage</i> on one or more sounds, with (moving) multi-channel output</dd><br /><br>

<dt><a href="#OVERVIEW"><b>OVERVIEW</b></a><dd>An overview of multi-channel 
facilities available via CDP</dd>
<dt><a href="#TECHNICAL"><b>Technical Discussion</b></a><dd>On setting up a multi-channel 
composing environment</dd>
<dt><a href="#MCMIXFILES"><b>Appendix 1: M-C Mixfiles</b></a><dd>MULTIMIX and multi-channel 
mixfiles</dd>
<!--
<dt><a href="#APPENDIX2"><b>Appendix 2</b></a><dd>CDP processes accepting multi-channel input</dd>
-->
</dl>

<hr><!-- ************************************************ -->
<h2 id="BROWNIAN">BROWNIAN &#150; Generate texture of sampled elements following brownian motion in pitch and space</h2>

<h3>
Usage
</h3>
<b>brownian motion 1</b> <i>fi fo chans dur att dec plo phi pstart sstart step sstep tick seed</i> [<b>-a</b><i>arange</i>] [<b>-m</b><i>minamp</i>] [<b>-s</b><i>aslope</i>] [<b>-d</b><i>dslope</i>] [<b>-l</b>]<br />
OR<br />
<b>brownian motion 2</b> <i>fi fo chans dur plo phi pstart sstart step sstep tick seed</i> [<b>-a</b><i>arange</i>] [<b>-m</b><i>minamp</i>] [<b>-l</b>]
<br />

<h3>
Modes
</h3>

<blockquote>
<b>1</b> Source is sampled as a waveform<br />
<b>2</b> Whole source is transposed for output events<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>fi</i> &#150; (mono) input soundfile to be read at different speeds to generate output events
	<blockquote>
     Mode <b>1</b>: source must start &amp; end at sample value 0.0: sampled as waveform.<br />
     Mode <b>2</b>: source can be anything and the whole source is transposed for output events.  (In mode <b>2</b>, a very long source may take a very long time to finish.)
	</blockquote>
<i>fo</i> &#150; output file<br />
<i>chans</i> &#150; number of channels in the output file<br />
<i>dur</i> &#150; (max) duration of output file<br />
<i>att</i>* &#150; rise time of events (Mode <b>1</b> only)<br /> 
<i>dec</i>* &#150; decay time of events (Mode <b>1</b> only)<br /> 
<i>plo</i>* &#150; bottom of pitch range (MIDI)<br /> 
<i>phi</i>* &#150; top of pitch range (MIDI)<br /> 
<i>pstart</i> &#150; initial pitch (MIDI)<br />
<i>sstart</i> &#150; initial spatial position (numbering chans 1 - <i>N</i>) (ignored if mono output)<br />
<i>step</i>* &#150; maximum pitch step between events<br />
<i>sstep</i> &#150; max spatial step between events (fraction of distance between channels)<br />
tick</i>* &#150; (average) time between events<br />
<i>seed</i> &#150; seed (initialises random vals; gives reproducible random sequence)<br />
<b>-a</b><i>arange</i>* &#150; maximum loudness step between events, in dB (Default: min=0; max=96dB)<br /> 
<b>-m</b><i>minamp</i>* &#150; minimum loudness (Range: >0 to 96dB)<br />  
  <ul>
  <li>Default: 0 = No minimum</li>
  <li>(Only comes into play if <i>arange</i> is > 0)</li>
  <li>(If min > 0: if amp falls to -min dB, levels 'bounce' off the min value)</li>
  <li>(If min = 0: no min set, and if level falls to -96dB, sound stream halts)</li>
  </ul>
<b>-l</b> &#150; loudspeakers arrayed in a line.  (Default: arrayed in a 'circle')<br />

<b>Mode 1 only:</b><br />
<b>-s</b><i>aslope</i>* &#150; attack slope: < 1: rise fast then slows; > 1: rise slow then faster<br />
<b>-d</b><i>dslope</i>* &#150; decay slope:  < 1: fall slow then faster; > 1: fall fast then slows;  <i>slope</i> ranges are 0.1 to 10.
	<blockquote>
	All items marked with "*" can vary through time.
	</blockquote>
</blockquote>

<h3>
Understanding the BROWNIAN Process
</h3>

<blockquote>
<p>
...
</p>
</blockquote>


<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
End of BROWNIAN<br>
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br>
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>


<hr><!-- ***************************************************** -->
<h2 id="CASCADE">CASCADE &#150; Successive segments are repeat-echoed, and the echosets are superimposed on the source</h2>

<h3>
Usage
</h3>
<b>cascade cascade 1-5</b> <i>inf outf clipsize echos clipmax</i> [<b>-e</b><i>echosmax</i>] [<b>-r</b><i>rand</i>] [<b>-s</b><i>seed</i>] [<b>-N</b><i>shredno</i> <b>-C</b><i>shredcnt</i> <b>-a</b>] [<b>-l</b>] [<b>-n</b>]<br />
OR<br />
<b>cascade cascade 6-10</b> <i>inf outf cuts echos</i> [<b>-e</b><i>echosmax</i>] [<b>-r</b><i>rand</i>] [<b>-s</b><i>seed</i>] [<b>-N</b><i>shredno</i> <b>-C</b><i>shredcnt</i> <b>-a</b>] [<b>-l</b>] [<b>-n</b>]
<br />

<h3>
Modes
</h3>

<blockquote>
<b>1,6</b>  N-channels in to N channels out: echo in the same N channels<br>
<b>2,7</b>  Mono (left in output) to stereo: echo-sets pan to right.<br />
<b>3,8</b>  Mono (centre in output) to stereo: echo-sets pan alternately between left and right<br>
<b>4,9</b>  Mono (Ch1 in output) to 8chan: each echo steps right, to next channel.<br />
<b>5,10</b> Mono (Ch1 in outout) to 8chan: echoes of 1st echo-set step right, next set step left,etc. 
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile: mono except possibly in modes 1 and 6<br />
<i>outfile</i>  &#150; output soundfile: Modes 1 and 6 - channels as input; Modes 2,3,7,8: stereo; Modes 4,5,9,10: 8-channel<br />
<i>clipsize</i> (Modes <b>1-5</b>) &#150;  duration of segments to echo.  Time-variable.  (Range: 0.005 to 60 sec)<br />
OR
<i>cuts</i> (Modes <b>6-10</b>) &#150; textfile of (successive) source cut-times, creating segments to echo. 1st cut-time must be > 0.01 secs. <br />
<i>echos</i> &#150; number of echoes, including the source (echo 1)  (Range: 1 to 64; Time-variable)<br />
<i>clipmax</i> &#150; max duration of clips (time-variable).
  <ul>
  <li><i>clipsize</i> now read as minimum.</li>
  <li>Actual <i>clipsize</i> is a random value between <i>clipsize</i> and <i>clipmax</i>.</li>
  <li>If <i>clipmax</i> is set to zero, it is ignored.</li>
  </ul>
<b>-e</b><i>echosmax</i> &#150; maximum number of echoes (time-variable).
  <ul>
  <li><i>echos</i> now read as minimum.</li>
  <li>The actual number of echoes is a random value between <i>echos</i> and <i>echosmax</i>.</li>
  <li>If <i>echosmax</i> is set to zero, it is ignored.</li>
  </ul>
<b>-r</b><i>rand</i> &#150; randomise timesteps between echoes in the echo-set;  Range: 0-1, time-variable.<br />
<b>-s</b><i>seed</i> &#150; with the same non-zero value, randomised values are exactly the same on a new pass<br />
<b>-N</b><i>shredno</i> &#150; in each echo-stream cut the previous echo into <i>shredno</i> parts, and random-shuffle the parts to make the next echo.  Range 2-16, time-variable.<br />
<b>-C</b><i>shredcnt</i> &#150;  the number of shreds to do, to create the next echo element;  Range: 1-16, time-variable.  Both <i>shredno</i>  and <i>shredcnt</i> must be set for shredding to take place.<br />
<b>-a</b> &#150; also shred the original clip.  Only valid if <i>shredno</i> and <i>shredcnt</i> are set.<br />
<b>-l</b> &#150; echoes decay linearly in level (Default: log decay in which the initial decays are faster).<br />
<b>-n</b> &#150; if the output is low, normalise it.  (High output is normalised by default.)

</blockquote>

<h3>
Understanding the CASCADE Process
</h3>

<blockquote>
<p>
CASCADE echoes a given segment a number of times and mixes the echoes with the original soundfile (played 'straight'). There are five mode choices, all spatial, plus the ability to select the echo segment by size (<i>clipsize</i>) or from a list of cut-times (<i>cuts</i>), giving 10 modes overall. 
<p><p>
The segment size (Modes 1-5) is set by <i>clipsize</i> or randomly between this and <i>clipmax</i>. Similarly, the number of repetitions is set by <i>echos</i> or randomly between this and <i>echomax</i>.  <i>Shredno</i>, <i>shredcnt</i> and the <b>-a</b> flag "shred original clip" offer possibilities to garble the segments and echoes.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
The program is an alternative to EXTEND ITERATE, MODIFY REVECHO 3 (stadium echo), and MODIFY REVECHO 1/2 (delay line). CASCADE adds the unusual ability to select the segments and spatialise and/or shred the echoes.</p>
</blockquote>

<p>
End of CASCADE<br>
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br>
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ***************************************************** -->
<h2 id="CRUMBLE">CRUMBLE &#150; Project segments spatially over progressively smaller groups of channels
<!--
Project a MONO source on all channels of multichan output, then segment it, and distribute the segments over smaller and smaller groups of channels (See below) -->
</h2>

<h3>
Usage
</h3>
<b>crumble sound 1</b> <i>infile outfile stt dur1 dur2 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; orient size rand iscat oscat ostrch pscast seed</i> [<b>-s</b><i>splce</i>] [<b>-t</b><i>tail</i>]<br />
<b>crumble sound 2</b> <i>infile outfile stt dur1 dur2 dur3 orient size rand iscat oscat ostrch pscast seed</i> [<b>-s</b><i>splce</i>] [<b>-t</b><i>tail</i>]<br />
<br />

<h3>
Modes
</h3>

<blockquote>
<b>1</b> 8-channel output<br />
<b>2</b> 16-channel output (mode faulty at time of writing)
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile (MONO)<br />
<i>outfile</i> &#150; output soundfile (MULTI-CHANNEL)<br />
<i>stt</i> &#150; start time of crumbling (Range: 0 to &lt;filelength)<br />
<i>dur1</i> &#150; duration of section where signal is split into 2 images (secs)<br />
<i>dur2</i> &#150; duration of section where signal is split into 4 images (secs)<br />
<i>dur3</i> &#150; (Mode 2) duration of section where signal is split into 8 images (secs)<br />
<i>orient</i> &#150; channel around which input first split (1-8 or 1-16 Mode 2):<br>
&nbsp;&nbsp;&nbsp; input image first splits onto 2 blocks each of ochans/2 adjacent chans<br />
&nbsp;&nbsp;&nbsp;(1) orig. chan. with adjacent clockwise channels<br />
&nbsp;&nbsp;&nbsp;(2) remaining channels<br />
<i>size</i>* &#150; average duration of cut segments (secs)<br />
<i>rand</i>* &#150; randomisation of segment size.  (Range: 0 to 1)<br />
&nbsp;&nbsp;&nbsp;Value 1 modifies <i>size</i>  randomly between <i>size</i>/2 and (3*<i>size</i>)/2<br />
<i>iscat</i>* &#150; scatter start-time (in source) of next segment. (Range: 0 to 1)
  <ul>
  <li>Cut-time in source always advances</li>
  <li>With no scatter, step to next cut-time minus the length of the previous segment cut.</li>
  <li>With maximum <i>iscat</i> (i.e. 1), step by random time between 0 and the previous-seglen.</li>
  </ul>
<i>oscat</i>* &#150; scatter time-placement (in output) in range used. (Range: 0 to 1)
  <ul>
  <li>Time in output always advances.</li>
  <li>With no scatter, the step to the next output-time = the length of the last segment cut.</li>
  <li>With maximum <i>oscat</i> (i.e. 1), step by random time between &gt; 0 and the previous-seglen.</li>
  </ul>
<i>ostrch</i>* &#150; stretch time-placement in output.  (Range: 1 to 64)
  <ul>
  <li>The step to the next segment-placement in the output is multiplied by <i>ostrch</i></li>
  <li><i>ostrch</i> &gt; 1 should generate silent gaps in the output.</li>
  </ul>
<i>pscast</i>* &#150; pitch variation of output segments (Range: 0 to 12 semitones)<br />
<i>seed</i> &#150; same seed value gives identical output on successive process runs.<br />
<b>-s</b><i>splce</i> &#150;length of splices which cut the segments (Range: 2 to 50 mS)<br />
<b>-t</b><i>tail</i>* &#150; length of any exponential tail on segments (Range: 0 to 1000 mS;<br />

	<blockquote>
	Parameters marked with '*' can vary over time (i.e., time in the outfile).
	</blockquote>

</blockquote>

<h3>
Understanding the CRUMBLE Process
</h3>

<blockquote>
<p>
CRUMBLE projects mono segments over progressively smaller groups of channels in multi-channel space, with possible timestretch. Specifically, it projects the source onto all channels, then segments it and distribute the segments over smaller and smaller groups of channels. 
</p><p>
The choice is limited to 8-channel or 16-channel output, but this can be reduced afterwards by <a href = "cgrohous.htm#PAIREX"><b>PAIREX</b></a> (extract stereo pairs) 
or <a href = "cmcrefmn.htm#CHANNELX"><b>CHANNELX</b></a> (extract single chans) plus optional interleaving (<a href = "cmcrefmn.htm#INTERLX"><b>INTERLX</b></a>).

</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
End of CRUMBLE<br>
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br>
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ***************************************************** -->
<h2 id="CRYSTAL">CRYSTAL &#150; Generate <i>N</i> sound-events based on the position of <i>N</i> vertices of a crystal, then rotate the crystal in 3-D space and generate another group of <i>N</i> events, etc.</h2>

<h3>
Usage
</h3>
<b>crystal rotate 1-10</b> <i>infile1</i> [<i>infile2 infile3 ...</i>] <i>fo vdat rota rotb twidth tstep dur plo phi</i> [<b>-p</b><i>pass</i> <b>-s</b><i>stop</i>] [<b>-a</b><i>fatt</i>] [<b>-P</b><i>fpresc</i>] [<b>-F</b><i>fslope</i>] [<b>-S</b><i>sslope</i>]
<br />

<h3>
Modes
</h3>

<blockquote>
<b>1</b>  Mono output<br />
<b>2</b>  Stereo output<br />
<b>3</b>  Two channels of 8-channel output, spaced by a single channel (here, channels 1 and  3)<br />
<b>4, 5, 6</b> Ditto, channel-pair steps clockwise, anticlockwise or randomly beteween groups-of-events<br />
<b>7, 8, 9</b> Ditto, but pairs of channels are adjacent (e.g., 1,2 or 5,6)<br />
<b>10</b>  Stereo output:  each set-of-vertices are output as a separate soundfile.
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile(s)</i> &#150; One MONO infile, multiply-read (with delay), generating out-events<br />
&nbsp;&nbsp&nbsp;OR<br />
&nbsp;&nbsp&nbsp;<i>N</i> MONO infiles, generating different events for <i>N</i> vertices<br />
<i>outfile(s)</i> &#150; output file(s), see Modes.<br />
<i>fo</i> &#150; generic name for output files<br />
<i>vdat</i> &#150; data file containing:<br />
&nbsp;&nbsp&nbsp;(1) Triples, being (initial) X,Y,Z coordinates of crystal vertices.<br />
&nbsp;&nbsp&nbsp;&nbsp;&nbsp&nbsp;Range: > -1 to < 1. Xsquared + Ysquared +Zsquared < 1 for all vertices<br />
&nbsp;&nbsp&nbsp;(2) Time-value pairs defining an envelope to be imposed on sound events.<br />
&nbsp;&nbsp&nbsp;&nbsp;&nbsp&nbsp;Times start at 0 and increase.  Final time = duration of events.<br />
&nbsp;&nbsp&nbsp;&nbsp;&nbsp&nbsp;Value range: 0 to 1.  First and last values must be zero.<br />
<i>rota, rotb</i> &#150; rotate speed in xy_plane and xz_plane, revolutions per second.  (Range: -10.00 to 10.00)<br />
<i>twidth</i> &#150; max time between onsets of first and last event of any <i>N</i>-events group<br />
<i>tstep</i> &#150; time-step between each sampling of all <i>N</i> vertices of rotating-crystal<br />
<i>dur</i> &#150; total duration of output (must be greater than 'tstep' and 'twidth')<br />
<i>plo, phi</i> &#150; minium and maximum (MIDI) pitch of any event<br />
<b>-p</b><i>pass</i>, <b>-s</b><i>stop</i> &#150; Pass + stop bands (in Hz) for lopass filter: <b><i>stopfrq</i> - <i>passfrq</i> >= to Hz</b> <br />
<b>-a</b><i>fatt</i> &#150; max attenuation produced by filter-stop (dB).  (Range: 0 to -96)<br />
<b>-P</b><i>fpresc</i> &#150; gain applid to attenute source before applying filter (Range: 0 to 1)<br />
<b>-F</b><i>fslope</i> &#150; slope curve mixing filtered to unfiltered sound (depth).  (Range:  0.10 to 10.00).  'Slope' = 1 for a linear slope.<br />
<b>-S</b><i>sslope</i> &#150; slope curve mixing transposed sound to original (close).  (Range: 0.10 to 10.00)  'Slope' = 1 for a linear slope.<br />
<i>outcnt</i> &#150; number of rotated-sets to output. [NB: not shown on commandline and don't know where it should go.]
</blockquote>

<h3>
Understanding the CRYSTAL Process
</h3>

<blockquote>
<p>
About the coordinates:
  <ul>
  <li><b>X</b> coord &#150&gt; time and, if stereo, space-position</li>
  <li><b>Y</b> coord &#150&gt; pitch</li>
  <li><b>Z</b> coord &#150&gt; brightness, i.e., <b>Z</b>-far sounds  are lopass-filtered and mixed to original;  <b>Z</b>-close sounds move 8va up and are stacked on the original</li>
  </ul>

</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
End of CRYSTAL<br>
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br>
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>



<hr><!-- ********************************************************** -->
<h2 id= "FLUTTER">FLUTTER &#150; Add multi-channel-distributed 
tremolo to a multi-channel file
</h2>

<h3>
Usage
</h3>
<b>flutter flutter</b> <i>inmcfile outmcfile chanseq freq depth gain</i> 
[<b>-r</b>]<br />
<br />

<p>
Example command line to create tremolo effects between channels:<br>
	<blockquote>
	<b><code>flutter flutter in4chansnd out4chflutter chanseq.txt 
	5 7 0.75 </code></b>
	</blockquote>
</p>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input multi-channel sound file<br />
<i>outfile</i> &#150; output multi-channel sound file<br />
<i>chanseq</i> &#150; On each cycle of the loudness fluctuation, a 
different set of output channels fluctuates in loudness (rising and 
falling) while the other channels do not change in level.  So the 
tremolo effect moves rapidly from one set of channels (<b>chanset</b>) 
to another as it proceeds.
	<ul>
	<li><i>Chanseq</i> is a textfile containing a list of these 
	<b>chansets</b>.</li>
	<li>Each line of this file has a list of some of the output 
	channels, and constitutes one <b>chanset</b>.</li>
	<li>Any number of the output channels can be used on any line.	</li>
	<li>Once the end of the list of sets is reached, it begins again 
	at its start, cycling round and round the list &#150; but see the 
	<b>-r</b> flag.</li>
	</ul>
<i>freq</i> &#150; frequency (in Hz) of the loudness variation<br />
<i>depth</i> &#150; depth of the loudness variation  (Range: 0 to 16)
	<ul>  
	<li>As values increase from 0 to 1, the <b>troughs</b> of the loudness 
	variation become lower and lower until they reach down to zero 
	level (for <i>depth</i> value 1).</li>
	<li>Depth-values greater than 1 increase the <b>steepness and 
	narrowness</b> of the loudness peaks (still troughing at zero 
	level).</li>
	<li>Both <i>freq</i> and <i>depth</i> may vary over time.</li>
	</ul>

<i>gain</i> &#150; overall gain of the loudness variation (Range: 0 to 
	1)<br />
<b>-r</b> &#150; randomisation of <b>chanset</b> order
	<blockquote>
	If this flag is used, once all the <b>chansets</b> have been used, 
	their order is randomly permutated before they are used again, 
	and once all have been used a 2<sup><small>nd</small></sup> time, 
	their order is permutated again, and so on.
	</blockquote>

</blockquote>

<h3>
Understanding the FLUTTER Process
</h3>

<blockquote>
<p>
FLUTTER is a special multi-channel version of ENVEL TREMOLO.  The 
latter program causes the loudness of the <b>entire</b> soundfile 
to fluctuate at a particular frequency and depth.  FLUTTER, on the 
other hand, causes these tremulations to pass from one (set of) 
output channel(s) to another as it proceeds, making the multi-channel 
file tremble in a specified way.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
FLUTTER belongs to the class of programs like tremolo and vibrato, which 
can produce subtle or dramatic changes to the quality of a sound, or can be 
gradually introduced to the tail of a sound to add liveliness to the sonic event.
</p>
</blockquote>

<p>
End of FLUTTER<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->

<h2 id="FRACTURE">FRACTURE &#150; Disperse a mono signal into fragments spread over <i>N</i>-channel space
</h2>

<h3>
Usage
</h3>
<b>fracture fracture 1</b> <i>infile outfile etab chns strms pulse edpth stkint </i> [<b>-h</b><i>seed</i>] [<b>-m</b><i>min</i>] [<b>-i</b><i>max</i>] [<b>-r</b><i>rnd</i>] [<b>-p</b><i>prnd</i>][<b>-d</b><i>disp</i>][<b>-v</b><i>lrnd</i>][<b>-e</b><i>ernd</i>][<b>-s</b><i>rnd</i>][<b>-t</b><i>trnd</i>] <b>-y</b> <b>-l</b>
<br /><br />
<b>fracture fracture 2</b> <i>infile outfile etab chns strms pulse edpth stkint  cntre frnt depth rolloff</i> [<b>-h</b><i>seed</i>] [<b>-m</b><i>min</i>] [<b>-i</b><i>max</i>] [<b>-r</b><i>rnd</i>] [<b>-p</b><i>prnd</i>] [<b>-d</b><i>disp</i>] [<b>-v</b><i>lrnd</i>] [<b>-e</b><i>ernd</i>] [<b>-s</b><i>rnd</i>] [<b>-t</b><i>trnd</i>] [<b>-a</b><i>atten</i>] [<b>-z</b><i>zpoint</i>] [<b>-c</b><i>contract</i>] [] [<b>-l</b><i>lopnt</i>] [<b>-f</b><i>fmix</i>] [<b>-j</b><i>ffrq</i>] [<b>-k</b><i>up</i>] [<b>-w</b><i>dn</i>] <b>-y</b> 
<br />

<p>
Example command line to create  :<br>
	<blockquote>
	<b><code>fracture fracture 1 in.wav out.wav etab.txt 4 4 0.5 1.0 0</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; The output is <i>N</i>-channel dispersal in <i>N</i>-channel space<br />
<b>2</b>&nbsp; The output is stereo dispersal (possibly moving) in surround space<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile (mono)<br />
<i>outfile</i> &#150; output multi-channel soundfile<br />
<i>etab</i> &#150; a text5file in which each line is a TIME followed by 7 pairs of envelope-data in the form <i>etime lev</i>.  <i>etime</i> is relative to time WITHIN the envelope (Range:  0 to 1), and <i>lev</i> is the level at <i>etime</i> (Range: 0 to 1).  In each envelope data set <i>lev</i> must start and end at zero and rise to a maximum value of 1.0.<br />
<i>chns</i> &#150; the number of channels in the output soundfile (Range: 2 to 16).  In Mode <b>2</b> the number of channels is restricted to multiples of 4.<br />
<i>strms</i> &#150; the number of spatial positions (streams) for resulting fragments  (Range:  greater than 4)<br />
<i>pulse</i> &#150; the average gap between one set-of-fragments (each in a different stream) and the next set.  When <i>disp</i> = 1, all fragments are in sync at each (possibly randomised) pulse.  When <i>disp</i> is &gt; 0, the fragments are time-scattered around the pulse centre (see below).<br />
<i>edpth</i> &#150; envelope depth:
	<ul>
	<li><b>1</b> envelope cuts down to zero</li>
	<li><b>0.75</b> cuts &fraq34; of the way to zero</li>
	<li><b>0.1</b> cuts only one-tenth of the way to zero, and</li>
	<li><b>0</b><br /> has no effect on the source.</li>
	<li>Once <i>edpth</i> exceeds <b>1</b>, fragments begin to stack &#150; but not before:  that is, the transposed copies added to fragment, synced at envelope peak.</li>
	<li><i>edpth</i> <b>2</b> -&gt; Stack <b>1</b>:  the first transposed element iss added at full level</li>
	<li><i>edpth</i> <b>1.5</b> -&gt; Stack <b>0.65</b>:  the first transposed element is added at &fraq12; (0.5) level</li>
	<li><i>edpth</i> <b>2.5</b> -&gt; Stack <b>1.5</b>:  the first transposed element is added at frull level, the second at &fraq12; level, etc.</li>
	</ul>
<i>stkint</i> &#150; the interval of (upward) transposition in the stack, in semitones (Range: 0 to 12; the Default, which is 0, is read as octave (12).  <b>NB:  no zeros are allowed in stack breakpoint files</b>.<br />
<b>-h</b><i>seed</i> &#150; If NOT zero, repeating the process with the same seed gives identical output<br />
<b>-m</b><i>min</i> &#150; minimum duration of fragments.  If zero, there is no minimum or maximum.<br />
<b>-i</b><i>max</i> &#150; maximum duration of fragments.  If zero, there is no minimum or maximum.<br />
<b>-r</b><i>rnd</i> &#150; randomisation of the read-time in the source soundfile  (Range:  0 to 1)<br />
<b>-p</b><i>prnd</i> &#150; randomisation of pulse-time in the output (Range:  0 to 1).  For both <i>rnd</i> and <i>prnd</i>, using the maximum range value (1) produces a scatter in range +- the half-duration of the pulse.<br />
<b>-d</b><i>disp</i> &#150; the dispersal (scatter) of output timings between different streams.  If <i>pulse</i> plus <i>prnd</i> gives time "P", then for <i>disp</i> = <b>0</b> all fragmentes are at "P", and if <i>disp</i> = <b>1</b> the fragments are scattered within the maximum range (+- half the duration of <i>pulse</i>).<br />
<b>-v</b><i>lrnd</i> &#150; randomisation of the levels (i.e., volume) of the fragments  (Range: 0 to 1).  If <i>lrnd</i> is <b>0</b>, all fragments are at full level;  if <i>lrnd</i> is <b>1</b>, the fragments will be at random levels between 0 and full volume.<br />
<b>-e</b><i>ernd</i> &#150; randomisation of the envelope used.  This is a time range in seconds.  An event at "now" reads <i>etable</i> at a random time between "now" and now minus <i>ernd</i>.<br />
<b>-s</b><i>rnd</i> &#150; randomisation of stack  (Range:  0 to 1).  Note that the stack value (S) is <i>depth</i>-1.  If <i>srnd</i> is <b>0</b>, the stack value is S.  If <i>srnd</i> is <b>1</b>, the stack value is selected at random between 0 and S.<br />
<b>-t</b><i>trnd</i> &#150; random transposition of the fragments  (Range: 0 to 1200 cents: i.e., up to 1 octave upwards.  The event is pitch-randomised between the existing pitch and plus &#amp; minus <i>trnd</i>.<br />
<b>-z</b> &#150; permit stacking of very short events.  The Default is 'forbid', i.e., prevent clipping.<br />
<b>-l</b> &#150; for more than two output channels, the loudspeakers are assumed to encircle the listeners, with a single loudspeaker at centre-front.  Setting the <b>-l</b> flag changes this to a linear array, with leftmost and rightmost speakers.<br />
	<blockquote>
	<b>NB:</b> <i>stkint</i>, <i>max</i>, <i>rrnd</i>, <i>lrnd</i>, <i>srnd</i> and <i>trnd</i> are <b>inactive</b> if <i>depth</i> is less than 1.
	</blockquote>

<b>Mode 2 only</b>:<br />
<i>cntre</i> &#150; the channel from which the stereo image spreads out<br />
<i>frnt</i> &#150; the output leading edge:
	<ul>
	<li><b>1</b> = in the central loudspeaker</li>
	<li><b>-1</b> = in the loudspeaker opposite the central one</li>
	<li><b>0</b> = on the bisector of the entire sound-surround space</li>
	<li><b>2</b> = infinitely far away in the direction of the central speaker</li>
	<li><b>- (2 + (<i>depth</i> * 2))</b> = infinitely far away in the direction opposite to centre.  If the front moves, there is forward movement only, with no reversals of direction, and if it doesn't go to infinity, the event itself fades to 0 from mid-time.</li>
	</ul>
<i>depth</i> &#150; the maximum fraction of all output channels turned on behind the <i>frnt</i> (output leading edge)<br />
<i>rolloff</i> &#150; the degree to which the level drops as the signal is spread over several channels (Range:  0 to 1).  If <i>rolloff</i> = <b>0</b> there is no drop in the level, and if <i>rolloff</i> = <b>1</b> the level is divided evenly over the number of channels in use.<br />
<b>-a</b><i>atten</i> &#150; the level attenuation factor for distance, or sound fade-out (Range:  &gt;= 1, where 1 = linear)<br />
<b>-z</b><i>zpoint</i> &#150; the point where the image subtends the zero angle (mono).  If <i>zpoint</i> = <b>0</b> this will be at the edge of the circle, and if <i>zpoint</i> = <b>1</b> it will be at infinity.<br />
<b>-c</b><i>contract</i> &#150; the contraction factor narrowing the distant image width.  (Range:  &gt;= 1, where 1 = linear)<br />
<b>-l</b><i>lopnt</i> &#150; the distance at which low-pass filtering is total.  If <i>lopnt</i> = <b>0</b> this will be at the edge of the circle, and if <i>lopnt</i> = <b>1</b> it will be at infinity.<br />
<b>-f</b><i>fmix</i> &#150; the factor for mixing the low-pass filtered signal into the original, with distance (Range: &gt;=1)<br />
<b>-j</b><i>ffrq</i> &#150; low-pass filter cut-off frequency<br />
<b>-k</b><i>up</i> &#150; If this is NOT zero, it will be the proportion of the overall duration over which the event fades upwards from zero.  This is independent of any fadeout-with-approach-to-circle.<br />
<b>-w</b><i>dn</i> &#150; If this is NOT zero, it will be the proportion of the overall duration over which the event fades to zero.  This is independent of any fadeout-with-distance-from-circle.<br />
<b>?</b><i>gain</i> &#150; the overall gain (Range: 0 to 1).  If <i>contract</i> is very much faster than <i>atten</i>, there is the rare possibility of overload as the signal is forced to mono.<br />
<b>-z</b> &#150; permit stacking of very short events.  The Default is 'forbid', i.e., prevent clipping.
	<blockquote>
	All the parameters that are the same in both Modes can vary over time EXCEPT <i>chns</i>, <i>strms</i> and <i>seed</i>.  However, in Mode <b>2</b>, of the additional parameters, only <i>frnt</i> can vary in time.
	</blockquote>
</blockquote>

<h3>
Understanding the FRACTURE Process
</h3>

<blockquote>
FRACTURE cuts the source into enveloped segments of a given duration and scatters them in space.
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of FRACTURE<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->

<h2 id="FRAMESHIFT">FRAME SHIFT &#150; Create frame patterns for 
multi-channel speaker setups
</h2>

<p>
<div align=center>
<table border="2" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#FRAMEUSAGE"><b>Usage</b></a></td>
<td align=center><a href="#FRAMEMODES"><b>Modes</b></a></td>
<td align=center><a href="#FRAMEPARAMETERS"><b>Parameters</b></a></td>
<td align=center><a href="#FRAMEUNDERSTANDING"><b>Understanding</b></a></td>
<td align=center><a href="#FRAMEAPPLICATIONS"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3 id= "FRAMEUSAGE">Usage</h3>
<b>frame shift 1</b> <i>infile outfile snake rotation</i> 
[<b>-s</b><i>smear</i>]<br />
<b>frame shift 2</b> <i>infile outfile snake rotation1 rotation2</i> 
[<b>-s</b><i>smear</i>]<br />
<b>frame shift 3</b> <i>infile outfile reorient</i><br /> 
<b>frame shift 4</b> <i>infile outfile mirrorplane</i><br />
<b>frame shift 5</b> <i>infile outfile</i> [<b>-b</b>]<br />
<b>frame shift 6</b> <i>infile outfile swapA swapB</i><br />
<b>frame shift 7</b> <i>infile outfile chaninfo gain</i><br />
<b>frame shift 8</b> <i>infile outfile</i> [<b>-b</b>]<br />

<br />

<p>
Example command line :<br>
	<blockquote>
	<b><code>frame shift 1 in4chfile out4chfile snakeroute.txt 0.5
	-s0.25</code></b>
	</blockquote>
</p>

<h3 id= "FRAMEMODES">Modes</h3>

<blockquote>
<b>1 &amp; 2</b>&nbsp; Rotate the entire frame of a multi-channel file<br />
<b>3</b>&nbsp; Change the channel assignment of a multi-channel file<br />
<b>4</b>&nbsp; Mirror the channel output around a specified mirrorplane<br />
<b>5</b>&nbsp; Convert between ring-numbered and bilaterally numbered 
	<i>outchans</i><br />
<b>6</b>&nbsp; Swap any pair of channels (swapA and SwapB)<br />
<b>7</b>&nbsp; Allows any channel, or set of channels, to be enveloped 
	independently of the other channels<br />
<b>8</b>&nbsp; Converts between ring-numbered and BEAST bilateral 
	numbering ('BEAST' = 'Birmingham Electro-Acoustic Sound Theatre', a 
	multi-speaker diffusion system developed by Jonty Harrison et al. at 
	Birmingham University, famous throughout Europe for outstanding 
	performances of electro-acoustic music.  Ed.)<br />
</blockquote>

<h3 id= "FRAMEPARAMETERS">Parameters</h3>

<blockquote>
<i>infile</i> &#150; input multi-channel soundfile<br />
<i>outfile</i> &#150; output multi-channel soundfile<br />
<i>snake</i> &#150; the route the movement through the speakers follows.  
In a clockwise rotation in, for example, 8 channels, 
input channel-1 follows the route <code>1 -&gt; 2 -&gt; 3 -&gt; 
4 -&gt; 5 -&gt; 6 -&gt; 7 -&gt; 8 -&gt; 1</code> etc. around the 
loudspeakers.  To produce this (default) rotation pattern, set 
<i>snake</i> to zero.  However, channels can 'snake' along a different 
route, and this route (which could vary over time) can be specified in 
a data file of <i>time snake-list</i> values.  Here is an example file 
with two times and two different 'snake' routes:<br />
<pre>
<font color = "#FF0000">time     snake-route</font>
0.0      8 6 5 2 7 3 4 1
1.378234 4 1 5 2 6 7 8 3
</pre>
Please note that the first <i>time</i> value in the data file must 
be zero, and subsequent times must increase.<br />
<br />
<b>In Mode 2</b>, odd and even channels rotate independently:  
<code>1 -&gt; 3 -&gt; 5 -&gt; 7 -&gt; 1</code> etc. and 
<code>2 -&gt; 4 -&gt; 6 -&gt; 8 -&gt; 2</code> etc.  <i>Snake</i> 
data directs motion around a different route.<br />
To illustrate this, the <code>8 6 5 2 7 3 4 1</code> route above becomes 
one snake route around the odd entries: <code>8 -&gt; 5 -&gt; 7 -&gt; 
4 -&gt; 8</code> etc. and a second snake route around the even entries: 
<code>6 -&gt; 2 -&gt; 3 -&gt; 1 -&gt; 6</code> etc.<br />
<br />
<i>rotation</i> &#150; the rotation-rate in cycles per second.  
These cycles are complete frame-rotations.  Mode <b>2</b> only 
works with files with an even number of input channels.  It rotates 
the odd and even channels independently.  Mode <b>2</b> uses two 
rotation values <i>rotation1</i> and <i>rotation2</i>.  Note that 
this is a temporal independence in rotation-rate.  Negative 
values produce anticlockwise rotation.<br />
<br />
<b>-s</b><i>smear</i> &#150; the extent to which channel-signals 
bleed into adjacent channels.  (Range:  0 to 0.5.  Default: 0)<br />
<br />
<i>reorient</i> &#150; list of <b>all</b> input channels in the 
new order required.  In doing so, the order of the entries refers to 
channels 1, 2, 3 ... etc. in order.  Thus '4 1 2 3' means:<br />
<pre>
<font color = "#ff0000">1  2  3  4 channels in order</font>
4  1  2  3 <font color = "#ff0000">output channel destination send instructions (what you enter)</font>
2  3  4  1 <font color = "#ff0000">resulting contents of each channel</font>
</pre>
i.e.,
	<ul>
	<li>Send <b>1<sup><small>st</small></sup></b> to channel <b>4</b></li>
	<li>Send <b>2<sup><small>nd</small></sup></b> to channel <b>1</b></li>
	<li>Send <b>3<sup><small>rd</small></sup></b> to channel <b>2</b></li>
	<li>Send <b>4<sup><small>th</small></sup></b> to channel <b>3</b></li>
	</ul>
and so the resulting order is:
<pre>
<font color = "#ff0000">1  2  3  4 channels in order</font>
2  3  4  1 <font color = "#ff0000">channel contents</font>
</pre>
<i>mirrorplane</i> &#150; the line around which the frame is 
(symmetrically) mirrored.  Values can be any (integer) outchannel 
number OR any half-way position between outchannels, such as 
1.5, 2.5 etc.  With <i>N</i> channels, '<i>N</i>.5' lies between 
the <i>N</i><sup><small>th</small></sup> and the 1<sup><small>st
</small></sup> channel.<br />
<br />
<b>-b</b> &#150; (Mode <b>5</b>) convert from bilateral to ring.  
The Default setting is ring to bilateral.  The numbering of 
<i>outchans</i> can be ring or bilateral.  This can be illustrated 
with a diagram.  For <b>7</b> <i>outchans</i>:
<pre>
    RING               BILATERAL
      1                    1
   7      2             2     3
 6          3         4         5
   5      4             6     7
</pre>
All multi-channel pan programs assume that the numbering is in the 
RING pattern.  Therefore, use this mode to convert into and 
out of the bilateral format.<br />
<br />
<b>-b</b> &#150; (Mode <b>8</b>) convert from ring-numbering to BEAST 
bilateral numbering (Default:  ring to BEAST).  <br>
BEAST bilateral numbering for <b>8</b> <i>outchans</i>:
<pre>
    RING                 BEAST
      1                    7
   8     2              1     2
 7         3          3         4
   6     4              5     6
      5                    8
</pre>
<br />
<i>swapA</i> and <i>swapB</i> &#150; the channel numbers of the 2 
channels to be swapped.<br />
<br />
<i>chaninfo</i> &#150; a single channel number, or a list of channels 
in a text file (separated by spaces, tabs or newlines).<br />
<br />
<i>gain</i> &#150; gain in amplitude level to apply to enveloped 
channels:  increase (&gt; 1) or decrease (&lt; 1).  <i>Gain</i> 
may vary over time:  define in a <i>time gain-value</i> breakpoint 
file.<br />
</blockquote>

<h3 id= "FRAMEUNDERSTANDING">Understanding the FRAME SHIFT Process</h3>

<blockquote>
<p>
The <b>multi-channel frame</b> is defined by the number of output 
channels and how these are projected into the space.  Usually here 
we are assuming that each channel goes to a different loudspeaker and 
that these loudspeakers are positioned in a ring or arc around the 
listener.
</p>

<p>
However, the channels may be regarded as abstract or conceptual 
'positions' in any layout that the user requires. The output from 
these processes are simply multi-channel <b>wav</b> or <b>aiff</b> files, 
and the channels from this file may be sent to loudspeakers in any desired 
positional array, or in fact converted to locations in an Ambisonic format 
defined by the user (see the <a href = "cmcrefmn.htm" Target = "_top">
<b>Multi-Channel Toolkit</b>)</a>.
</p>

<p>
FRAME SHIFT is concerned with operations which affect the entire 
multi-channel frame, such as by <i>reorienting</i> it (e.g., by turning it 
though 90 degrees, <b>before</b> we begin to play the sound), or by 
<i>rotating</i> it (e.g., by turning it though 90 degrees, <b>as</b> 
we play the sound).
</p>

<p>
FRAME SHIFT Mode <b>1</b> allows us to rotate the entire 
<b>multi-channel</b> soundfile.  Compare this with 
<a href = "#MCHANPAN"><b>MCHANPAN</b></a> Mode <b>1</b> which allows us 
to rotate a <b>mono</b> file around a multi-channel space (see the example under MCHANPAN).
</p>

<p>
In the simplest case we simply enter a speed of <i>rotation</i> in 
cycles per second, either positive for clockwise rotation, or negative 
for anticlockwise rotation.  The number we enter is the number of times 
the entire frame rotates in 1 second.  To rotate more slowly, such as 
1 rotation in 4 seconds, we would enter a value less than 1 (in this 
example, 0.25 = &#188;).
</p>

<p>
However, we can also make the channels of the multi-channel sound 
<i>snake</i> around the space in any pattern we choose.  In a simple 
rotation, clockwise, channel 1 moves to 2, while 2 moves to 3, 3 moves 
to 4 and so on, each channel following the next in a 'snake' defined 
(for 8 channels) by the sequence 1 &rArr; 2 &rArr; 3 &rArr; 4 &rArr; 
5 &rArr; 6 &rArr; 7 &rArr; 8 &rArr; 1  etc.  We can write this as: 
<code>1 2 3 4 5 6 7 8</code>.  This is the <i>snake-list</i> part of 
the <i>time snake-list</i> breakpoint textfile submitted to the 
<i>snake</i> parameter.
</p>

<p>
However, the channels can <i>snake</i> around the space in any 
way you might like.  For example, you could do this:  1 goes to 3, 
3 goes to 5, 5 goes to 7, 7 goes to 8, 8 goes to 2, 2 goes to 4, 
and 4 goes to 6.  We can write this as:  <code>1 3 5 7 8 2 4 6</code>.  
This sequence &#150; the sequence in which the channels follow each other 
around the space &#150; is the <i>snake</i> which you can enter as data 
for this process.
</p>

<p>
In addition, Mode <b>6</b> allows a simple swapping of a pair of 
channels in the multi-channel file.
</p>

<p>
Mode <b>7</b> similarly allows the level in a particular channel to 
be modified, without altering the level in the others.
</p>
</blockquote>

<h3 id= "FRAMEAPPLICATIONS">Musical Applications</h3>

<blockquote>
<p>
Apart from the obvious musical applications, reorientating the frame  
or swapping the channels in a multi-channel file may be helpful when 
mixing together multi-channel files in a situation where the exact 
spatial location of the outputs is not significant.  If in a mix, 
the output overloads because the sounds in one (or more) of the 
channels are too loud when combined, reorientating the frame of 
one of the input files may solve this problem.  If this proves 
impossible, or is musically not desired, altering the level of a 
particular event in a single channel (mode 7) may be the solution.
</p>
</blockquote>

<p>
<b>ALSO SEE:</b> <a href="cmcrefmn.htm#CHORDER"><b>CHORDER</b></a> &#150 an alternative to FRAME SHIFT Mode 3 for re-ordering multi-channels. 
</p>

<p>
End of FRAME SHIFT<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- *************************************************************** -->

<h2 id="MCHANPAN">MCHANPAN &#150; Pan sounds around a 
multi-channel space
</h2>

<p>
<div align=center>
<table border="2" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#MCPANUSAGE"><b>Usage</b></a></td>
<td align=center><a href="#MCPANMODES"><b>Modes</b></a></td>
<td align=center><a href="#MCPANPARAMETERS"><b>Parameters</b></a></td>
<td align=center><a href="#MCPANUNDERSTANDING"><b>Understanding</b></a></td>
<td align=center><a href="#MCPANAPPLICATIONS"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3 id= "MCPANUSAGE">Usage
</h3>

<p>
<b>mchanpan mchanpan 1</b> <i>infile outfile panfile outchans</i> 
[<b>-f</b><i>focus</i>]
<br />
<b>mchanpan mchanpan 2</b> <i>infile outfile switchdata outchans</i> 
[<b>-f</b><i>focus</i> <b>-m</b><i>minsil</i>]<br />
<b>mchanpan mchanpan 3</b> <i>infile outfile outchans centre spread depth 
rolloff minsil</i> [<b>-s</b>]<br />
<b>mchanpan mchanpan 4</b> <i>infile outfile outchans centre spread depth 
rolloff</i><br />
<b>mchanpan mchanpan 5</b> <i>infile outfile antiphon outchans 
minsil</i><br />
<b>mchanpan mchanpan 6</b> <i>infile1</i> [<i>infile2 ...</i>] 
<i>outfile antiphon outchans eventdur gap splice</i><br />
<b>mchanpan mchanpan 7</b> <i>infile outfile pandata rolloff</i><br />
<b>mchanpan mchanpan 8</b> Available only via <i>Sound Loom</i><br />
<b>mchanpan mchanpan 9</b> <i>infile outfile outchans startchan 
speed focus</i> [<b>-a</b>]<br />
<b>mchanpan mchanpan 10</b> <i>infile outfile outchans</i> 
[ <b>-f</b><i>focus</i> <b>-m</b><i>minsil</i> <b>-g</b><i>grouping</i>] 
[<b>-a</b>] [<b>-r</b>]<br />
<br />
</p>

<p>
Example command line :<br>
	<blockquote>
	<b><code>mchanpan mchanpan 1 inmonofile out8chfile panfile.txt 8 
	-f0.5</code></b>
	</blockquote>
</p>

<h3 id= "MCPANMODES">Modes</h3>

<blockquote>
<b>1</b>&nbsp;&nbsp; Move a mono sound around a multi-channel space (timed 
move)<br />
<b>2</b>&nbsp;&nbsp; Switch (silence-separated) mono events in a file from 
one channel to another<br />
<b>3</b>&nbsp;&nbsp; Spread (silence-separated) mono events stepwise from one 
set of channels, to another set<br />
<b>4</b>&nbsp;&nbsp; Spread source gradually from a centre, across several 
channels<br />
<b>5</b>&nbsp;&nbsp; Switch (silence-separated) events antiphonally between 
2 specified sets of channels<br />
<b>6</b>&nbsp;&nbsp; Switch sounds (in 1 or more files) antiphonally between 
2 specified sets of channels<br />
<b>7</b>&nbsp;&nbsp; Pan from one channel configuration to another, passing 
through surround-mono<br />
<b>8</b>&nbsp;&nbsp; Rotate a <b>process</b> around a multi-channel space 
(<b>NB:</b> available only via the <i>Sound Loom</i> GUI)<br />
<b>9</b>&nbsp;&nbsp; Rotate a mono soundfile around a multi-channel space<br />
<b>10</b> Switch (silence-separated) mono events randomly from 
one output channel to another
</blockquote>

<h3 id= "MCPANPARAMETERS">Parameters</h3>

<blockquote>
<i>infile</i> &#150; input soundfile:  soundfiles should be 
Mono except for Mode 4 which accepts either Mono OR Stereo 
soundfiles &#150; <b>but only these</b>.<br />
<br />
<i>outfile</i> &#150; multi-channel output soundfile<br />
<br />
<i>panfile</i> &#150; (Mode <b>1</b>) Text file with multi-channel output 
pan-data in value triples:  <i>time pan-position pantype</i> (Also see <a href="filestxt.htm#MCPANFILES"><i>Files &amp; Formats</i></a>)
	<ul>
	<li><b>Pan-position</b> values lie between (channel) 1 and a 
	maximum number-of-channels (>= 3).  Positions between 0 and 1 
	are also possible (see below).</li>
	<br />
	<li><b>Pantype</b> values can be
	      <ul>
	      <li><b>0 = direct pan</b>: pan from 1 to 4 goes directly 
		from output channel 1 to output channel 4.  Direct pans must 
		start at a single loudspeaker and position values must be 
		non-zero integers.</li>
	      <li><b>1 = clockwise rotation</b>: pan 1 to 4 goes around 
		output channels <code>1 >> 2 >> 3 >> 4</code><br />
		<b>NB:</b> This is only a clockwise motion if the output 
		loudspeakers are arranged in a ring with numbers ascending 
		in a clockwise direction.</li>
         	<li><b>-1 = anticlockwise rotation</b>: pan 1 to 4 (e.g. with 8 
		channel output) follows the path:<br> <code>1 >> 8 >> 7 >> 6 >> 5 >> 
		4</code><br />  
		Rotations can start/stop anywhere, so position values can be 
		fractional.<br />
		Values between <b>0</b> and <b>1</b> are positions between the 
		maximum output channel (e.g. 8) and output channel 1</li>
		</ul>
		</li>
	</ul>

<i>switchdata</i> &#150; (Mode <b>2</b>) Textfile containing a listed 
sequence of output channels
	<blockquote>
	The sound switches from one output channel to the next.  If the 
	end of the list is reached, it returns to the first output channel 
	in the list and proceeds as before.
	</blockquote>

<i>outchans</i> &#150; (Modes <b>1-6</b>) Number of channels in the output 
file<br />
<br />
<b>-f</b><i>focus</i> &#150; (Modes <b>1-2</b>) If <i>focus</i> = 1.0, 
position (e.g.) '2' puts all signal in loudspeaker 2.  If <i>focus</i> = 
0.9, position '2' puts 0.9 of signal in loudspeaker 2 and the remainder 
in the 2 adjacent loudspeakers (1 and 3).  If <i>focus</i> = 0.5, position 
'2' puts &#189; of signal in loudspeaker 2 and the remainder 
in the 2 adjacent loudspeakers (1 and 3).  This setting (0.5) is 
recommended for smooth pan movement, e.g., for Mode <b>1</b>.<br />
<br />
<b>-m</b><i>minsil</i> &#150; (Modes <b>2-3-5</b>) For programs operating on 
'events' (see below) within a soundfile.  The minimum duration (ms) of 
zero-level signal between events to signify that one event has ended and 
another has begun.<br />
<br />
<i>antiphon</i> &#150; (Modes <b>5-6</b>) This parameter consists of two 
strings of letters, with a hyphen separator ('-'), representing the 
antiphonal channels.
	<blockquote>
      For example, <b>abcd-efgh</b> = <i>antiphon</i> between channels 
	1,2,3,4 and channels 5,6,7,8.<br />
	The output channels can be divided up in any way, such as 
	<b>a-bcde</b>  OR  <b>abc-bcdefg</b>, etc.
	</blockquote>

<i>centre</i> &#150; (Modes <b>3-4</b>) Start-position of the spreading.  
This position may vary over time, so the parameter can be a single value 
or a <i>time position</i> breakpoint file.<br />
<br />
<i>spread</i> &#150; (Modes <b>3-4</b>) Integer value defining the channel 
spread of the output (far Left to far Right of centre).  This parameter 
may also vary over time.  The minimum spread is 1 in Mode <b>3</b> and 0 
in Mode <b>4</b>.<br />
<br />
<i>depth</i> &#150; (Modes <b>3-4</b>) Integer value defining the maximum 
number of channels (to Left, and to Right) used, behind leading edges.  The 
signal always reaches the maximum spread, but may have a hole in the middle.  
So, for an 8-channel file from a <i>centre</i> at 1:
	<ul>
	<li>If <i>spread</i> is 7 and <i>depth</i> >=3.5 we have<br />
	6 7 8 1 2 3 4</li>
	<li>If <i>spread</i> is 7 and <i>depth</i> = 2 we have<br />
	6 7-------3 4</li>
	<li>If <i>spread</i> is 7 and <i>depth</i> = 1 we have<br />
	6-----------4</li>
	</ul>
The <i>depth</i> parameter cannot be larger than 2 * <i>spread</i>.  
If it is, the program automatically truncates it to the maximum allowed 
value.<br />
<br />
<b>-s</b> &#150; (Mode <b>3</b>) Optional parameter to force the output 
to step wider by 1 channel (to both Left and Right) on every event, as 
far as the value given for <i>spread</i>.<br />
<br />
<i>rolloff</i> &#150; (Modes <b>3-4-7</b>) The decrease in the amplitude 
level as the signal spreads over several channels.  (Range: 0 to 1).
	<ul>
	<li><b>0</b> = no fall in level.</li>
	<li><b>1</b> = level divided by the number of channels in use.</li>
	<li>Intermediate values (Range 0-1) lie between these extremes.</li>
	</ul>

<i>eventdur</i> &#150; (Mode <b>6</b>) The time (duration) in seconds before 
switching to the next <i>outchans</i> set. This parameter can vary over 
time by using a <i>time duration</i> breakpoint file instead of a numerical 
constant.<br />
<br />
<i>gap</i> &#150; (Mode <b>6</b>) The time gap (silence) switching between 
event sets. This parameter can vary over time by using a <i>time duration</i> 
breakpoint file instead of a numerical constant.  <b>NB:</b> <i>Gap</i> 
cannot be equal to or greater than <i>eventdur</i>.<br />
<br />
<i>splice</i> &#150; (Mode <b>6</b>) The duration (in ms) of the splices 
used when cutting events.<br />
<br />
<i>pandata</i> &#150; (Mode <b>7</b>) Textfile with output pan-data in 
lines, each having <i>time  pan-positions</i> value pairs.
	<ul>
      <li><i>Pan-positions</i> is a list of <b>all</b> the input channels, 
	in any order.</li>
      <li>Each input channel in turn is mapped to each numbered channel in 
	the list.</li>
      <li>Passing from the mapping at one time, to the mapping at the next 
	time, sound in all channels spreads out until it is output equally 
	from all channels, then contracts to the set of outchannel positions 
	in the mapping at the new time.</li>
      <li>To force a maximal-spread at a specific time, enter time and a 
	<b>list of zeros</b> (1 for each output channel).</li>
	</ul>

	<blockquote>
	<b>NB:</b> Some of these processes work only with sounds consisting 
	of <b>silence-separated</b> events.
	</blockquote>
<i>speed</i> &#150; (Mode <b>9</b>) The speed of rotation in revolutions 
per second. This parameter can vary over time, and can be zero.  Range: 
Range 0 - 64<br />
<br />
<i>grouping</i> &#150; (Mode <b>10</b>) With a grouping of e.g. 3, three 
events occur at the first (randomly selected) output channel, then three 
events at the second (randomly selected) output channel, and so on.  
Range 1 - 100 (Default 1)<br />
<br />
<b>-r</b> &#150; With this flag set, the grouping of events at output 
channels is randomised.  For example, with a grouping of 3, either 3, 2 
or 1 events may occur at the next (randomly selected) output channel. 
For the <b>-r</b> flag to take effect the <i>grouping</i> must be more 
than 1.<br />
<br />
<b>-a</b> &#150; With the this flag set, stepping to an adjacent output 
channel is avoided.  Using this option makes the scattering of events in 
the multi-channel space more pronounced.  Note that this option is only 
possible with <i>more than 4</i> output channels.
</blockquote>


<h3 id= "MCPANUNDERSTANDING">Understanding the MCHANPAN Process
</h3>

<blockquote>
<p>
We are used to panning sounds within a Left-Right stereo field.  MCHANPAN 
enables us to pan sounds within a much larger speaker array.
</p>

<p>
<b>Mode 1</b> is the basic mode of operation of the program.  In Mode 
<b>1</b> the path of the multi-channel pan motion is set forth in the 
<i>panfile</i>.
	<ul>
	<li>Panning between adjacent loudspeakers is best achieved with a 
	<i>focus</i> of less than 1, so that some of the sound spills into 
	adjacent loudspeakers.  This avoids the sound appearing to 'fall 
	into' each loudspeaker as it passes from one loudspeaker to 
	another.</li>
	<li>How might we make a sound circle clockwise around a space?  
	We assume here that channel <i>N</i> of the output goes to 
	loudspeaker <i>N</i>, and that the loudspeakers are arranged 
	clockwise <code>1 2 3 4 5 6 7 8</code> around the listener.
	<pre>
	            1
	         8     2
	       7         3
	         6     4
	            5
	</pre>
	Circling clockwise around this ring could be achieved using the 
	following data file for <i>centre</i>, where the 3 columns 
	represent <i>time</i>, <i>position</i> and <i>direction</i>.  
	<pre>
	<font color = "#FF0000">time   position   direction</font>
	0      1          1
	3.5    8          1
	4      1          1
	7.5    6          1
	8      4          1
	</pre></li>
	<li>Using this data:</li>
		<ol>
		<li>The sound begins (time 0, line 1) in channel 1, moving 
		clockwise (last '1' in line 1) until (at time 3.5, line 2) it 
		reaches loudspeaker 8.  This movement has taken 3.5 seconds.</li>
		<li>It then proceeds (clockwise, the '1' at the end of line 2) 
		from loudspeaker 8 to loudspeaker 1 (which is the next 
		loudspeaker in the ring of 8) where it arrives at time 4 
		(line 3) after another half a second, thus completing a full 
		circuit in 4 seconds.</li>
		<li>Next it takes another 3.5 seconds to move clockwise from 
		loudspeaker 1 to loudspeaker 6, and then moves all the way 
		around to loudspeaker 4 in the next half a second.</li>
		<li>Note how the perceived speed of the pan movement is 
		affected both by the distance to be travelled and the time in 
		which this is to take place.</li>
		<li>Recall the recommendation in the parameters section to 
		use a <i>focus</i> of 0.5 to achieve a smooth movement between ]the speakers.</li>
		</ol>
	</ul>
</p>

<p>
There is no specific way to define the centre of the speaker ring as 
a spatial location.  For example, 1.5 will be half-way between speaker 
1 and speaker 2 along the ring of speakers.  You can, however, move 
across the centre with, for example, a pan from speaker 1 to speaker 6, 
whichever ones are physically opposite in your speaker layout.  But note 
the expanding-contracting effect produced by Mode <b>7</b>.
</p>

<p>
<b>Mode 2</b> handles 'events'.  Events are defined as sounds in the 
input file separated by silences.  This implies that the input soundfile 
needs to be a soundfile containing events actually separated by silence.  
A switch to a new output channel occurs at the entry of a new event in the input file, meaning that each subsequent sound event just 'turns up' at 
another speaker location without an actual pan movement between the 
speakers &#150; the illusion of a pan movement may take place if the time 
between events is very fast.  The list of channels is given in the 
<i>switchdata</i> textfile, such as:
<pre>
&nbsp;&nbsp;&nbsp;&nbsp;1  5  2  6  8  4  3  7  1
</pre>
The channel numbers can be separated by a space, a tab or a newline.  
The channel hopping finishes when there are no more events, so the 
number of events in the source soundfile should match the number of speaker 
locations in the <i>switchdata</i> file.  If there are more events than 
speaker positions in the <i>switchdata</i> file, as there are likely to 
be if a granulated sound is used, the output wraps repeatedly around the 
defined pattern of the speaker positions.
</p>

<p>
There are a variety of ways to create a soundfile with actual silences 
between events.  This is an important consideration, as a number of the 
multi-channel effects are dependent on soundfiles of this kind.  Mode 
<b>3</b> below is one example.
	<ul>
	<li><a href = "cgrohous.htm#EXTRACT"><b>HOUSEKEEP EXTRACT</b></a> Mode 
	<b>1</b> for the gated extraction of sounds into separate 
	soundfiles.</li>
	<li><a href = "cgroedit.htm#JOIN"><b>SFEDIT JOIN</b></a> to splice together 
	separate soundfiles, placing a short, silent soundfile between 
	each of these soundfiles &#150; see <a href = 
	"cgrosynt.htm#SILENCE"><b>SYNTH SILENCE</b></a> for synthesising a silent 
	soundfile.</li>
	<li>Create a soundfile with an amplitude tremolo (<a href = 
	"cgroenvl.htm#TREMOLO"><b>ENVEL TREMOLO</b></a>) and then 'corrugate' 
	the soundfile (<a href = "cgroenvl.htm#WARP"><b>ENVEL WARP</b></a>, 
	Mode <b>11</b>).</li>
	<li><a href = "cgromody.htm#BRASSAGE"><b>MODIFY BRASSAGE</b></a> or 
	<i><b>GrainMill</b></i> with (grain) <i>density</i> set at less than 
	1, which will produce intergrain silences.  Quite small gaps 
	should still work with MCHANPAN.</li>
	</ul>

<p>
<b>Mode 3</b> spreads events left and right from a defined centre.  
This mode is a little hard to understand.  I think Trevor gave me the 
key when he said that it does not produce a gradual panning movement 
from the defined centre to the other speakers.  Rather, each new sound 
finds that it needs to be at such and such speakers.  'Each new sound' 
means that the input soundfile is made up of a number of sound events.  
Events are defined as sounds in the input soundfile separated by silences.  
An increase in the spread only occurs at the entry of a new event in 
the input file.  Note the range of parameters that need to be set in 
this mode:  <i>centre</i>, <i>spread</i>, <i>depth</i>, <i>rolloff</i>, 
and the optional <b>-s</b> flag.  The <i>depth</i> parameter is 
particularly important in that it can be used to suppress sounds 
at the defined <i>centre</i> (see below).
	<ul>
	<li>The <i>centre</i> is defined as the principal location of 
	the sound being panned (i.e., on which channel, or on which 
	loudspeaker, it is centred).</li>
	<li>The <i>centre</i> itself can be changing with time, so that, 
	for example, the sound image may circle around the loudspeakers.</li>
	<li>The <i>spread</i> defines how wide the sound image is, around 
	that <i>centre</i> (i.e. how much subsequent events spill onto 
	loudspeakers adjacent to the defined <i>centre</i>).</li>
	<li>The <i>spread</i> can also change over time, so that, for 
	example, a sound image clearly focused in a loudspeaker gradually 
	bleeds onto the adjacent loudspeakers.</li>
	<li>Imagine that the image is <i>centred</i> in loudspeaker 4, and 
	the <i>spread</i> is 5:  the sound image  will spread out over the 
	five loudspeakers 2,3,4,5 and 6 (centred on loudspeaker 4).</li>
	<li>We can now create a 'hole in the middle' effect, so that the 
	<i>centre</i> of the sound image (at loudspeaker 4) is suppressed.  
	We can achieve this effect using the <i>depth</i> parameter.  If 
	the depth is sufficiently large (in this case, at least 2.5, i.e. 
	5 &divide; 2), then we will hear the full image we expect over the 
	five loudspeakers.  This is because the <i>depth</i> of the image 
	on each side of the <i>centre</i> is 2.5, so that the image will 
	cover 2.5 + 2.5 = 5 loudspeakers).  However, if the <i>depth</i> 
	is less than this (say 2), then the image will cover only four 
	(2 + 2) loudspeakers, and there will be no signal on the central 
	loudspeaker (number 4), even though it is the (now empty) centre of 
	the sound image.</li>
	</ul>
</p>

<p>
Also see <a href = "#FRAMESHIFT">FRAME SHIFT</a>, Modes <b>1</b> and 
<b>2</b> for another way to define a movement from channel to channel.
</p>

<p>
<b>Mode 4</b> makes use of an input source that can be a continuous sound, 
and the sound spreads gradually over time, interpolating between one spread 
value and the next.  The parameters are almost the same as Mode <b>3</b> 
except that there is no <i>minsil</i> parameter and no <b>-s</b> option.
</p>

<p>
<b>Mode 5</b> makes use of an input source that contains silences.  Here 
the material being antiphonated is events separated by silence within a single soundfile.  In this case, the set of outchannels in use changes 
only with the entry of a new event in the input file.  Note that, 
because silence is involved, the <i>minsil</i> parameter is used.
</p>

<p>
<b>Mode 6</b> is similar to Mode 5, but the input sounds need not 
contain silences, and nore than one input sound can be used.  The 
set of <i>outchans</i> in use changes after the time specified by 
<i>eventdur</i>.
</p>

<p>
If there is more than 1 input file, the next file is selected at 
each such antiphonal switch, and if the end of the input files is 
reached, the first file in the list is chosen again, and processing 
continues as before.
</p>

<p>
Silence can also be inserted prior to an antiphonal switch by using the 
<i>gap</i> parameter.
</p>

<p>
<b>Mode 7</b> is the nearest we can get, outside Ambisonics, to 
making all the sounds (on all channels) move into the (listener) centre 
of the space, and then back out (to possibly some other orientation of 
the channels).  In reality, on a ring of loudspeakers, all the sounds 
expand from the channel they are in to fill all the available channels, 
then contract onto a (possibly new) channel, as specified in the data 
file.
</p>

<p>
Suppose we had a <i>pandata</i> file containing the following times 
and pan-positions:
<pre>
<font color = "#FF0000">time  loudspeaker</font>
 0.0  1
 4.0  4
 8.0  6
12.0  2
</pre>
We start with the sound concentrated on loudspeaker 1.  It then expands 
outwards to <i>all</i> channels, but then contracts again so that at 
<i>time</i> 4.0 seconds, it is concentrated on loudspeaker 4.  From here 
it expands outwards again to all speakers, then focusing at <i>time</i> 
8.0 seconds on speaker 6, etc. coming to rest at <i>time</i> 12.0 at 
speaker 2.  The psycho-acoustics of this process are still being 
researched.
</p>

<p>
<b>Mode 8</b> is available only on <i>Sound Loom</i> and in 
<i>Soundshaper</i> &#150; i.e., not on the command line.  It is a composite 
function that runs a CDP process within a multi-channel pan context.
</p>

<p>
<b>Mode 9</b> In Mode <b>1</b>, the pan data file allows you to move 
the source sound clockwise, anticlockwise, or directly between non-adjacent 
output channels, and you can change the type or direction of motion at any 
time, by specifying a change of motion type in the panning data.  
Mode <b>9</b> allows only clockwise or anti-clockwise rotation (but not both), 
and <b>the only parameter is the speed of rotation, which may vary over 
time</b>. Mode <b>9</b> is simpler to use if only (uni-directional) rotation is desired.  Use Mode <b>1</b> to get to a specific channel at a 
specified time.<br />
</p>

<p>
<b>Mode 10</b> Similar to Mode <b>2</b>, but the events are switched 
<i>randomly</i> between output channels.  All the output channels are 
used up before a new random-permutation of the output channels is begun.  
It is possible to group the events at each channel: for example, 3 events 
occur at each (randomly selected) output channel.  Also see parameter 
<i>grouping</i>.
	<blockquote>
	It is possible to randomise this grouping of events:  see the 
	<b>-r</b> flag.<br />
	It is also possible to avoid stepping to an adjacent output 
	channel; see the <b>-a</b> flag.
	</blockquote>
</p>
</blockquote>

<h3 id= "MCPANAPPLICATIONS">Musical Applications</h3>

<blockquote>
<p>
The musical results that can be achieved with MCHANPAN can be 
reviewed by looking through the <a href = "#MCPANMODES"><b>list 
of modes</b></a> for the program.
</p>

<p>
<b>Panning in a multi-channel context is a fundamental procedure.  
Please refer to <a href = "#PANNINGANDMIXFILES"><b>Panning and 
multi-channel Mixfiles</b></a> below for more information about 
how to set up a multi-channel <i>mixfile</i> while using 
(already) panned multi-channel soundfiles.</b>
</p>

<p>
Any takers?  At least one (comprehensive) worked example (with written 
out breakpoint files) still seems essential, though  
Appendix 1 on MULTIMIX mixfiles provides more information.  Perhaps a 
full multi-channel tutorial taking the user through all the stages, 
from diagram to breakpoint files for PAN, to the way the mixfile is 
created and then used, and perhaps a discrete use of REVERB for 
additional spatial effects ... [Ed.]
</p>

</blockquote>

<p>
End of MCHANPAN<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->


<h2 id="MCHANREV">MCHANREV &#150; Create multi-channel 
Echoes or Reverb from a mono soundfile</h2>

<h3>
Usage
</h3>
<b>mchanrev mchanrev</b> <i>infile outfile gain roll_off size count 
outchans centre spread</i>
 <br />
<br />

<p>
Example command line:<br>
	<blockquote>
	<b><code>mchanrev mchanrev four fourmchrev 0.5 0.6 0.5 100 4 
	1.5 2</code></b>
	</blockquote>
</p>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input sound file (must be mono)<br />
<i>outfile</i> &#150; output sound file<br />
<i>gain</i> &#150; Gain to apply to input signal before processing (0-1, 
Default: 0.645654)<br />
<i>roll_off</i> &#150; Rate of loss of level with successive echoes  (Range: 
0.000031 to 1.0, Default: 1)<br />
<i>size</i> &#150; Multiplies average time between echoes: (Default time 0.1 
secs)<br />
<i>count</i> &#150; Number of stadium echoes (1- 1000, Default (max): 
1000)<br />
<i>outchans</i> &#150; Number of channels in the output sound<br />
<i>centre</i> &#150; Centre position of reverberated image, amongst the 
output channels
		<ul>
		<li>With <i>N</i>-channel output, range is 1 to <i>N</i></li>
		<li><i>centre</i> can be a fractional value</li>
		<li>Values below 1 lie between outchannel 1 and outchannel N.</li>
		</ul>
<i>spread</i> &#150; Number of output channels over which echoes are spread.  
(Range: 2 to <i>N</i>)
		<ul>
		<li><i>spread</i> can be a fractional value</li>
		<li>For example, with outchans = 8, <i>centre</i> = 4, and 
		<i>spread</i> = 4.5. the reverb image is spread between 
		positions 1.75 (4 - half of 4.5) and 6.25 (4 + half of 4.5)</li>
		</ul>

	<blockquote>
	Note that the number of echoes needs to be larger, relative to the 
	same process in a stereo space, to achieve an equally 'dense' result.
	</blockquote>

</blockquote>

<h3>
Understanding the MCHANREV Process
</h3>

<blockquote>
<p>
MCHANREV is the multi-channel equivalent of <a href = 
"cgromody.htm#REVECHO"><b>MODIFY REVECHO</b></a> Mode <b>3</b>, i.e., 
STADIUM ECHO.
</p>

<p>
The <i>size</i> parameter controls the amount of time there is between 
'echoes'.
	<ul>
	<li>With <i>size</i> of 1 (sec.) or more, individual echoes in the 
	output are likely to be heard, depending on the length of the 
	input soundfile.</li>
	<li>If the value for <i>size</i> is longer than the duration of 
	the input soundfile, you will hear the input sound repeating (in 
	the different speaker range defined by <i>spread</i>, gradually 
	fading away to nothing.  (I have not been able to find an 
	upper limit for <i>size</i>.</li>
	<li>With smaller values for <i>size</i>, and large values of 
	<i>count</i> (the number of echoes), reverberation will be 
	produced.</li>
	<li>Larger values for <i>size</i> in connection with larger values 
	for <i>count</i> means more overlap, and this will increase the 
	amplitude, which may not be fully compensated for by the program.  
	You may therefore need to apply a <i>gain</i> reduction (values 
	increasingly less than 1.)</li>
	</ul> 
</p>

<p>
Note, therefore, the interplay between <i>size</i>, <i>count</i> and 
<i>gain</i>, which may require some trial and error to get a good 
signal level in the output without producing distortion.
</p>

<p>
The Default <i>roll-off</i> value is 1.0.  This is the maximum decrease in amplitude from one echo to the next.   As the value for <i>roll-off</i> 
decreases, there are higher amplitudes in the successive echoes &#47; 
reverberations, meaning more chance of amplitude overload.  This therefore 
another parameter to handle carefully to get the best signal level without 
amplitude overload.
</p>
 
<p>
The echoes or reverberant output can be centred at a particular channel in 
the multi-channel space, using the parameters </i>centre</i>, and 
<i>spread</i>.   These will determine where the centre of the sound image 
is located and how wide the reverberant image is:  how many adjacent 
output channels it spreads across.</p>

<p>
If the image is spread over all the output channels, the reverberant image will fill the multi-channel space.  The wider the output <i>spread</i>, the more echoes (larger <i>count</i>) and higher echo density (smaller 
<i>size</i>) are needed to produce a similar reverberation result.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
There are a number of other ways to create reverberation in a multi-channel space.  For example,
	<ol>
	<li>The individual channels of the multi-channel file may be 
	extracted <a href = "cgrohous.htm#CHANS">HOUSEKEEP CHANS</a> Mode 
	<b>2</b>, extracting all the channels of a multi-channel file) to 
	separate (mono) soundfiles.</li>
	<li>Then standard reverberation <a href = 
	"cgromody.htm#REVECHO">MODIFY REVECHO</a> Mode <b>3</b>) can be 
	applied to each, and, because Mode <b>3</b> produces a stereo 
	<i>outfile</i>,</li>
	<li>the reverberant outputs (which are stereo) are now reduced to 
	mono with <a href = "cgrohous.htm#CHANS">HOUSEKEEP CHANS</a> Mode 
	<b>4</b> (converts stereo to mono), and finally,</li>
	<li>these mono files are recombined into a multi-channel file 
	with <a href = "cgromixr.htm#INTERLEAVE">SUBMIX INTERLEAVE</a>.  
	(NB: The maximum number of channels in the output of SUBMIX INTERLEAVE 
	is 4.)  [AE:  can two 4-channel soundfiles be joined to make an 
	8-channel soundfile?]</li>
	</ol>
In this way, the sound on each channel can be provided with its own unique reverberation characteristics.
</p>

<p>
Alternatively the stereo reverberated files can themselves be remixed to a multi-channel file in such a way that the stereo images are centred on the channels from which they derive, using <a href = "#MCHSTEREO">MCHSTEREO</a>.
</p>

<p>
On The <i>Sound Loom</i> the whole process of channel separation, reverberation, and channel recombination can be accessed in one sweep by applying the <b>Bulk Processing</b> procedure to a <b>single</b> multi-channel file.  Then the channel separation and recombination are carried out  automatically.
</p>

<p>
Achieving distance effects in a multi-channel context requires 
considerable thought and use of resources.  T Wishart:  "You can 
control distance (from the listener) effects in Ambisonics, but the 
programs here deal only with the plane of the loudspeakers, and distance 
effects (still) have to be created using loudness, high-frequency roll 
off, and (to simulate specific types of environment) reverberation 
effects, as in the stereo case."
</p>
</blockquote>

<p>
<b>ALSO SEE:</b> <a href = "cxreverb.htm#FASTCONV"><b>FASTCONV</b></a>, which will produce dramatic 
reverberation effects when a sound is convolved with, for example, a 
spring reverb impulse.
</p>


<p>
End of MCHANREV<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->


<h2 id="MCHITER"> MCHITER &#150; Iterate the input sound 
in a fluid manner, scattering around a multi-channel space
</h2>

<h3>
Usage
</h3>
<b>mchiter iter 1</b> <i>infil outfil outchans outduration</i> 
[<b>-d</b><i>delay</i>] [<b>-r</b><i>rand</i>] [<b>-p</b><i>pshift</i>] 
[<b>-a</b><i>ampcut</i>] [<b>-f</b><i>fade</i>] [<b>-g</b><i>gain</i>] 
[<b>-s</b><i>seed</i>]<br />
<b>mchiter iter 2</b> <i>infil outfil outchans repetitions</i> 
[<b>-d</b><i>delay</i>] [<b>-r</b><i>rand</i>] [<b>-p</b><i>pshift</i>] 
[<b>-a</b><i>ampcut</i>] [<b>-f</b><i>fade</i>] [<b>-g</b><i>gain</i>] 
[<b>-s</b><i>seed</i>]<br />
<br />

<p>
Example command line to create scattered itertions :<br>
	<blockquote>
	<b><code>mchiter iter 1 inmonosnd outmultichansnd 4 10</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Specify the duration of the output sound, as 
<i>outduration</i><br />
<b>2</b>&nbsp; Specify the number of iterated <i>repetitions</i> of 
the source sound in the output sound<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input mono (only) soundfile<br />
<i>outmcfile</i> &#150; output multi-channel soundfile<br />
<i>outchans</i> &#150; number of channels in the output file<br />
<i>outduration</i> &#150; duration of the output sound. (Must be 
greater than that of the input)<br />
<i>repetitions</i> &#150; number of iterations of the input sound in 
the output<br />
<i>delay</i> &#150; (average) delay between the iterations: must be 
less than or equal to the duration of the input sound<br />
<i>rand</i> &#150; randomisation of the delay time. Range: 0 to 1 
(Default 0)
<br />
<i>pshift</i> &#150; maximum of the random pitchshift of each iteration, 
in semitones.  Range: 0 to 12 (Default 0)<br />
<i>ampcut</i> &#150; maximum of the random amplitude fluctuation 
(reduction) at each iteration.  Range: 0 to 1  (Default 0)<br />
<i>fade</i> &#150; (average) amplitude fade from one iteration to 
the next.  Range: 0 to 1 (Default 0)<br />
<i>gain</i> &#150; overall Gain. Range: 0 to 1 (Default 0).  Using the 
special value 0 (default), gives the best guess for no output 
distortion.<br />
<i>seed</i> &#150; the same seed-number will produce identical output 
on rerunning the process.  The special value 0 produces a different random 
sequence every time the process is run. (Default 0).
</blockquote>

<h3>
Understanding the MCHITER Process
</h3>

<blockquote>
<p>
This is a 'scattering' algorithm, similar to EXTEND ITERATE, but 
with the addition of multi-channel spatial scattering.  Notice that 
the amplitude of the sound is diminishing with each repetition.
</p>

<p>
Sound is distributed randomly among the speakers of the multi-channel 
rig for a given length of time (<i>outduration</i>).  The various 
parameter options make it possible to vary the repetitions in a 
number of ways.
</p>

<p>
MCHITER ITER extends a sound by iterating it. This can be a simple 
repetition of (a part of) the source, as in EXTEND LOOP, but more typically, 
each iteration can be (slightly) transposed or varied in level, to produce 
a more naturalistic iterated output.
</p>

<p>
<i>In addition</i> the iterated copies of the sound are distributed at 
random to the output channels of a multi-channel space.  Each channel of 
the output space is visited before a new random permutation of the output 
channels is begun.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
MCHITER ITER can be used to distribute a small sound over an entire multi-channel 
space.  See <a href = "cgroextd.htm#ITERATE">EXTEND ITERATE</a> for more 
information about the iteration process.  
</p>
</blockquote>

<p>
<b>ALSO SEE:</b> <a href = "#MCHZIG"><b>MCHZIG</b></a> and <a href = "#MCHSHRED">
<b>MCHSHRED</b></a>.  For a more controlled spatial distributon (e.g. over 
less channels of the space, or in a way which varies through time), 
see <a href = "#TEXMCHAN"><b>TEXMCHAN</b></a>.


<p>
End of MCHITER ITER<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->


<h2 id="MCHSHRED"></a> MCHSHRED &#150; Sound is cut into random 
segments which are then reassembled in random order within the original 
duration
</h2>

<h3>
Usage
</h3>
<b>mchshred shred 1</b> <i>infile outmcfile repeats chunklen scatter 
outchans</i><br />
<b>mchshred shred 2</b> <i>infile outmcfile repeats chunklen scatter</i>
<br />

<p>
Example command line to create randomised reordering in several 
channels :<br />
	<blockquote>
	<b><code>mchshred shred 1 inmonofile outmcfile 2 0.8 1 8</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Shreds a <i>mono</i> input file to a multi-channel 
output<br />
<b>2</b>&nbsp; Shreds a multi-channel input file, reorienting shredded 
units in the multi-channel space<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile, Mono in Mode <b>1</b>, Multi-channel 
in Mode <b>2</b><br />
<i>outmcfile</i> &#150; output multi-channel soundfile<br />
<i>repeats</i> &#150; number of repetitions of the shredding<br />
<i>chunklen</i> &#150; average length of the chunks to cut and permute<br />
<i>scatter</i> &#150; randomisation of the cuts Range: 0 to <i>K</i> 
(Default = 1):
	<ul>
  	<li>If <i>K</i> = total number of chunks (the input sound duration 	
	divided by the average chunk length), then the randomisation can vary 
	from 0 to <i>K</i></li>
	<li>If the <i>scatter</i> = 0, the elements will be reordered on 
	each pass, but not further shredded as the cuts will always occur 
	at the same places in the original sound.</li>
	</ul>
<i>outchans</i> &#150; number of channels in the output sound.  Mode 
<b>1</b> shreds a mono input into a multi-channel output.  Mode <b>2</b> 
shreds a multi-channel input.
</blockquote>

<h3>
Understanding the MCHSHRED SHRED Process
</h3>

<blockquote>
<p>
MCHSHRED SHRED shreds a sound in the same manner as 
<a href = "cgromody.htm#RADICAL"><b>MODIFY RADICAL</b></a>, Mode <b>2</b>.<br>
</p>

<p>
In addition:
<ul>
<li>In mode <b>1</b>, the shredded elements are randomly distributed over 
a multi-channel space.</li>
<li>In mode <b>2</b>, each of the shredded elements has its frame randomly 
reoriented in the multi-channel space.  For example, input channels 
1-2-3-4-5-6-7-8 may end up in output channels 6-7-8-1-2-3-4 respectively.</li>
</ul>
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
See <a href = "cgromody.htm#RADICAL"><b>MODIFY RADICAL</b></a>, Mode <b>2</b> for 
more information about the shredding process.
</p>

<p>
MCHSHRED can be used to distribute the fragments of a sound over an entire multi-channel space.  For a more controlled spatial distributon, such as 
over less channels of the space, or in a way which varies through time,  
see <a href = "#TEXMCHAN"><b>TEXMCHAN</b></a>.
</p>
</blockquote>

<p>
<b>ALSO SEE:</b> <a href = "#MCHITER"><b>MCHITER</b></a> and <a href = 
"#MCHZIG"><b>MCHZIG</b></a>.
</p>


<p>
End of MCHSHRED SHRED<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->

<h2 id="MCHSTEREO">MCHSTEREO &#150; Place several stereo 
files in a multi-channel output space
</h2>

<h3>
Usage
</h3>
<b>mchstereo mchstereo</b> <i>infile1</i> [<i>infile2 ..</i>] <i>outfile 
ochandata ochans pregain</i> [<b>-s</b>]</i><br />
<br />

<p>
Example command line to  :<br>
	<blockquote>
	<b><code>mchstereo mchstereo instereosnd1 instereosnd2 
	outmcsndfile outchanneldata.txt 8 0.9 -s</code></b>
	</blockquote>
</p>

<h3>
Parameters
</h3>

<blockquote>
<i>infile1</i> &#150; first stereo input soundfile<br />
<i>infile2</i> &#150; second stereo input soundfile, etc.<br />
<i>outfile</i> &#150; output multi-channel soundfile<br />
<i>ochandata</i> &#150; centre position of each stereo input in the outchannel 
frame;  example (with two stereo input soundfiles):  <code>2 5</code>
	<ul>
	<li>This is a list of output channel-numbers.</li>
	<li>There must be one number for each input file.</li>
	<li>For example, with 3 input stereo sounds to an 8-channel output, 
	<code>1 3 6</code> means 
		  <ul>
		  <li>The 1<sup><small>st</small></sup> stereo image is centred 
			at channel 1.</li>
		  <li>The 2<sup><small>nd</small></sup> stereo image is centred 
			at channel 3.</li>
		  <li>The 3<sup><small>rd</small></sup> stereo image is centred 				at channel 6.</li>
		  <li>Note that some channels may have a mix of e.g., some of 
			the Left of one sound and the Right of another, and 
			<i>v.vs.</i>  It is probably best to use your ears to decide 
			if you like the mix, rather than try to work out overlaps on 
			paper.  Multi-channel soundfile display will also 
			show what is happening.</li>
		  <li>However, note the effect of the <b>-s</b> flag (see 
			below).</li>
		  </ul>
<i>ochans</i> &#150; number of channels in the output file (Range 2 
to 16)<br />
<i>pregain</i> &#150; gain applied to input sounds (Range 0 to 1)<br />
<b>-s</b> &#150; shifts the stereo images half-a-channel to the right.  
Therefore, in the example above for <i>ochandata</i>:
		  <ul>
		  <li>The 1<sup><small>st</small></sup> stereo image is centred 
			<b>between</b> channels 1 and 2.</li>
		  <li>The 2<sup><small>nd</small></sup> stereo image is centred 
			<b>between</b> channels 3 and 4.</li>
		  <li>The 3<sup><small>rd</small></sup> stereo image is centred 
			<b>between</b> channels 6 and 7.</li>
		  </ul>
</blockquote>

<h3>
Understanding the MCHSTEREO Process
</h3>

<blockquote>
<p>
MCHSTEREO allows stereo files to be treated almost like mono files 
when they are injected into a multi-channel frame.  The two channels 
of stereo remain adjacent, either in adjacent channels of the multi-channel 
output, or offset from 2 adjacent channels of the multi-channel output. 
(Note that this may not well-preserve any detailed stereo image, as the 
angle at which loudspeakers are placed in a multi-channel array may not 
correspond to the ideal stereo orientation.)  It may be used to associate stereo-processed versions of the individual (mono) channels of a 
multi-channel soundfile with those original channels, in a new multi-channel 
mix.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
MCHSTEREO allows us to use processes with stereo output (e.g., 
reverberation) on the individual (mono) channels of a multi-channel 
soundfile, and then associate those stereo outputs with the original 
channel sources.  To do this we would make a separate multi-channel mix 
of the stereo outputs, using MCHSTEREO, then mix this with the original 
multi-channel source, using NEWMIX, ensuring that the orientations of the 
two multi-channel files correspond with one another.
</p>

<p>
This might be used, for example, to add a different reverberant space 
to each of the channels of a multi-channel sound.
</p>
</blockquote>

<p>
End of MCHSTEREO<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->


<h2 id="MCHZIG"></a> MCHZIG &#150; Read soundfile back and 
forth, panning randomly between output channels at each 
'zig' or 'zag'
</h2>

<h3>
Usage
</h3>
<b>mchzig zag 1</b> <i>infile outmcfile start end dur minzig outchans</i><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[<b>-s</b><i>splicelen</i>] [<b>-m</b><i>maxzig</i>] [<b>-r</b><i>seed</i>] [<b>-a</b>] <br>

<b>mchzig zag 2</b> <i>infile outmcfile timefile outchans</i> 
[<b>-s</b><i>splicelen</i>] [<b>-a</b>]
<br />

<p>
Example command line to create randomized zig-zagging between 
channels:<br>
	<blockquote>
	<b><code>mchzig zag 1 inmonosnd outmcsnd 0.031 4.8 20 0.4 8</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Random zigzags, output going from the beginning of the 
input sound to its end, with zigzags between <i>start</i> and <i>end</i><br />
<b>2</b>&nbsp; Zigzag between a list of times supplied by the user
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input mono soundfile<br />
<i>outmcfile</i> &#150; output multi-channel soundfile<br />
<i>timefile</i> (Mode 2)&#150; textfile containing a list of times to zigzag between; each step must be &gt;(3 * <i>splicelen</i>)<br />
<i>start</i> &#150; time in sec. at which to begin the zigzags (Minimum 
value is 0.031000 sec.)<br />
<i>end</i> &#150; time in sec. at which to end the zigzags (Maximum value 
is the length of the input soundfile.)<br />
<i>dur</i> &#150; the (minimum) total duration of the output sound to be 
generated<br />
<i>minzig</i> &#150; the shortest acceptable time between successive zigzag time-points<br />
<i>outchans</i> &#150; number of channels in the output sound<br />
<b>-s</b><i>splicelen</i> &#150; splice length used to join the segments (mS, default: 25 mS)<br />
<b>-m</b><i>maxzig</i> &#150; the longest acceptable time between successive zigzag time-points<br />
<b>-r</b><i>seed</i> &#150; same seed number with same random parameters generates identical output; Default 0: generates a different random sequence each time. <br />
<b>-a</b> &#150; avoid zigs between adjacent channels (5 or more out-channels only)<br />

</blockquote>

<h3>
Understanding the MCHZIG ZAG Process
</h3>

<blockquote>
<p>
Similar to <a href = "cgroextd.htm#ZIGZAG"><b>EXTEND ZIGZAG</b></a>, the sound is 
extended by reading read back and forth within the soundfile, but in 
addition, during each 'zig' or 'zag', the sound is randomly panned to a new 
channel of the output space.
</p>

<p>
Hence the sound is in constant motion over the multi-channel space.  
The next channel to pan towards is chosen at random, and all the output 
channels are visited before a new random permutation of those channels is 
begun.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
See <a href = "cgroextd.htm#ZIGZAG"><b>EXTEND ZIGZAG</b></a> for more information 
about the zigzag process.  MCHZIG ZAG can be used to extend a sound and 
distribute it over an entire multi-channel space.  Also compare with 
<a href = "#MCHITER"><b>MCHITER ITER</b></a> in which amplitude reduction takes 
place.  For a more controlled spatial distributon, such as over less channels 
of the space, or in a way which varies through time, see 
<a href = "#TEXMCHAN"><b>TEXMCHAN</b></a>.
</p>
</blockquote>

<p>
End of MCHZIG ZAG<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->


<h2 id="MTON">MTON </a> &#150; Convert a mono sound to a 
multi-channel sound with identical signal in all channels
</h2>

<h3>
Usage
</h3>
<b>mton mton</b> <i> infile outfile outchans</i>

 <br />
<br />

<p>
Example command line to create a multi-channel soundfile from a 
mono input:<br>
	<blockquote>
	<b><code>mton mton inmonosnd outmcsnd 4</code></b>
	</blockquote>
</p>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input mono soundfile<br />
<i>outfile</i> output multi-channel soundfile<br />
<i>outchans</i> &#150; the number of channels in the output soundfile 
(Range 2-16)
</blockquote>

<h3>
Understanding the MTON Process
</h3>

<blockquote>
<p>
MTON is the multi-channel equivalent of HOUSEKEEP CHANS Mode <b>5</b> 
(convert mono to stereo).  The output is a multi-channel file where all 
channels are identical.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
A mono source can be generated in multi-channel format, then possibly 
modifed (e.g., with <a href="#FLUTTER"><b>FLUTTER</b></a>) and added to a multi-channel mix, providing 
an all-encompassing ambience.
</p>
</blockquote>

<p>
End of MTON<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->


<h2 id="MULTIMIX">MULTIMIX CREATE</a> &#150; Create a multi-channel 
mixfile
</h2>

<p>
<div align=center>
<table border="2" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#MMIXUSAGE"><b>Usage</b></a></td>
<td align=center><a href="#MMIXMODES"><b>Modes</b></a></td>
<td align=center><a href="#MMIXPARAMETERS"><b>Parameters</b></a></td>
<td align=center><a href="#MMIXUNDERSTANDING"><b>Understanding</b></a></td>
<td align=center><a href="#MMIXAPPLICATIONS"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3 id= "MMIXUSAGE">Usage</h3>
<b>multimix create 1</b> <i>infile1 infile2</i> 
[<i>infile3..</i>] <i>mixoutfile</i><br />
<b>multimix create 2</b> <i>infile1 infile2</i> 
[<i>infile3..</i>] <i>mixoutfile</i><br />
<b>multimix create 3</b> <i>infile1 infile2</i> 
[<i>infile3..</i>] <i>mixoutfile timestep</i><br />
<b>multimix create 4</b> <i>infile1</i> 
[<i>infile2 infile3..</i>] <i>mixoutfile balance</i><br />
<b>multimix create 5</b> <i>infile1</i> 
[<i>infile2 infile3..</i>] <i>mixoutfile stage wide rearwide 
rear</i><br />
<b>multimix create 6</b> <i>infile1 infile2</i> 
[<i>infile3..</i>] <i>mixoutfile</i><br />
<b>multimix create 7</b> <i>infile1 infile2</i> 
[<i>infile3..</i>] <i>mixoutfile ochans startch</i> 
[<b>-s</b><i>skip</i> <b>-t</b><i>timestep</i>]<br />
<b>multimix create 8</b> <i>infile1 infile2</i> 
[<i>infile3..</i>] <i>mixoutfile ochans</i> 
<br />

<p>
Example command line to create a multi-channel mix file:<br>
	<blockquote>
	<b><code>multimix create 1 horn fourS ramzrota hfrmx.mmx</code></b>
	</blockquote>
</p>

<h3 id= "MMIXMODES">Modes</h3>

<blockquote>
<b>1</b>&nbsp; Create a mix where all files start at time zero.  (Sound 
design amalgamation of sounds.)
	<ul>
	<li>Input files can have any number of channels, including a 
	mixture of different numbers of channels.  For example the inputs for 
	the example command line above are mono, stereo and 4-channel.</li>
	<li>Outchannel count is set to the maximum channel-count among 
	the input files.</li>
	</ul>
<b>2</b>&nbsp; Create a mix where each file enters where the last ended.  
(End-to-end mixing.)
	<ul>
	<li>Input files can have any number of channels.</li>
	<li>Outchannel count is set to the maximum channel-count among the 
	input files.</li>
	</ul>
<b>3</b>&nbsp; Create a mix where each file enters a given <i>timestep</i> 
after the start of the previous sound (Constant time interval between entries.)
	<ul>
	<li>Input files can have any number of channels.</li>
	<li>Outchannel count is set to the maximum channel-count among the 
	input files.</li>
	</ul>
<b>4</b>&nbsp; Distributes a mono or stereo input to two stereo pairs, one narrow and one wide, in an 8-channel output frame, with <i>balance</i> 
parameter. (Stereo assignments.)
	<ul>
	<li>Input Stereo-Right (or mono) goes to 1 and 2.</li>
	<li>Input Stereo-Left (or mono) goes to 8 and 7</li>
	<li>All input files are sent to the <b>same</b> set of output 
	channels.</li>
	</ul>
<b>5</b>&nbsp; Distributes mono or stereo input over 8 loudspeakers, 
with extra level-control parameters.  (8-wide distribution.)
	<ul>
	<li>Input Stereo-Right (or mono) goes to 1, 2, 3 & 4.</li>
	<li>Input Stereo-Left (or mono) goes to 8, 7, 6 & 5.</li>
	<li>All input files are sent to the <b>same</b> set of output 
	channels.</li>
	</ul>
<b>6</b>&nbsp; Distributes <i>N</i> mono files, in order, to <i>N</i> 
successive output channels. (Distribution in ascending order.)
	<ul>
	<li>Output Channel count = number of input files.</li>
	</ul>
<b>7</b>&nbsp; Distributes <i>N</i> mono files, in order, to <i>K</i> 
successive output channels. (Channels may exceed or be less than inputs.)
	<ul>
	<li>Output Channel count (<i>ochans</i>) can be <b>greater than</b> the 
	number of input files, in which case the remaining channels are 
	assigned no signal.</li>
	<li>Output Channel count (<i>ochans</i>) can be <b>less than</b> the 
	number of input files, in which case some signals will be assigned to 
	the same channel</li>
	<li>For example, 6 files into a 4-channel output file gives 
		<ul>
		<li>inmonosnd1-to-1</li>
		<li>inmonosnd2-to-2</li>
		<li>inmonosnd3-to-3</li>
		<li>inmonosnd4-to-4</li>
		<li>inmonosnd5-to-1</li>
		<li>inmonosnd6-to-2</li>
		</ul>
	<li>Also note <i>startch</i>, <i>skip</i> and <i>timestep</i> 
	parameters.</li>
	</ul>
<b>8</b>&nbsp; Each file in the mix starts at zero, leftmost channel 
to <i>outchan</i> 1.
	<ul>
	<li>In Mode <b>1</b>, The number of output channels in the mixfile 
	output is determined by the maximum number of channels in any of the 
	input files.</li>
	<li>In Mode <b>8</b>, The number of output channels in the mixfile 
	output is explicitly specified.</li>
	</ul>
</blockquote>

<h3 id= "MMIXPARAMETERS">Parameters</h3>

<blockquote>
<i>infile1</i> &#150; name of first mono or stereo soundfile to be mixed<br />
<i>infile2</i> &#150; name of second mono or stereo soundfile to be mixed<br />
[<i>infile3..</i>] &#150; names of any additional mono or stereo soundfiles to be mixed
	<blockquote>
	All modes accept MONO input soundfiles.  Modes <b>4</b>, & <b>5</b> <i>also</i> accept stereo input soundfiles, but not soundfiles with more than 2 channels.
	</blockquote>
<i>mixoutfile</i> &#150; output multi-channel mixfile, with the extension <b>.mmx</b> (Also see <a href="filestxt.htm#MMXMIXFILES"><i>Files &amp; Formats</i></a>)<br />
<br />
<i>timestep</i> &#150; (Mode <b>3</b>) time in seconds between entry of 
each input file in the mix<br />
<br />
<i>balance</i> &#150; (Mode <b>4</b>) proportion of the stereo signal 
assigned to the wider of the 2 stereo pairs<br />
<br />
<i>stage</i> &#150; (Mode <b>5</b>) level of signal assigned to front 
loudspeaker pair (8,1)<br />
<i>wide</i> &#150; (Mode <b>5</b>) level of signal assigned to front-wide loudspeaker pair (7,2)<br />
<i>rearwide</i> &#150; (Mode <b>5</b>) level of signal assigned to rear-wide loudspeaker pair (6,3)<br />
<i>rear</i> &#150; (Mode <b>5</b>) level of signal assigned to rear 
loudspeaker pair (5,4).<br />
<br />
<i>ochans</i> &#150; (Modes <b>7-8</b>) number of channels in the output 
soundfile generated by the <i>mixoutfile</i>.  Range: 2 to 16.<br />
<br />
<i>startch</i> &#150; (Mode <b>7</b>) In processes where a list of 
(mono) input sounds is assigned to consecutive channels of a multi-channel 
output, this parameter defines which of the multi-channel file's channels 
will get the first sound in the list.  Subsequent files are assigned to 
higher channels, wrapping around to 1 when the highest output channel is 
reached.<br />
<br />
<b>-s</b><i>skip</i> &#150; (Mode <b>7</b>) In processes where a list of 
(mono) input sounds is assigned to consecutive channels of a multi-channel 
output, this parameter defines the <b>channel-step</b> between channel 
assignment in the output multi-channel soundfile.   For example, if the 
first input soundfile is assigned to output channel 1, and the <i>skip</i> 
is 2, the next output channel to be assigned will be 1 + 2 = channel 3.<br />
<br />
<b>-t</b><i>timestep</i> &#150; (Mode <b>7</b>) In the mode where a 
<i>mixfile</i> is created with a <i>timestep</i> between the entry of 
each input soundfile, this parameter defines that <i>timestep</i>.  
For example, with a <i>timestep</i> of 1.5, the 1<sup><small>st</small></sup> 
input file will begin at time 0, the 2<sup><small>nd</small></sup> at 
time 1.5, the 3<sup><small>rd</small></sup> at time 3, etc.
</blockquote>

<h3 id= "MMIXUNDERSTANDING">Understanding the MULTIMIX CREATE Process
</h3>

<blockquote>

<p>
This process is similar to <a href = "cgromixr.htm#DUMMY">
<b>SUBMIX DUMMY</b></a>, but with additional options for creating a multi-channel mixfil).
</p>

<p>
The multi-channel mixfile has a slightly different format to standard CDP 
mixfiles  &#150; see <a href="filestxt.htm#MMXMIXFILES"><b><i>Files &amp; Formats</i></b></a> or <a href = "#NEWMIX"><b>NEWMIX MULTICHAN</b></a> below, or  <a href="#MCMIXFILES"><b>M-C Mixfiles</b></a> in this document for a fuller explanation.
</p>

<p>
The mixfile for multi-channel work is the same as standard CDP mixfiles 
except for the following:
<ol>
<li>There is an extra initial line that states the number of output 
channels</li>
<li>On ensuing lines, input and output channels are numbered 1, 2, 3, 
etc.</li>
<li>Routing of input to output is indicated by <b>inchan colon outchan</b>, 
e.g., <code>1:4</code> (no spaces) sends input channel 1 to output channel 4</li>
<li>The levels on these channels are in the range -1 to 1</li>
<li>An input channel must be routed to an output channel, with a level: 
e.g., <code>1:1 1.0 2:4 0.5</code>, meaning: input channel 1 to output 
channel 1 with level 1.0, input channel 2 to output channel 4 with level 
0.5</li>
<li>You can route an input channel to several output channels: e.g., 
<code>1:1 0.5 &nbsp;1:2 0.3 &nbsp; 1:4 0.7</code> etc.</li>
<li>You must take care with levels, where more than one input goes to 
the same output.  As a rule of thumb, the sum of the levels should not 
exceed 1.0.</li>
</ol>
</p>

<p>
Using MULTIMIX is the easiest way to produce a multi-channel <i>mixfile</i> 
of the correct format.  The file can then be edited, either as a textfile or, 
on the <i>Sound Loom</i>, using the <b>QikEdit</b> facilties, where many new 
functions have been added to automatically manipulate the data lines in the 
<i>mixfile</i>.
</p>

<p>
We have added several examples of multi-channel mixfiles in the 
<a href = "#MCMIXFILES"><b>MULTIMIX Mixfiles Appendix</b></a> below, 
along with a discussion about moving on to use the <i>mixfile</i> with 
NEWMIX MULTICHAN, and some notes about facilities available on the 
<i>Sound Loom</i> GUI.
</p>
</blockquote>

<h3 id= "MMIXAPPLICATIONS">Musical Applications</h3>

<blockquote>
</p>

<p>
Generating multi-channel <i>mixfiles</i> in the correct format is not 
always straightforward.  Even when MULTIMIX will not generate exactly 
the file you need it is usually easier to create a dummy file here 
and subsequently edit it (in a text editor or on the <i>Sound Loom's</i> 
<b>QikEdit</b> facility) than to write out a multi-channel <i>mixfile</i> 
from scratch in the correct format.
</p>
</blockquote>

End of MULTIMIX CREATE<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->

<h2 id="NEWMIX">NEWMIX MULTICHAN &#150; Mix from a multi-channel 
mixfile to give a multi-channel soundfile output
</h2>

<h3>
Usage
</h3>
<b>newmix multichan</b> <i>mixfile outsndfile</i> [<b>-s</b><i>start</i>] 
[<b>-e</b><i>end</i>] [<b>-g</b><i>attenuation</i>]
<br />

<p>
Example command line to perform a multi-channel mix:<br>
	<blockquote>
	<b><code>newmix multichan mchmixfile.mmx mchoutsndfile</code></b>
	</blockquote>
</p>

<h3>
Parameters
</h3>

<blockquote>
<i>mixfile</i> &#150; input multi-channel mixfile, with the extension <b>.mmx</b><br />
<i>mchoutsndfile</i> &#150; output multi-channel soundfile<br />
<b>-s</b><i>start</i> &#150; time in seconds at which to start mixing 
within the <i>mixfile</i>.  Defaults to 0.0.<br />
<b>-e</b><i>end</i> &#150; time in seconds at which to stop mixing 
within the <i>mixfile</i>.  Defaults to the end of the complete mix.
	<blockquote>
	Note that the <i>start</i> and <i>end</i> parameters are intended 
	for mix testing purposes only, and mixes made with non-default 
	values will switch-on and&#47;or cut-off abruptly.  If you 
	want to keep output from such a text mix, you should use 
	<a href = "cgroenvl.htm#TOPANTAIL2">ENVEL TOPANTAIL2</a> to smooth 
	the beginning and the end.
	</blockquote>
	
<b>-g</b><i>attenuation</i> &#150; the level of the output mix.  
Defaults to 1.0 (no attenuation).
</blockquote>

<h3>
Understanding the NEWMIX MULTICHAN Process
</h3>

<blockquote>
Multi-channel mixfiles can also be written as text files, and are similar 
to the Standard CDP mixfiles.  However, it is recommended that these files 
be generated using <a href = "#MULTIMIX">MULTIMIX CREATE</a> (and subsequently 
edited if necessary) to ensure that they are in the correct format.  For an overview of the format of <b>.mmx</b> files, see <a href="filestxt.htm#MMXMIXFILES"><i><b>Files &amp; Formats</b></i></a>.
As with standard mixfiles, 
	<ul>
	<li>The first entry in a line is the name of an input sound (with a path unless it is in the current directory).</li>
	<li>The second entry in the line is the time in the mix at which 
	it starts</li>
	<li>The third entry in the line is the number of channels in the 
	input sound.  The format for the channels for NEWMIX MULTICHAN 
	has been changed to accommodate both a larger number of channels 
	and channel group routing.</li>
	<li>You can examine the output mixfiles of <a href = "#MULTIMIX">
	MULTIMIX CREATE</a> to get more examples of multi-channel 
	mixfiles.</li>
	</ul>

However, in the following example of a multi-channel mixfile you will notice some differences:
<pre>
8
<font color = "#FF0000">[soundfile start chans routing level routing level ...]</font>
sound1.wav 0.0 2 1:1 0.5  2:2 0.5
sound2.wav 0.0 2 1:3 0.5  2:4 0.5
sound3.wav 0.0 4 1:5 0.25 2:6 0.25 3:7 4:8 0.25
sound4.wav 0.0 2 1:1 0.1  1:2 0.03 1:3 0.9 1:4  0.2 1:5 0.2 1:6 0.15 1:7 0.5 1:8 0.32
</pre>

<p>
The main differences from standard mixfiles are:
<ul>
<li>There is an extra initial line that gives the number of output 
channels that there will be in the resultant multi-channel soundfile.</li>
<li>On ensuing lines, input and output channels are numbered 1,2,3 etc. ...16</li>
<li>Routing of input to output is indicated by 'inchan:outchan' (no spaces)
   e.g. 1:4 sends input channel 1 to output channel 4</li>
<li>An input channel must be routed to an output channel, <b>with a level</b>:
	 e.g. 2:4 0.5 (input 2 is sent to output 4 with level 0.5)</li>
<li>The levels on these channel-routings are in the range 0 to 1.</li>
<li>You can route an input to many outs as with sound4.wav in the mixfile 
above.</li>
<li>You must take care with levels where more than 1 input goes to the same 
output.</li>
</ul>

<p id= "PANNINGANDMIXFILES">
<b>Panning and multi-channel Mixfiles:  We need to consider how these 
channel assignments in the <i>mixfile</i> relate to a multi-channel input 
soundfile <i>that has already been panned</i> with <a href="#MCHANPAN">MCHANPAN</a>.</b>
</p>

<p>
T Wishart writes: "If a sound has already been panned around the 
multi-channel space (using MCHANPAN) the panned-sound output 
consists of a set of discrete signals assigned to the <i>N</i> channel 
outputs of the multi-channel sound. (The movement of the sound is the 
result of the changing levels in the individual channels of the 
multi-channel output)."
	<ul>
	<li><b>Routing</b> &#150; To preserve the 'sense' of the panning, 
	when mixing, routing should be <b><i>N</i>:<i>N</i></b> i.e., 
	<code>1:1 2:2 3:3 4:4 5:5</code> etc. so that the orientation of 
	the signal is not changed.  <b>It is very important to remember 
	this when using panned multi-channel soundfiles in a 
	<i>mixfile</i></b>.</li>
	<li><b>Shifting the whole pattern</b> &#150; The entire panning 
	pattern could be shifted to a different position.  For example, 
	shifted along by <i>N</i> loudspeaker positions, by making the 
	assignment <b>1:1+<i>N</i></b>.  Thus, to shift the pattern by 4 
	loudspeakers, use the assignment 
	<code>1:5 2:6 3:7 4:8 5:1 6:2 7:3 8:4</code> (with the output 
	channel values wrapping back to 1 when the maximum output channel 
	is reached).  This transformation preserves the original 
	rotation, but starts it in a different place (i.e., at output 
	channel 5).</li>
	<li><b>Mirroring</b> &#150; Alternatively, the panning data can 
	be mirrored (e.g. a clockwise rotation can be made into an 
	anticlockwise rotation) by reversing the output channel order 
	e.g., (for 8 channels) you would put <code>1:1 2:8 3:7 4:6 5:5 6:4 
	7:3 8:2</code>.
	<blockquote>
	(Note that this transformation will also convert an anticlockwise 
	rotation into a clockwise rotation &#150; this needs a little 
	thought - these channel assignments all take 
	place at the <b>same time</b>, before the sound begins to play.  
	We are not 'panning' (actively moving) the sound here, merely 
	reassigning the channels on which the sound will by played).
	</blockquote></li> 
	<li><b>Reorientation</b> &#150; This reorientation or mirroring 
	can also be achieved directly on the multi-channel sound itself, 
	using the <b>Reorient</b> option in 
	<a href = "#FRAMESHIFT"><b>FRAME SHIFT</b></a>.</li>
	</ul>
</p>

</p>

</blockquote>

<h3>
Musical Applications
</h3>

<p>
Note that the program <a href = "#MULTIMIX"><b>MULTIMIX CREATE</b></a> can be used to automatically generate multi-channel mixfiles of the correct format for 
use by <a href = "#NEWMIX"><b>NEWMIX</b></a>, and this is the recommended approach to creating these 
files.  For more information and various examples of MULTIMIX 
<i>mixfiles</i>, please see the section <a href = "#MCMIXFILES">
<b>MULTIMIX Mixfiles (Appendix 1)</b></a>.
</p>

<p>
It may be useful to summarise the various roles of NEWMIX MULTICHAN, MULTIMIX CREATE and MCCHANPAN:
	<ul>
	<li>NEWMIX MULTICHAN (this function) does the mixing, using a multi-channel mixfile (<b>.mmx</b>).  This <b>.mmx</b> file can be written by hand with a text editor, or your could use the facilities of <a href = "#MULTIMIX">MULTIMIX CREATE</a> to make it (recommended).  For its format, see <a href="filestxt.htm#MMXMIXFILES"><i>Files &amp; Formats</i></a></a>, as well as <a href="#MCMIXFILES"><b>M-C Mixfiles</b></a> (Appendix 1) in this document.  The distinguishing feature of a multi-channel mixfile is that it includes routing information for each channel, expressed in the format IN-CHANNEL:OUT-CHANNEL, as in 2:7, i.e., channel-2 of the input soundfile becomes channel-7 in the output multi-channel mixfile.  For example, where the input to MULTIMIX CREATE is a mono file, 'IN-CHANNEL' will be '1' and refer to that particular sound.  It can be routed to more than one 'OUT-CHANNEL'. Modes <b>4</b> & <b>5</b> also accept stereo input, so 'IN-CHANNEL' can be '1' or '2'.  <i>Note that all this is simply a speaker assignment &#150;  it does not imply any pan movement.</i></li><br />
<br />
	<li><a href = "#MCHANPAN">MCHANPAN</a> is the function that produces pan and must be applied to the input MONO soundfile(s) <i>before</i> mixing (only Mode <b>4</b> & <b>5</b> allows a Stereo infile).  Because panning is applied before mixing, the level changes that create the illusion of movement are already in place in any panned-soundfile before it is used in the mix.  The data in the panfile used to generate the panning motion has <i>time position direction</i> information (<a href="filestxt.htm#MCPANFILES">example</a>) .  <b>When using these already panned soundfiles as inputs to NEWMIX MULTICHAN, <i>remember to do a straight routing for all channels, i.e., 1:1, 2:2, 3:3 ... 8:8</i></b>.  This preserves the movement pattern of the already panned input (multi-channel) soundfile.</li><br />
<br />
	<li>It would seem that the crucial aspect of this is keeping track of what sound material is on each channel before starting to mix.  NEWMIX MULTICHAN can accept mono, stereo or 2+ channel inputs, and the latter could consist of several mono sounds that have been panned into a multi-channel soundfile.   You are therefore advised to find a way to chart out what is where in the multi-channel mixfile.</li><br /><br />

	<li> Also see Appendix: <a href = "#MCMIXFILES"><b>M-C MIXFILES</b></a></li>
	</ul>
</p>

<p>
T. Wishart writes: "MULTIMIX is concerned with the mixing of sounds of 
any number of channels.  Those sounds may themselves be moving around 
the multi-channel space (see <a href = "#MCHANPAN">MCHANPAN</a>).  
This is equivalent to mixing stereo signals containing sound-motion, as 
in a normal CDP mix.  MULTIMIX cannot itself be used to pan sounds 
(make them move around the multi-channel space &#150; this is done with 
MCHANPAN) or to change an existing movement. Assigning input channel 
<i>N</i> to output channel <i>N</i> will ensure that any motion within an 
input sound in the mix is preserved.  But (as in the examples above) an 
existing movement can be affected by how the signal is routed - it can be 
shifted or mirrored or in fact distorted in any desired way, according 
to how the input channels are assigned to the output channels."
</blockquote>

<p>
End of NEWMIX MULTICHAN<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->

<h2 id="PANORAMA">PANORAMA &#150; Distribute &gt; 1 mono files in a spatial panorama across a specified angle of a sound-surround loudspeaker array
</h2>

<h3>
Usage
</h3>
<b>panorama panorama 1</b> <i>insndfile1 insndfile2 [insndfile3...] outmixfile lspk_cnt lspk_aw sounds_aw sounds_ao config</i> [<b>-r</b><i>rand</i>] [<b>-p</b>] [<b>-q</b>]<br />
<b>panorama panorama 2</b> <i>insndfile1 insndfile2 [insndfile3...] outmixfile lspk_positions lspk_aw sounds_aw sounds_ao config</i> [<b>-r</b><i>rand</i>] [<b>-p</b>] [<b>-q</b>]
<br />

<p>
Example command line to create ... :<br>
	<blockquote>
	<b><code>panorama panorama 1 inf1 inf2 panomix.mmx 8 360 360 0 1 -r0</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Loudspeakers are assumed to be equally spaced<br />
<b>2</b>&nbsp; Loudspeaker positions are defined in a textfile<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile1</i> &#150; first input MONO (only) input soundfile<br />
<i>insndfile2</i> &#150; second input MONO (only) input soundfile<br />
<i>insndfile3 ...</i> &#150; optional additional input MONO (only) input soundfiles<br />
<i>outmixfile</i> &#150; output multi-channel mixfile for use with the multi-channel mixer <a href = "#NEWMIX"><b>NEWMIX MULTICHAN</b></a>.  <b>NB:</b> The suffix produced is <b>.mmx</b> whatever is specified. This distinguishes it from <b>.mix</b> files, whose format is very different.<br /><br />
<i>lspk_cnt</i> &#150; the number of loudspeakers.  In Mode <b>1</b> they are assumed to be equally spaced, but this is not necessarily the case for Mode <b>2</b>.<br />
<i>lspk_aw</i> &#150; the angular width of the loudspeaker array (Range: 190&deg; - 360&deg;), front centre at 0.  The loudspeaker array is assumed to be symmetrical around a centre-line, running through front-centre of the loudspeaker array and centre of the auditorium.  Thus, if front centre is at 0&deg;, the a 190&deg; spread is from -95&deg; to (+)95&deg;.  A 360&deg; spread is from -180&deg; to (+)180&deg;.<br />
<i>sounds_aw</i> &#150; the angular width of the output sounds, equal to or less than <i>lspk_aw</i>.<br />
<i>sounds_ao</i> &#150; the angular offset of the output sounds.  This is only possible if <i>sounds_aw</i> is less than <i>lspk_aw</i>:  the angle between the centre-line of the sounds and the centre-line of the loudspeakers.<br /><br />
<i>config</i> &#150; the distribution of the output sounds within the output angle:
	<ul>
	<li><b>config<i></i></b> = 1: sounds are equally spaced</li>
	<li><b><i>config</i></b> = 2: 2 sounds equally spaced, followed by a gap, etc.</li>
	<li><b><i>config</i></b> = 3: 3 sounds equally spaced, followed by a gap</li>
	<li>and so on ...</li>
	<li><i>config</i> must be a divisor of the number of input sounds.</li>
	</ul>
<b>-r</b><i>rand</i> &#150; a randomisation of sound positions (Range: 0 to 1)<br />
<i>lspk_positions</i> &#150; In Mode <b>2</b> speaker positions are specified in a textfile list of angular positions of (3 - 16) loudspeakers.  Positions are specified by positive values between 0&deg; (front-centre) clockwise, so that:
	<ul>
	<li>Values to the <b>right of centre</b> lie between 0&deg; (front) and 180&deg; (rear).</li>
	<li>Values to the <b>left of centre</b> lie between &gt;180&deg; (rear) and 360&deg; (= 0&deg;) (front).</li>
	</ul>

<b>-p</b> &#150; set this flag to give a pair of loudspeakers at the front.  ??NB:  if <i>lspk_aw</i> is less than 360&deg;, this flag will be ignored ??interpreted differently.  Therefore,
	<ul>
	<li>If the angular width of the loudspeakers (<i>lspk_aw</i>) &lt; 360&deg;, an <b>odd number</b> of loudspeakers gives <b>one</b> speaker at centre- front (the Default), and an <b>even number</b> of loudspeakers gives <b>a pair</b> of loudspeakers centred on the front.</li>
	<li>If <i>lspk_aw</i> = 360&deg;, the speaker orientation is ambiguous.</li>
	</ul>
<b>-q</b> &#150; the same logic as for the <b>-p</b> flag operates here, but applied to sound positions:  ??ignored if <i>sounds_aw</i> &lt; 360&deg;.
</blockquote>

<h3>
Understanding the PANORAMA Process
</h3>

<blockquote>
<p>
PANORAMA distributes two or more mono soundfiles in a spatial panorama, with a multi-channel mixfile as the output.  Loudspeakers are assumed to be effectively surrounding the listening area from the front outwards.  The input sounds are distributed in order from the leftmost to the rightmost position:  with a 360&deg; spread, 180&deg; is rightmost.
</p>

<p>
Assuming the listener is in the middle of the auditorium, facing the front, the centre-line passes through the listener in the direction s&#47;he is facing. So in an 8-channel ring, with loudspeaker 1 placed centrally at the front, it passes through loudspeakers 1 and 5.
</p>

<p>
<em>However, the loudspeakers do not have to encircle the listener.</em>  The parameter <i>ang_width</i> refers to the total spread angle of the loudspeakers.
	<ul>
	<li>The minimum is 190&deg; (just greater than 180&deg;) with loudspeakers from (just behind) left of the central-listener, through to (just behind) the right of the central listener ... and none in the rest of the space behind the listener.</li>
	<li>The maximum is 360&deg;, with the loudspeakers completely encircling the listener.</li>
	<li>In Mode <b>1</b> the loudspeakers are assumed to be equidistant (except for the gap between the leftmost and rightmost speakers in the non-encircling cases).</li>
	<li>In a 190&deg; total spread the leftmost position is at -95&deg; and the rightmost position at +95&deg;.</li>
	<li>In a 360&deg; total spread, the leftmost position is at -180&deg;, and rightmost at +180&deg; (i.e. both in loudspeaker 5 in a centred octagonal arrangement).</li>
	<li>In Mode <b>2</b> the loudspeaker positions can be specified.</li>
	</ul>

<b>NB:</b> There is an ambiguity in the usage, as the Mode <b>2</b> loudspeaker position information specifies position from 0 (front centre) through to 360, rather than from -180 to +180.
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of PANORAMA<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top">
<b>Return</b></a> to 'Groucho' Time-Domain Index<br />
</p>




<hr><!-- ========================================================================= -->
<h2 id="SPIN">SPIN &#150; Spin one or two stereo images across a multichannel space<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A sub-group of two: SPIN STEREO and SPIN QUAD</h2>

<h3>
Usage
</h3>
<b>spin name mode</b> <i>infile outfile parameters</i>, where <b>name</b> can be <b>stereo</b> or <b>quad</b>


<h2 id="SPINSTEREO"> SPIN STEREO &#150; Spin a wide stereo image across stereo or multichannel space, with possible doppler-shift</h2>

<h3>
Usage
</h3>
<b>spin stereo 1</b> <i>infile outfile rate dopl xbuf</i> [<b>-b</b>boost] [<b>-a</b>att] [<b>-e</b>expbuf] <br>
<b>spin stereo 2</b> <i>infile outfile rate chns cntr dopl xbuf</i> [<b>-b</b>boost] [<b>-a</b>att] [-<b>k</b>cmn] [<b>-c</b>cmx]<br>
<b>spin stereo 3</b> <i>infile outfile rate chns cntr dopl xbuf</i> [<b>-b</b>boost] [<b>-a</b>att] [-<b>k</b>cmn] 


<h3>
Modes
</h3>
<blockquote>
1&nbsp; spin with doppler pitch-shift<br> 
2, 3&nbsp;  create a 3-channel-wide output, 
centred on channel "centre", in an "ochans"-channel outfile.<br><br>
When the spinning image crosses the centre:<br>
Mode 2 uses the outer channels to project a stereo-at-centre image.<br>
Mode 3 uses ONLY the central channel to project a stereo-at-centre image.

</blockquote>


<h3>
Parameters
</h3>
<blockquote>
<i>infile</i> &#150; input soundfile (STEREO).<br>
<i>outfile</i> &#150; output soundfile (STEREO or MULTI-CHANNEL).<br>
<i>rate</i> &#150; spin speed in cycles per second (can vary over time):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      Positive values spin clockwise and negative values anticlockwise (as viewed from above). (Range: -100 to +100 Hz)<br>
<br>
<b>Modes 2 &amp; 3 only:</b><br>
<i>chns</i> &nbsp;&nbsp;(Modes 2 &amp; 3) &#150; number of channels in output file. (Range: 4 to 16)<br>
<i>cntr</i> &#150; central channel of the 3-channel output. (Range: 1 to <i>chns</i>)<br>
<br>
<i>dopl</i> &#150; maximum doppler pitch-shift (Range: 0 to 12 semitones)<br> 
<i>xbuf</i> &#150; multiply size of buffer for Doppler shift (may be necessary for large shift). (Range: 1 to 64)<br>
<b>-b</b><i>boost</i> &#150; optional boost of level, as edges pass through the centre;  (Range: 0 to 16) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      gradually increases (<b>*</b><i>boost</i>) as edge passes "FRONT" centre<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      and decreases (<b>*</b>1/<i>boost</i>) as edge passes "REAR" centre.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      As the two edges pass through the centre simultaneously, one edge gets louder and the other quieter.<br> 
<b>-a</b><i>att</i> &#150; overall level attenuation (<b>*</b><i>att</i>) as both edges pass through the centre. (Range: 0 to 1)<br> 
<b>-e</b><i>expbuf</i>(Mode 1) &#150; [optional parameter not defined]  <br> 
-<b>k</b><i>cmn</i> (Modes 2,3) &#150;  minimum level on the central channel. (Range: 0 to 1)<br>
<b>-c</b><i>cmx</i> (Mode 2 only) &#150; maximum level on the central channel. (Range: 0 to 1, &lt;=<i>cmn</i>)

</blockquote>



<h3>
Understanding the SPIN STEREO Process
</h3>

<blockquote>
<p>
A stereo sound is rotated within stereo (Mode 1) or multichannel space (Modes 2/3), with optional Doppler Shift.  In Mode 1, the main parameters are the <i>rate</i> of spin and doppler shift (<i>dopl</i>). 
</p><p>
Modes 2 and 3 produce a 3-channel-wide rotation within multichannel space, which must be at least 4 channels wide (<i>chns</i>).  

</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
End of SPIN STEREO<br>
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br>
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>



<hr><!-- ========================================================================= -->
<h2 id="SPINQUAD">SPIN QUAD &#150; Spin two wide stereo-images across a 5-channel-wide sound image, with possible doppler-shift</h2>

<h3>
Usage
</h3>
<b>spin quad 1</b> <i>infile1 infile2 outfile rate ochns cntr dopl xbuf</i> [<b>-b</b>boost] [<b>-a</b>att] [<b>-k</b>cmn] [<b>-c</b>cmx] <br>
<b>spin quad 2</b> <i>infile1 infile2 outfile rate ochns cntr dopl xbuf</i> [<b>-b</b>boost] [<b>-a</b>att] [<b>-k</b>cmn] 

<h3>
Modes
</h3>
<blockquote>
When the spinning image crosses the centre: <br>
<b>1</b>&nbsp; use the outer channels to project the stereo-at-centre image.<br>
<b>2</b>&nbsp; use only the central channel to project the stereo-at-centre image.
</blockquote>


<h3>
Parameters
</h3>
<blockquote>
<i>infile1, infile2</i> &#150; two input soundfiles (STEREO).<br>
<i>outfile</i> &#150; output soundfile (MULTI-CHANNEL).<br>
<i>rate</i> &#150; spin speed in cycles per second (can vary over time):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      Positive values spin clockwise and negative values anticlockwise (as viewed from above). (Range: -100 to +100 Hz)<br>
<i>ochns</i> &#150; number of channels in the output file. (Range: 5 to 16)<br>
<i>cntr</i> &#150;  central channel of the 5-channel output. (Range: 1 to <i>ochns</i>)<br>
<i>dopl</i> &#150; maximum doppler pitch-shift (Range: 0 to 12 semitones)<br> 
<i>xbuf</i> &#150; multiply size of buffer for Doppler shift (may be necessary for large shift). (Range: 1 to 64)<br>
<b>-b</b><i>boost</i> &#150; optional boost of level, as edges pass through the centre; (Range: 0 to 16) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      gradually increases (<b>*</b><i>boost</i>) as edge passes "FRONT" centre<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      and decreases (<b>*</b>1/<i>boost</i>) as edge passes "REAR" centre.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      As the two edges pass through the centre simultaneously, one edge gets louder and the other quieter.<br> 
<b>-a</b><i>att</i> &#150; overall level attenuation (<b>*</b><i>att</i>) as both edges pass through the centre. (Range: 0 to 1)<br> 
-<b>k</b><i>cmn</i> &#150;  minimum level on the central channel. (Range: 0 to 1)<br>
<b>-c</b><i>cmx</i> (Mode 1 only) &#150; maximum level on the central channel. (Range: 0 to 1, &lt;=<i>cmn</i>)

</blockquote>



<h3>
Understanding the SPIN QUAD Process
</h3>

<blockquote>
<p>
Two stereo sounds are rotated around multichannel space, with optional Doppler Shift. ("QUAD" refers to 2 x stereo.) The program produces a 5-channel-wide spin within multichannel space, which must be at least 5 channels wide (<i>ochns</i>). <br>
The main parameters are the speed of rotation (<i>rate</i>) and any Doppler pitch-shift (<i>dopl</i>).
</p><p>
SPIN QUAD complements SPIN STEREO which rotates a single stereo sound in stereo or mutichannel space.
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
End of SPIN QUAD<br>
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br>
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index
</p>


<hr> <!-- ************************************************************* -->

<h2 id="STRANSMULTI">STRANS MULTI</a> &#150; Change the speed or pitch 
of a multi-channel sound, or add vibrato
</h2>

	<blockquote>
	<b>N.B.</b> This function is the multi-channel equivalent of
	<a href = "cgromody.htm#SPEED"><b>MODIFY SPEED</b></a>.
	</blockquote>

<p>
<div align=center>
<table border="1" cellpadding="4" bgcolor="#B0E0E6">
<tr>
<td><a href="#MCSPEEDUs"><b>Usage</b></a></td>
<td><br></td>
<td><a href="#MCSPEEDMo"><b>Modes</b></a></td>
<td><br></td>
<td><a href="#MCSPEEDPa"><b>Parameters</b></a></td>
<td><br></td>
<td><a href="#MCSPEEDUn"><b>Understanding</b></a></td>
<td><br></td>
<td><a href="#MCSPEEDAp"><b>Musical Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3 id="MCSPEEDUs">Usage</h3>
TRANSPOSITION:<br />
<font color="#FF0000">(NB! - Transposition is always relative to 
the <b>original</b> speed of the soundfile)</font><br />
<b>strans multi 1</b> <i>inmcfile outmcfile speed</i> [<b>-o</b>]<br />
<b>strans multi 2</b> <i>inmcfile outmcfile semitone-transpos</i> [<b>-o</b>]<br><br>
ACCELERATION:<br>
<b>strans multi 3</b> <i>inmcfile outmcfile accel goaltime</i>
[<b>-s</b><i>starttime</i>]<br>
VIBRATO:<br>
<b>modify speed 4</b> <i>inmcfile outmcfile vibfrq vibdepth</i><br>


<h3 id="MCSPEEDMo">Modes</h3>

<blockquote>
<b>1</b>&nbsp; Change the pitch (&amp; speed) of a multi-channel input sound (in a 
possibly time-varying way) by using a speed-multiplier<br>
<b>2</b>&nbsp; Change the pitch (&amp; speed) of a multi-channel input sound (in a 
possibly time-varying way) by using a shift in a (possibly fractional) 
number of semitones<br>
<b>3</b>&nbsp; Accelerate (or decelerate) the speed of a multi-channel source file<br>
<b>4</b>&nbsp; Produce vibrato on a multi-channel sound
</blockquote>

<h3 id="MCSPEEDPa">Parameters</h3>

<blockquote>
<i>infile</i> &#150; input multi-channel soundfile to process<br>
<i>outfile</i> &#150; resultant multi-channel soundfile<br>
<i>speed</i> &#150; transposition value (ratio) expressed as a
floating point multiplier.  With <i>speed</i> = 2, for example, the 
sound is twice as fast and an octave higher.  See 
<a href="cgroinfo.htm#UNITSRATIO">Chart of Ratios</a> covering up and 
down 2 octaves.  <b>NB:</b> use <b>1.0</b> for no transposition.<br>
<i>semitone-transpos</i> &#150; transposition value in positive or negative
number of semitones; e.g., 12 raises the sound by an octave, and -12 lowers
it by an octave.  <b>NB:</b> use <b>0</b> (semitones) for no transposition.
	<blockquote>
	Both <i>speed</i> and <i>semitone-transpos</i> may vary over time.
	</blockquote>
<i>accel</i> &#150; multiplication of speed to be reached by <i>goaltime</i>
&#150; i.e., a transposition ratio<br>
<i>goaltime</i> &#150; time in <i>outfile</i> at which the accelerated
speed specified by <i>accel</i> is to be reached.
	<ul>
	<li>If the <i>infile</i> does not end there, it continues
	to accelerate.</li>
	<li>If the <i>infile</i> finishes before <i>goaltime</i> is
	reached, the <i>outfile</i> won't reach the specified acceleration
	value.</li>
	</ul>
<i>starttime</i> &#150; time in <i>infile &#47; outfile</i> at which the
acceleration begins (Default 0.0)<br>
	<ul>
	<li><b>Very</b> steep deceleration will cause the soundfile to halt, 
	and the process will be terminated with a warning message.</li>
	<li><b>Very</b> steep acceleration will cause the soundfile to be 
	lost off the top of the audible register.</li>
	</ul>
<i>vibfrq</i> &#150; the vibrato frequency in Hz (cyles-per-second)
(Range: 0.0 to 120.0)<br>
<i>vibdepth</i> &#150; vibrato depth (pitch shift from centre) in [possibly
fractional] semitones (Range: 0.0 to 96.0)
	<blockquote>
	<i>Vibrate</i> and <i>vibdepth</i> can vary over time.
	</blockquote>
<b>-o</b> &#150; breakpoint times are read as times in the <i>outfile</i>.
The Default is to read them as times in the <i>infile</i><br>
</blockquote>

<h3 id="MCSPEEDUn">Understanding the STRANS MULTI Process
</h3>

<blockquote>
<p>
Speed modification processes change the <b>duration and the
pitch</b> of the sound together.  Thus a faster speed causes a
higher pitch, a slower speed a lower pitch.
</p>

<p>
STRANS MULTI offers a range of functions which affect the speed of the
multi-channel soundfile.  Perhaps it will be most often used for 
transposition.  Modes <b>1</b> and <b>2</b> both accept either single 
values or the names of time-varying breakpoint files with <i>time 
transposition</i> pairs.
</p>

<p>
The single values act as constants and transpose the whole soundfile
up or down by the given amount.  In the breakpoint files, transposition
can be <b>almost instantaneous</b> (almost same time, different
transposition value), or <b>gradual</b>, creating glissandi (different
time, different transposition value).  <b>No transposition</b> between
times is a third possibility (different time, same transposition value).
These three possibilities are illustrated in the table below:

<div align=center>
<table border="1" cellpadding="4" bgcolor="#B0E0E6">
<caption><b>Time-varying transposition (using ratios)</b></caption>

<tr>
<th><i>time</i></th>
<th><i>speed</i></th>
<th><b>Comments</b></th>
</tr>

<tr>
<td>0.0</td>
<td>1.0</td>
<td>No transposition: start at the original pitch</td>
</tr>

<tr>
<td>1.0</td>
<td>1.498</td>
<td>Over 1 sec., gliss upwards through a Pefect 5<sup>th</sup></td>
</tr>

<tr>
<td>3.0</td>
<td>1.498</td>
<td>Hold this new level for 2 sec.</td>
</tr>

<tr>
<td>3.0001</td>
<td>0.5</td>
<td>At 3 sec., (almost) instantly drop one 8<sup>ve</sup> below
the original pitch,<br>
&nbsp;&nbsp;i.e., to 19 semitones below the previous position</td>
</tr>

<tr>
<td>6.0</td>
<td>1.0</td>
<td>Spend the next 3 sec. glissing back to the original pitch</td>
</tr>
</table>
</div>

<p>
The program will not accept exactly simultaneous values, giving a
message to the effect that the times 'are not in increasing order'.
To get around this, add a tiny bit to the second time &#150; as in
the example &#150; so that the 2<sup>nd</sup> is nominally later than
the 1<sup>st</sup>, but virtually simultaneous.
</p>

<blockquote>
<p style="background-color: #E0E0E0"> 
<font color="#FF0000">
<b>IMPORTANT!</b> Note that transposition changes are always <b>relative
to the original speed</b> of the soundfile, not its current output speed.
Thus, in the example above, the soundfile glisses up a perfect
5<sup>th</sup> (from <i>speed</i> 1.0 to <i>speed</i> 1.498).  With
the next ratio, 0.5, the soundfile will drop to half of its
<b>original</b> speed, and consequently to the octave below its
<b>original</b> pitch.</font>
</p>
</blockquote>

<p>
Sometimes, you may need certain transpositions to occur at specific
times in the <i>outfile</i>.  The <b>-o</b> flag makes this possible.
Thus, changing the speed of a file will alter it's duration, and,
especially when the speed change itself varies in time (using a
breakpoint file), it will be difficult to determine at what time
events in the output sound will appear.  For example, if you specify
a <i>speed</i> of 0.5 at <i>time</i> 2.0 with the default mode, the
speed of the file will reach 0.5 after 2 seconds of the INPUT file
have passed &#150; but because the speed of the file has been changed,
this will <b>not</b> be at 2.0 seconds in the OUTPUT file.
<b>Therefore, if you want the <i>speed</i> to reach 0.5 at <i>time</i>
2.0 in the OUTPUT file, you should use the -o flag</b>.
</p>
</blockquote>

<h3 id="MCSPEEDAp">Musical Applications</h3>

<blockquote>
<p>
Transposition which also changes the speed, and therefore the pitch, of
the soundfile greatly alters the character of the sound.  It is often
very interesting to hear what a sound will be like 1, 2 or even 3
octaves below its original pitch.  Deep, rich tones can be achieved
in this way.  These tones can slowly rise or descend if created with
a time-varying breakpoint file e.g., moving an octave up or down over
the time of the whole sound (airplane takeoff sounds, etc.).
</p>

<p>
The graphic program <a href="cbrkedit.htm"><i><b>BRKEDIT</b></i></a> (PC systems) can create exponential
or logarithmic breakpoint data, so glissandi in STRANS MULTI can increase
or decrease in speed as well as move in a steady (linear) manner.
Alternatively, this can be done with Mode <b>5</b>.
</p>

<p>
Vocal material is very sensitive to pitch changes, so upwards
transposition of this type will produce fast, squeaky voices, like
the mice trio in <i>Babe</i>, and downwards transposition will
produce slow, drawn-out ponderous voices.
</p>

<p>
The vibrato created in Mode <b>6</b> is a frequency modulation.  Given
the very wide ranges allowed, this function is immensely powerful.  A
slow <i>vibfrq</i> with a large <i>vibdepth</i> will swing the original
sound wildly &#150; increase <i>vibrate</i> and it really 'flaps in the
breeze' (like a flag in the wind).  A fast <i>vibfrq</i> with a reasonably
tight <i>vibdepth</i>, e.g., a minor 3<sup>rd</sup>, will produce a
fluttering effect.
</p>

<p>
Altogether, a great program to explore and use to push beyond accepted
conventions.
</p>

</blockquote>
<p>
<b>ALSO SEE: <a href="cgromody.htm#SPEED">MODIFY SPEED</b></a>, the mono and stereo version of this function.
</p>

<p>
End of STRANS MULTI<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 align = "center" id= "TANGGROUP">THE TANGENT GROUP OF MULTI-CHANNEL FUNCTIONS</h2>

<p>
<i>The Tangent Group moves a sound or a sequence of sounds along a tangent to a circle of 8 loudspeakers:</i>
</p>

<div align = "left">
<p>
&nbsp;&nbsp;&nbsp;&nbsp;
<IMG SRC = "images/8chanring.jpg"></a>
</p>
</div>
</p>

<h2 id="ONEFILE">TANGENT ONEFILE &#150; Play repeats of a mono soundfile on a tangent path
</h2>

<h3>
Usage
</h3>
<b>tangent onefile 1</b> <i>insndfile outmixfile dur steps maxangle dec</i> [<b>-f</b><i>foc</i>] [<b>-j</b><i>jitter</i>] [<b>-s</b><i>slow</i>] [<b>-r</b>] [<b>-l</b>]<br />
<b>tangent onefile 2</b> <i>insndfile outmixfile dur steps skew dec</i> [<b>-f</b><i>foc</i>] [<b>-j</b><i>jitter</i>] [<b>-r</b>] [<b>-l</b>]<br />

<p>
Example command line to create a tangent path:<br>
	<blockquote>
	<b><code>tangent onefile 1 in.wav tangent.mmx 10 5 120 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; When the focus is at 1, the tangent path starts along a line at right angles to loudspeaker 2<br />
<b>2</b>&nbsp; When the focus is at 1, the tangent path starts along a line formed by loudspeakers 2 and 3<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile</i> &#150; input MONO soundfile<br />
<i>outmixfile</i> &#150; output multi-channel mixfile (with <b>.mmx</b> extension) for use with the multi-channel mixer <a href = "cgromc.htm#NEWMIX"><b>NEWMIX MULTICHAN</b></a><br />
<i>dur</i> &#150; the duration of the output soundfile<br />
<i>steps</i> &#150; the count of events in the tangent stream.  Note that in all modes, in the part of the stream closest to the focus, the same initial (receding) or final (approaching) event is repeated.  These repeated events are additional to this step-count.<br />
<i>maxangle</i> (Mode <b>1</b>) &#150; In the motion between three loudspeaker pairs (e.g., 1-2, 2-3 and 3-4), the <i>maxangle</i> of the rotation of this motion lies between the third pair (90&deg; &rArr; 135&deg;: loudspeakers 3 &amp; 4 in the example).<br />
<i>skew</i> (Mode <b>2</b>) &#150; In the motion between three loudspeaker pairs (e.g., 1-2, 2-3 and 3-4), the <i>skew</i> is the ratio of time spent between the last pair and the penultimate pair:  loudspeaker pairs 3-4 and 2-3 in the example.  (Range: 0 to 1)<br />
<i>dec</i> &#150; the loudness decimation on passing from one event to the next<br />
<b>-f</b><i>foc</i> &#150; the <b>focal loudspeaker</b> to or from which the motion takes place (Default:  front centre)<br />
<b>-j</b><i>jitter</i> &#150; the randomisation of event timings  (Range: 0 to 1, Default: 0, and this parameter may vary over time)<br />
<b>-s</b><i>slow</i> &#150; slow (or speed up) the pan motion <b>acceleration</b> (Default: 0).  Smaller values slow the arrival of the sound stream at the goal. For approaching motion, <b>0.5</b> makes the arrival not too fast.  For receding motion, <b>1.0</b> makes the initial motion rapid (??and then it slows down).<br />
<b>-r</b> &#150; sounds recede (Default: sounds approach)<br />
<b>-l</b> &#150; motion is to or from <b>left</b> of the focal loudspeaker (Default: motion is to or from the <b>right</b> focal loudspeaker)
</blockquote>

<h3>
Understanding the TANGENT ONEFILE Process
</h3>

<blockquote>
TANGENT ONEFILE takes a mono soundfile as input and repeats it, moving these repeats along a path tangent to (or from) an 8-channel, front-centred loudspeaker array.  That is to say, it is moving from foreground to background (receding) or background to foreground (approaching) along a line adjacent to ('touching'/'tangent') one of the loudspeakers, as defined by <i>focus</i>.  The loudspeakers are, for the purposes of the program, numbered clockwise, with front-centre as number 1.
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TANGENT ONEFILE<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 id="TWOFILES">TANGENT TWOFILES &#150; Play repeats of two synchronised mono soundfiles on a tangent path
</h2>

<h3>
Usage
</h3>
<b>tangent twofiles 1</b> <i>insndfile1 insndfile2 outmixfile dur steps maxangle dec bal</i> [<b>-f</b><i>foc</i>] [<b>-j</b><i>jitter</i>] [<b>-s</b><i>slow</i>] [<b>-r</b>] [<b>-l</b>]<br />
<b>tangent twofiles 2</b> <i>insndfile1 insndfile2 outmixfile dur steps skew dec bal</i> [<b>-f</b><i>foc</i>] [<b>-j</b><i>jitter</i>] [<b>-r</b>] [<b>-l</b>]<br />

<p>
Example command line to create a tangent path:<br>
	<blockquote>
	<b><code>tangent twofiles 1 insndfile1.wav insndfile2.wav tangent.mmx 10 5 120 0.1 0.6</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; When the focus is at 1, the tangent path starts along a line at right angles to loudspeaker 2<br />
<b>2</b>&nbsp; When the focus is at 1, the tangent path starts along a line formed by loudspeakers 2 and 3<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile1</i> &#150; input MONO soundfile<br />
<i>insndfile2</i> &#150; second input MONO soundfile<br />
<i>outsndfile</i> &#150; output multi-channel mixfile (with <b>.mmx</b> extension) for use with the multi-channel mixer <a href = "cgromc.htm#NEWMIX"><b>NEWMIX MULTICHAN</b></a><br />
<i>dur</i> &#150; the duration of the output soundfile<br />
<i>steps</i> &#150; the count of events in the tangent stream.  Note that in all modes, in the part of the stream closest to the focus, the same initial (receding) or final (approaching) event is repeated.  These repeated events are additional to this step-count.<br />
<i>maxangle</i> (Mode <b>1</b>) &#150; In the motion between three loudspeaker pairs (e.g., 1-2, 2-3 and 3-4), the <i>maxangle</i> of the rotation of this motion lies between the third pair (90&deg; &rArr; 135&deg;: loudspeakers 3 &amp; 4 in the example).<br />
<i>skew</i> (Mode <b>2</b>) &#150; In the motion between three loudspeaker pairs (e.g., 1-2, 2-3 and 3-4), the <i>skew</i> is the ratio of time spent between the last pair and the penultimate pair:  loudspeaker pairs 3-4 and 2-3 in the example.  (Range: 0 to 1)<br />
<i>dec</i> &#150; the loudness decimation on passing from one event to the next<br />
<i>bal</i> &#150; the progressive accumulation of the second sound in the mix<br />
<b>-f</b><i>foc</i> &#150; the <b>focal loudspeaker</b> to or from which the motion takes place (Default:  front centre)<br />
<b>-j</b><i>jitter</i> &#150; the randomisation of event timings  (Range: 0 to 1, Default: 0, and this parameter may vary over time)<br />
<b>-s</b><i>slow</i> &#150; slow (or speed up) the pan motion <b>acceleration</b> (Default: 0).  Smaller values slow the arrival of the sound stream at the goal. For approaching motion, <b>0.5</b> makes the arrival not too fast.  For receding motion, <b>1.0</b> makes the initial motion rapid (??and then it slows down).<br />
<b>-r</b> &#150; sounds recede (Default: sounds approach)<br />
<b>-l</b> &#150; motion is to or from <b>left</b> of the focal loudspeaker (Default: motion is to or from the <b>right</b> focal loudspeaker)
</blockquote>

<h3>
Understanding the TANGENT TWOFILES Process
</h3>

<blockquote>
<p>
TANGENT TWOFILES takes two mono soundfiles as input and repeats them, moving these repeats along a path tangent to (or from) an 8-channel, front-centred loudspeaker array.  That is to say, it is moving from foreground to background (receding) or background to foreground (approaching) along a line adjacent to ('touching'/'tangent') one of the loudspeakers, as defined by <i>focus</i>.  The loudspeakers are, for the purposes of the program, numbered clockwise, with front-centre as number 1.
</p>

<p>
In this case, the output begins with <i>insndfile1</i> and then gradually mixes in <i>insndfile2</i>.  If one sound is a filtered version of the other, greater distance is suggested.  For an approaching sequence (the Default), put the filtered sound as <i>insndfile1</i>, but for a receding sequence, put the filtered sound as <i>insndfile2</i>. (Note that you must provide the filtered sound.)
</p>
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TANGENT TWOFILES<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 id="TANGSEQUENCE">TANGENT SEQUENCE &#150; Play a sequence of mono soundfiles on a tangent path
</h2>

<h3>
Usage
</h3>
<b>tangent sequence 1</b> <i>insndfile1 insndfile2 [insndfile3 ...] outmixfile dur maxangle dec</i> [<b>-f</b><i>foc</i>] [<b>-j</b><i>jitter</i>] [<b>-s</b><i>slow</i>] [<b>-r</b>] [<b>-l</b>]<br />
<b>tangent sequence 2</b> <i>insndfile1 insndfile2 [insndfile3 ...] outmixfile dur skew dec</i> [<b>-f</b><i>foc</i>] [<b>-j</b><i>jitter</i>] [<b>-r</b>] [<b>-l</b>]<br />

<p>
Example command line to move several sounds along tangent path:<br>
	<blockquote>
	<b><code>tangent sequence 1 insndfile1.wav insndfile2.wav insndfile3.wav tangent.mmx 10 120 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; When the focus is at 1, the tangent path starts along a line at right angles to loudspeaker 2<br />
<b>2</b>&nbsp; When the focus is at 1, the tangent path starts along a line formed by loudspeakers 2 and 3<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile1</i> &#150; first input MONO soundfile<br />
<i>insndfile2</i> &#150; second input MONO soundfile<br />
<i>insndfile3...</i> &#150; third and more input MONO soundfiles<br />
<i>outmixfile</i> &#150; output multi-channel mixfile (with <b>.mmx</b> extension) for use with the multi-channel mixer <a href = "cgromc.htm#NEWMIX"><b>NEWMIX MULTICHAN</b></a><br />
<i>dur</i> &#150; the duration of the output soundfile<br />
<i>maxangle</i> (Mode <b>1</b>) &#150; In the motion between three loudspeaker pairs (e.g., 1-2, 2-3 and 3-4), the <i>maxangle</i> of the rotation of this motion lies between the third pair (90&deg; &rArr; 135&deg;: loudspeakers 3 &amp; 4 in the example).<br />
<i>skew</i> (Mode <b>2</b>) &#150; In the motion between three loudspeaker pairs (e.g., 1-2, 2-3 and 3-4), the <i>skew</i> is the ratio of time spent between the last pair and the penultimate pair:  loudspeaker pairs 3-4 and 2-3 in the example.  (Range: 0 to 1)<br />
<i>dec</i> &#150; the loudness decimation on passing from one event to the next<br />
<b>-f</b><i>foc</i> &#150; the <b>focal loudspeaker</b> to or from which the motion takes place (Default:  front centre)<br />
<b>-j</b><i>jitter</i> &#150; the randomisation of event timings  (Range: 0 to 1, Default: 0, and this parameter may vary over time)<br />
<b>-s</b><i>slow</i> &#150; slow (or speed up) the pan motion <b>acceleration</b> (Default: 0).  Smaller values slow the arrival of the sound stream at the goal. For approaching motion, <b>0.5</b> makes the arrival not too fast.  For receding motion, <b>1.0</b> makes the initial motion rapid (??and then it slows down).<br />
<b>-r</b> &#150; sounds recede (Default: sounds approach)<br />
<b>-l</b> &#150; motion is to or from <b>left</b> of the focal loudspeaker (Default: motion is to or from the <b>right</b> focal loudspeaker)
</blockquote>

<h3>
Understanding the TANGENT SEQUENCE Process
</h3>

<blockquote>
TANGENT SEQUENCE takes three or more mono soundfiles as a sequence-input and repeats the sequence, moving these repeats along a path tangent to (or from) an 8-channel, front-centred loudspeaker array.  That is to say, it is moving from foreground to background (receding) or background to foreground (approaching) along a line adjacent to ('touching'/'tangent') one of the loudspeakers, as defined by <i>focus</i>.  The loudspeakers are, for the purposes of the program, numbered clockwise, with front-centre as number 1.
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TANGENT SEQUENCE<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 id="TANGLIST">TANGENT LIST &#150; Play a sequence of mono soundfiles as listed in a textfile along a tangent path
</h2>

<h3>
Usage
</h3>
<b>tangent list 1</b> <i>intextfile outmixfile dur maxangle dec</i> [<b>-f</b><i>foc</i>] [<b>-j</b><i>jitter</i>] [<b>-s</b><i>slow</i>] [<b>-r</b>] [<b>-l</b>]<br />
<b>tangent list 2</b> <i>intextfile outmixfile dur skew dec</i> [<b>-f</b><i>foc</i>] [<b>-j</b><i>jitter</i>] [<b>-r</b>] [<b>-l</b>]<br />

<p>
Example command line to create a tangent path:<br>
	<blockquote>
	<b><code>tangent list 1 inlist.txt outmixfile.mmx 10 120 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; When the focus is at 1, the tangent path starts along a line at right angles to loudspeaker 2<br />
<b>2</b>&nbsp; When the focus is at 1, the tangent path starts along a line formed by loudspeakers 2 and 3<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>intextfile</i> &#150; input textfile containing a list of MONO soundfiles<br />
<i>outmixfile</i> &#150; output multi-channel mixfile (with <b>.mmx</b> extension) for use with the multi-channel mixer <a href = "cgromc.htm#NEWMIX"><b>NEWMIX MULTICHAN</b></a><br />
<i>dur</i> &#150; the duration of the output soundfile<br />
<i>maxangle</i> (Mode <b>1</b>) &#150; In the motion between three loudspeaker pairs (e.g., 1-2, 2-3 and 3-4), the <i>maxangle</i> of the rotation of this motion lies between the third pair (90&deg; &rArr; 135&deg;: loudspeakers 3 &amp; 4 in the example).<br />
<i>skew</i> (Mode <b>2</b>) &#150; In the motion between three loudspeaker pairs (e.g., 1-2, 2-3 and 3-4), the <i>skew</i> is the ratio of time spent between the last pair and the penultimate pair:  loudspeaker pairs 3-4 and 2-3 in the example.  (Range: 0 to 1)<br />
<i>dec</i> &#150; the loudness decimation on passing from one event to the next<br />
<b>-f</b><i>foc</i> &#150; the <b>focal loudspeaker</b> to or from which the motion takes place (Default:  front centre)<br />
<b>-j</b><i>jitter</i> &#150; the randomisation of event timings  (Range: 0 to 1, Default: 0, and this parameter may vary over time)<br />
<b>-s</b><i>slow</i> &#150; slow (or speed up) the pan motion <b>acceleration</b> (Default: 0).  Smaller values slow the arrival of the sound stream at the goal. For approaching motion, <b>0.5</b> makes the arrival not too fast.  For receding motion, <b>1.0</b> makes the initial motion rapid (??and then it slows down).<br />
<b>-r</b> &#150; sounds recede (Default: sounds approach)<br />
<b>-l</b> &#150; motion is to or from <b>left</b> of the focal loudspeaker (Default: motion is to or from the <b>right</b> focal loudspeaker)
</blockquote>

<h3>
Understanding the TANGENT LIST Process
</h3>

<blockquote>
TANGENT LIST is like TANGENT SEQUENCE except that the soundfiles to be used are listed in a textfile.  It takes this list of mono soundfiles as a sequence-input and repeats it, moving these repeats along a path tangent to (or from) an 8-channel, front-centred loudspeaker array.  That is to say, it is moving from foreground to background (receding) or background to foreground (approaching) along a line adjacent to ('touching'/'tangent') one of the loudspeakers, as defined by <i>focus</i>.  The loudspeakers are, for the purposes of the program, numbered clockwise, with front-centre as number 1.
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TANGENT LIST<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 id="TEXMCHAN">TEXMCHAN &#150; Create textures over 
a multi-channel frame
</h2>

	<blockquote>
	<b>This process parallels the existing CDP TEXTURE SET processes, 
	but allows the output to be imaged over more than 2 output 
	channels. Only the specifically multi-channel features are 
	documented here.</b>
	</blockquote>

<h3>
Usage
</h3>
<b>texmchan texmchan mode</b> <i>infile</i> [<i>infile2...</i>] 
<i>outfile notedata outdur packing scatter</i><br />
<i>tgrid sndfirst sndlast  mingain maxgain  mindur maxdur  minpich 
maxpich <b>outchans</b></i><br />
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>] [<b>-s</b><i>spread</i>] 
[<b>-r</b><i>seed</i>] [<b>-w -c -p</b>]
<br />
	<blockquote>
	Note the addition of the <i>outchans</i> parameter, and the extended 
	meanings of the <i>position</i> and <i>spread</i> parameters.  
	The effect on the output soundfile is described below.  Otherwise, 
	the documentation for TEXTURE remains the same and can be reviewed 
	in the Reference Manual for <a href = "cgrotext.htm#SIMPLE"><b>TEXTURE 
	SIMPLE</b></a>.
	</blockquote>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp;  On a given harmonic field<br />
<b>2</b>&nbsp;  On changing harmonic fields<br />
<b>3</b>&nbsp;  On a given harmonic set<br />
<b>4</b>&nbsp;  On changing harmonic sets<br />
<b>5</b>&nbsp;  None (Neutral)<br />
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>outchans</i> &#150; number of channels in the multi-channel output 
soundfile<br />
<i>position</i> &#150; spatial centre:  Range is now 1 to 
<i>outchans</i><br />
<i>spread</i> &#150; spatial spread:  Range is now 1 to 
<i>outchans</i>
</blockquote>

<h3>
Understanding the TEXMCHAN Process
</h3>

<blockquote>
The principal differences from the existing TEXTURE process are
<ul>
<li>(1) <i>Outchans</i> specifies the number of channels in the ouput 
file.</li>
<li>(2) <i>Position</i> (the centre of the spatial image of the output) 
varies between 1 and the number of output channels (<i>outchans</i>).</li>
<li>(3) <i>Spread</i> (the spatial spread of the output image) can also 
vary between 1 and the number of output channels (<i>outchans</i>).</li>
<br /><br />
<li>Both <i>position</i> and <i>spread</i> can <b>vary over time</b> (as can 
most of the other parameters) so that, for example, the texture can be 
made to circle, or spread around, the multi-channel output space.  
(See below.)</li>
</ul>

<p>
How a multi-event texture (with lots of events) gets assigned to channels 
may not be immediately obvious.  It all has to do with the <i>position</i> 
(centre of sound output image) and <i>spread</i> (spatial spread of 
texture events) parameters.  These are still there in the multi-channel version 
of TEXTURE, but their meaning is extended into the multi-channel context.  
T Wishart has supplied the following explanation.
</p>

<p>
<b>In the normal TEXTURE programs</b> we have Stereo sound images.  If you set the <i>position</i> to 0.5 (the centre of the stereo image, halfway between 0 and 1) and set the <i>spread</i> to 1 (maximum), events in the texture occur at any place within the full stereo space, which extends from loudspeaker 1 to loudspeaker 2.  (Recall that TEXTURE uses a 0 to 1 range, and MODIFY SPACE 
(for Pan) uses a -1 to +1 range.)  The sound image of the entire texture is 
centred on the point midway between the loudspeakers and extends across the 
full range between left and right.  Note that the <i>spread</i> of 0.5 is 
divided evenly on either side of centre.  Using multi-channel numbering, we 
refer to this centre as 1.5 as it lies halfway between channels 1 and 2.
</p>

<p>
If the <i>position</i> (centre) is set at 0.25 and the <i>spread</i> is 
set to 0.5, the sound image will extend from 0 to 0.5, the <i>spread</i> of 
0.5 being divided evenly on either side of the 0.25 centre-<i>position</i>.  
Using multi-channel numbering, we refer to this centre as 1.25:  i.e., a quarter of the way in from the left speaker.  The sound image will therefore extend from the left speaker (1) to the mid-point of the stereo space (1.5) between speakers 1 and 2: a <i>spread</i> of 0.5.
</p>

<p>
The diagram below illustrates the result of these <i>position</i> and 
<i>spread</i> settings in the existing TEXTURE program.<br />
<br />
<div align = "center">
<IMG SRC = "images/StereoSoundImages.jpg"><br />
</div>
<br>
</p>

<p>
<b>With the multi-channel TEXMCHAN</b>, the same thinking applies, except that 
the sound can now be spread over more than 2 loudspeakers, the numbering reflects the multi-channel context, and the centre <i>position</i> of the sound image can be anywhere amongst the multi-channel outputs.  Therefore, if we set the <i>position</i> at 4 and the <i>spread</i> 
to 5, the centre of the entire texture will be located at channel 4 
(<i>position</i> = centre), and the sounds will spread out equally to 
either side of this, covering 5 channels in all:  5 &divide; 2 = 2.5 on either side.  Thus the left (nominal) edge of the sound image will be at 4 - 2.5 = 1.5 (halfway between channel 1 and 2), and the right (nominal edge of the sound image will be at 4 + 2.5 = 6.5 (halfway between channel 6 and 7).    Note that these channels can be set to whichever loudspeaker in the frame.  (You might find it helpful to draw a rough diagram of your loudspeaker setup and channel assignments.)
</p>

<p>
A second diagram illustrates the result of these <i>position</i> and <i>spread</i> positions in the new TEXMCHAN context.
</p>

<p>
<div align = "center">
<IMG SRC = "images/MultichanSoundImages.jpg"></a><br />
</div>
</p>

<!-- TEXT DIAGRAM 
<pre>
STEREO CASE(0.5,1)   MULTICHAN CASE(4,5) (with 8 output chans)<br>
Centre 0.5 Spread 1  Centre 4 Spread 5
0 ....... 1          1   2   3   4   5   6   7   8
1    |    2       (1.5)|        (4)        |(6.5)
xxxxxxxxxxx            xxxxxxxxxxxxxxxxxxxxx	   
<br>
STEREO CASE(0.25,.5)   MULTICHAN CASE(3.5,3) (with 8 output chans)<br>
Centre 0.25 Spread .5  Centre 3.5 Spread 3
0 ....... 1            1   2   3   4   5   6   7   8
1  |      2             (2)|   (3.5)   |(5)
xxxxxx                     xxxxxxxxxxxxx
</pre>
<br><br>
 -->

<p>
In addition, the texture can be made to <b>move around</b> the multi-channel 
space by time-varying the value of the <i>position</i> parameter, just as a 
texture made with the TEXTURE program can be made to move over the stereo 
space.
</p>

<p>
How might a multi-channel output soundfile from TEXMCHAN relate to 
MCHANPAN and MULTIMIX and NEWMIX?  T Wishart writes:
	<ul>
	<li>A multi-channel output from TEXMCHAN cannot be panned; only 
	mono (and in some cases, stereo) files can be panned with 
	<a href = "#MCHANPAN">MCHANPAN</a>.  However, it can be rotated 
	(etc.) <i>as a whole</i>, using <a href = "#FRAMESHIFT">FRAME 
	SHIFT</a>.</li>
	<li>A multi-channel output from TEXMCHAN can also become part of a 
	multi-channel mix, using <a href = "#NEWMIX">NEWMIX MULTICHAN</a>, 
	to combine it with other sounds.  To preserve the original 
	orientation of the multi-channel texture, assign each input 
	channel <i>N</i> to output channel <i>N</i>, i.e., <code>1:1  
	2:2</code> etc.</li>
	<li>It is possible to automatically generate types of 
	<i>mixfiles</i> (for NEWIX MULTICHAN), using MULTIMIX, and these 
	<i>mixfiles</i> might use a multi-channel texture files.</li>
	</ul>
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
TEXMCHAN may be thought of as a multi-channel extension of the existing 
<a href="cgrotext.htm#SIMPLE"><b>TEXTURE SIMPLE</b></a> process with which the texture can be projected into 
(and made to move around) a multi-channel space.
</blockquote>

<p>
End of TEXMCHAN TEXMCHAN<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************* -->

<h2 align = center id= "TRANGROUP">THE TRANSIT GROUP OF MULTI-CHANNEL FUNCTIONS</h2>

<p id="TRANSITMODES">
<b>The Transit Group moves a sound or a sequence of sounds into and across a circle of 8 loudspeakers. The five modes are:</b><br />


<div align = "center">
<p>
<IMG SRC = "images/Transit5Modes.jpg"></a>
</p>
</div>


<!-- 
<div align = center>
<p>
<pre>
MODES:
      1                2                3               4               5
   (glancing)  (edgewise)     (crossing)         (close)        (central)
->>---O->>   ->>--O---O->>           O             O   O             O
  O       O                 ->>--O-------O->>                    O       O
               O         O                  ->>-O---------O->>
 O         O                    O         O                 ->>-O---------O->>
               O         O                      O         O
  O       O                      O       O                       O       O
      O           O   O              O             O   O             O

</pre>
</p>
</div>
 -->


<h2 id="SIMPLE">TRANSIT SIMPLE &#150; Place repetitions of a mono soundfile on a path into and across an 8-channel array</h2>

<h3>
Usage
</h3>
<b>transit simple 1-5</b> <i>insndfile outmixfile focus dur steps max dec</i> [<b>-t</b><i>thresh</i>] [<b>-d</b><i>lim</i>] [<b>-e</b><i>tlim</i>] [<b>-m</b><i>maxdur</i>] [<b>-l</b>]
<br>

<p>
Example command line to move a sound into a loudspeaker array:<br>
	<blockquote>
	<b><code>transit simple 1 insnd.wav  transit.mmx 1 10 5 45 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes (see <a href="#TRANSITMODES">Mode Movement Diagrams above</a>)
</h3>

<blockquote>
<b>1</b>&nbsp; Glancing<br />
<b>2</b>&nbsp; Edgewise<br />
<b>3</b>&nbsp; Crossing<br />
<b>4</b>&nbsp; Close<br />
<b>5</b>&nbsp; Central
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile</i> &#150; input mono soundfile<br />
<i>outmixfile</i> &#150; output multi-channel mixfile for use with the multi-channel mixer <a href="#NEWMIX"><b>NEWMIX MULTICHAN</b></a>, with the file extension <b>.mmx</b> 
<br />
<i>focus</i> &#150; the centre (focal position) of the motion:  an <b>integer</b> for the odd-numbered modes, and a <b>floating-point</b> number (e.g., 1.5, 2.5 etc.) for the even-numbered modes<br />
<i>dur</i> &#150; the duration of the motion from the edge to the centre (<b>only)</b><br />
<i>steps</i> &#150; the count of steps from the edge to the centre (<b>only</b>)<br />
<i>maxa</i> (Modes <b>1-4</b>) &#150; the maximum angle from the centreline that is reached (&lt;90&deg;)<br />
<i>maxd</i> (Mode <b>5</b>) &#150; the maximum distance from the centre reached, where half-radius = 1<br />
<i>dec</i> &#150; the gain decrement on passing from one event to the next (Range: &gt;0 to &lt;1)<br />
<br />
<b>NB:</b> To extend the motion further, thereby increasing the duration and the total number of events, the gain decrement can be modified with the following four optional parameters:<br />
<b>-t</b><i>thresh</i> &#150; the threshold overall gain at which the gain decrement starts to increase<br />
<b>-d</b><i>lim</i> &#150; the maximum level of gain decrement after this point (Must be &gt;<i>dec</i>)<br />
<b>-e</b><i>tlim</i> &#150; the minimum  overal gain at which the event ends (Must be &lt;<i>thresh</i>)<br />
<b>-m</b><i>maxdur</i> &#150; the maximum duration of the motion from edge to centre (in case <i>tlim</i> is never reached) (Must be &gt;=<i>dur</i>)<br />
<br />
<b>-l</b> &#150; direct the motion towards the <b>left</b> of the focal position (Default: towards the <b>right</b>)
</blockquote>

<h3>
Understanding the TRANSIT SIMPLE Process
</h3>

<blockquote>
Repetitions of a mono soundfile move along a path <i>into</i> and <i>across</i> an 8-channel loudspeaker array.  These loudspeakers are presumed to be equidistant in a ring, numbered clockwise starting at '1'.  The output is a multi-channel mixfile to be used with <a href = "#NEWMIX">NEWMIX</a>.
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TRANSIT SIMPLE<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 id="FILTERED">TRANSIT FILTERED &#150; Place filtered repetitions of a mono soundfile on a path into and across an 8-channel array
</h2>

<h3>
Usage
</h3>
<b>transit filtered 1-5</b> <i>insndfile1 insndfile2 outmixfile focus dur steps max dec fdec</i> [<b>-t</b><i>thresh</i>] [<b>-d</b><i>lim</i>] [<b>-e</b><i>tlim</i>] [<b>-m</b><i>maxdur</i>] [<b>-l</b>]
<br />

<p>
Example command line to move a sound into a loudspeaker array:<br>
	<blockquote>
	<b><code>transit filtered 1 inf1.wav inf2.wav outmixfilt.mmx 1 10 5 45 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes (see <a href="#TRANSITMODES">Mode Movement Diagrams above</a>)
</h3>

<blockquote>
<b>1</b>&nbsp; Glancing<br />
<b>2</b>&nbsp; Edgewise<br />
<b>3</b>&nbsp; Crossing<br />
<b>4</b>&nbsp; Close<br />
<b>5</b>&nbsp; Central
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile1</i> &#150; first input mono soundfile<br />
<i>insndfile2</i> &#150; second input mono soundfile<br />
<i>outmixfile</i> &#150; output multi-channel mixfile for use with the multi-channel mixer <a href="#NEWMIX"><b>NEWMIX MULTICHAN</b></a>, with the file extension <b>.mmx</b><br />
<i>focus</i> &#150; the centre (focal position) of the motion:  an <b>integer</b> for the odd-numbered modes, and a <b>floating-point</b> number (e.g., 1.5, 2.5 etc.) for the even-numbered modes<br />
<i>dur</i> &#150; the duration of the motion from the edge to the centre (<b>only)</b><br />
<i>steps</i> &#150; the count of steps from the edge to the centre (<b>only</b>)<br />
<i>maxa</i> (Modes <b>1-4</b>) &#150; the maximum angle from the centreline that is reached (&lt;90&deg;)<br />
<i>maxd</i> (Mode <b>5</b>) &#150; the maximum distance from the centre reached, where half-radius = 1<br />
<i>dec</i> &#150; the gain decrement on passing from one event to the next (Range: &gt;0 to &lt;1)<br />

<i>fdec</i> &#150; progressive mix-in of <i>insndfile2</i> (Range: 0 to 1)<br />
<br />
<b>NB:</b> To extend the motion further, thereby increasing the duration and the total number of events, the gain decrement can be modified with the following four optional parameters:<br />
<b>-t</b><i>thresh</i> &#150; the threshold overall gain at which the gain decrement starts to increase<br />
<b>-d</b><i>lim</i> &#150; the maximum level of gain decrement after this point (Must be &gt;<i>dec</i>)<br />
<b>-e</b><i>tlim</i> &#150; the minimum  overal gain at which the event ends (Must be &lt;<i>thresh</i>)<br />
<b>-m</b><i>maxdur</i> &#150; the maximum duration of the motion from edge to centre (in case <i>tlim</i> is never reached) (Must be &gt;=<i>dur</i>)<br />
<br />
<b>-l</b> &#150; direct the motion towards the <b>left</b> of the focal position (Default: towards the <b>right</b>)
</blockquote>

<h3>
Understanding the TRANSIT FILTERED Process
</h3>

<blockquote>
<p>
Repetitions of a mono soundfile move along a path <i>into</i> and <i>across</i> an 8-channel loudspeaker array.  These loudspeakers are presumed to be equidistant in a ring, numbered clockwise starting at '1'.  The output is a multi-channel mixfile to be used with <a href = "#NEWMIX">NEWMIX</a>.
</p>

<p>
With TRANSIT FILTERED, the second sound should be a filtered version of the first, suggesting greater distance. (Note that you must provide this sound yourself.) Then more of <i>insndfile2</i> is gradually mixed in (<i>fdec</i>), with greater distance from the centre.
</p>
</blockquote>


<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TRANSIT FILTERED<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 id="DOPPLER">TRANSIT DOPPLER &#150; Place pitch-shifted repetitions of a mono soundfile on a path <i>into</i> and <i>across</i> an 8-channel array, suggesting a doppler shift
</h2>

<h3>
Usage
</h3>
<b>transit doppler 1-5</b> <i>insndfile1 insndfile2 [insndfile3 ...] outmixfile focus dur steps max dec</i> [<b>-t</b><i>thresh</i>] [<b>-d</b><i>lim</i>] [<b>-e</b><i>tlim</i>] [<b>-m</b><i>maxdur</i>] [<b>-l</b>]
<br />

<p>
Example command line to move a sound into a loudspeaker array:<br>
	<blockquote>
	<b><code>transit doppler 1 inf1.wav inf2.wav inf3.wav outmixdoppl.mmx 1 10 5 45 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes (see <a href="#TRANSITMODES">Mode Movement Diagrams above</a>)
</h3>

<blockquote>
<b>1</b>&nbsp; Glancing<br />
<b>2</b>&nbsp; Edgewise<br />
<b>3</b>&nbsp; Crossing<br />
<b>4</b>&nbsp; Close<br />
<b>5</b>&nbsp; Central
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile1</i> &#150; first input mono soundfile<br />
<i>insndfile2</i> &#150; second input mono soundfile<br />
<i>insndfile3 ...</i> &#150; third and more input mono soundfiles<br />
<i>outmixfile</i> &#150; output multi-channel mixfile for use with the multi-channel mixer <a href="#NEWMIX"><b>NEWMIX MULTICHAN</b></a>, with the file extension <b>.mmx</b><br />
<i>focus</i> &#150; the centre (focal position) of the motion:  an <b>integer</b> for the odd-numbered modes, and a <b>floating-point</b> number (e.g., 1.5, 2.5 etc.) for the even-numbered modes<br />
<i>dur</i> &#150; the duration of the motion from the edge to the centre (<b>only</b>)<br />
<i>steps</i> &#150; the count of steps from the edge to the centre (<b>only</b>)<br />
<i>maxa</i> (Modes <b>1-4</b>) &#150; the maximum angle from the centreline that is reached (&lt;90&deg;)<br />
<i>maxd</i> (Mode <b>5</b>) &#150; the maximum distance from the centre reached, where half-radius = 1<br />
<i>dec</i> &#150; the gain decrement on passing from one event to the next (Range: &gt;0 to &lt;1)<br />
<br />
<b>NB:</b> To extend the motion further, thereby increasing the duration and the total number of events, the gain decrement can be modified with the following four optional parameters:<br />
<b>-t</b><i>thresh</i> &#150; the threshold overall gain at which the gain decrement starts to increase<br />
<b>-d</b><i>lim</i> &#150; the maximum level of gain decrement after this point (Must be &gt;<i>dec</i>)<br />
<b>-e</b><i>tlim</i> &#150; the minimum  overal gain at which the event ends (Must be &lt;<i>thresh</i>)<br />
<b>-m</b><i>maxdur</i> &#150; the maximum duration of the motion from edge to centre (in case <i>tlim</i> is never reached) (Must be &gt;=<i>dur</i>)<br />
<br />
<b>-l</b> &#150; direct the motion towards the <b>left</b> of the focal position (Default: towards the <b>right</b>)
</blockquote>

<h3>
Understanding the TRANSIT DOPPLER Process
</h3>

<blockquote>
<p>
Repetitions of a mono soundfile move along a path <i>to</i> and <i>from</i> an 8-channel loudspeaker array.  These loudspeakers are presumed to be equidistant in a ring, numbered clockwise starting at '1'.  The output is a multi-channel mixfile to be used with <a href = "#NEWMIX">NEWMIX</a>.
</p>

<p>
The second sound is a pitch-shifted version of the first, suggesting a doppler shift (apparent pitch change).  It changes to <i>insndfile2</i> after centre is passed.</p>

<p>
You could possibly insert more sounds around the motion-centre, which would suggest a gradual doppler change.  Note that the order of the sounds will be:  first the approaching sound, then the final sound, and then the intermediate sounds, so order your input soundfiles accordingly.
</p>
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TRANSIT DOPPLER<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 id="DOPLFILT">TRANSIT DOPLFILT &#150; Doppler effect on a path <i>into</i> and <i>across</i> a 8-channel array with filtering, to suggest greater distance
</h2>

<h3>
Usage
</h3>
<b>transit doplfilt 1-5</b> <i>insndfile1 insndfile2 insndfile4 [insndfile5 ...] outmixfile focus dur steps max dec fdec</i> [<b>-t</b><i>thresh</i>] [<b>-d</b><i>lim</i>] [<b>-e</b><i>tlim</i>] [<b>-m</b><i>maxdur</i>] [<b>-l</b>]
<br />

<p>
Example command line to move a sound into a loudspeaker array:<br>
	<blockquote>
	<b><code>transit doppler 1 inf1.wav inf2.wav inf3.wav inf4.wav outmixdopfilt.mmx 1 10 5 45 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes (see <a href="#TRANSITMODES">Mode Movement Diagrams above</a>)
</h3>

<blockquote>
<b>1</b>&nbsp; Glancing<br />
<b>2</b>&nbsp; Edgewise<br />
<b>3</b>&nbsp; Crossing<br />
<b>4</b>&nbsp; Close<br />
<b>5</b>&nbsp; Central
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile1</i> &#150; first input mono soundfile<br />
<i>insndfile2</i> &#150; second input mono soundfile<br />
<i>insndfile3</i> &#150; third input mono soundfile<br />
<i>insndfile4</i> &#150; fourth input mono soundfile<br />
<i>insndfile5 ...</i> &#150; fifth and more input mono soundfiles<br />
<i>outmixfile</i> &#150; output multi-channel mixfile for use with the multi-channel mixer <a href="#NEWMIX"><b>NEWMIX MULTICHAN</b></a>, with the file extension <b>.mmx</b><br />
<i>focus</i> &#150; the centre (focal position) of the motion:  an <b>integer</b> for the odd-numbered modes, and a <b>floating-point</b> number (e.g., 1.5, 2.5 etc.) for the even-numbered modes<br />
<i>dur</i> &#150; the duration of the motion from the edge to the centre (<b>only</b>)<br />
<i>steps</i> &#150; the count of steps from the edge to the centre (<b>only</b>)<br />
<i>maxa</i> (Modes <b>1-4</b>) &#150; the maximum angle from the centreline that is reached (&lt;90&deg;)<br />
<i>maxd</i> (Mode <b>5</b>) &#150; the maximum distance from the centre reached, where half-radius = 1<br />
<i>dec</i> &#150; the gain decrement on passing from one event to the next (Range: &gt;0 to &lt;1)<br />
<i>fdec</i> &#150; ??<br />
<br />
<b>NB:</b> To extend the motion further, thereby increasing the duration and the total number of events, the gain decrement can be modified with the following four optional parameters:<br />
<b>-t</b><i>thresh</i> &#150; the threshold overall gain at which the gain decrement starts to increase<br />
<b>-d</b><i>lim</i> &#150; the maximum level of gain decrement after this point (Must be &gt;<i>dec</i>)<br />
<b>-e</b><i>tlim</i> &#150; the minimum  overal gain at which the event ends (Must be &lt;<i>thresh</i>)<br />
<b>-m</b><i>maxdur</i> &#150; the maximum duration of the motion from edge to centre (in case <i>tlim</i> is never reached) (Must be &gt;=<i>dur</i>)<br />
<br />
<b>-l</b> &#150; direct the motion towards the <b>left</b> of the focal position (Default: towards the <b>right</b>)
</blockquote>

<h3>
Understanding the TRANSIT DOPLFILT Process
</h3>

<blockquote>
<p>
Repetitions of several mono soundfiles move along a path <i>to</i> and <i>from</i> an 8-channel loudspeaker array.  These loudspeakers are presumed to be equidistant in a ring, numbered clockwise starting at '1'.  The output is a multi-channel mixfile to be used with <a href = "#NEWMIX">NEWMIX</a>.
</p>

<p>
The second sound is filtered version of the first, suggesting greater distance.  It gradually mixes in more of <i>insndfile2</i>, with greater distance from centre.  The third sound is a pitch-shifted version of the first, suggesting a doppler shift.  It switches to <i>insndfile3</i> after centre is passed.  The fourth sound is a filtered version of the third, suggesting greater distance.</p>

<p>
You could possibly insert more sounds around the motion-centre, which would suggest a gradual doppler change.  Note that the order of the sounds will be:  first the approaching sound, then the same sound filtered, then the final sound filtered, followed by any intermediate sounds at the doppler-shift centre.
</p>
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TRANSIT DOPLFILT<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->


<h2 id="TRANSEQUENCE">TRANSIT SEQUENCE &#150; Position a sequence of mono sounds (at least 3) on a path <i>into</i> and <i>across</i> an 8-channel array
</h2>

<h3>
Usage
</h3>
<b>transit sequence 1-5</b> <i>insndfile1 insndfile2 insndfile3 [insndfile4 ...] outmixfile focus dur max dec</i> [<b>-l</b>]
<br />

<p>
Example command line to move a sound into a loudspeaker array:<br>
	<blockquote>
	<b><code>transit sequence 1 inf1.wav inf2.wav inf3.wav outmixseq.mmx 1 10 5 45 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes (see <a href="#TRANSITMODES">Mode Movement Diagrams above</a>)
</h3>

<blockquote>
<b>1</b>&nbsp; Glancing<br />
<b>2</b>&nbsp; Edgewise<br />
<b>3</b>&nbsp; Crossing<br />
<b>4</b>&nbsp; Close<br />
<b>5</b>&nbsp; Central
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>insndfile1</i> &#150; first input mono soundfile<br />
<i>insndfile2</i> &#150; second input mono soundfile<br />
<i>insndfile3</i> &#150; third input mono soundfile<br />
<i>insndfile4 ...</i> &#150; fourth and more input mono soundfiles<br />
<i>outmixfile</i> &#150; output multi-channel mixfile for use with the multi-channel mixer <a href="#NEWMIX"><b>NEWMIX MULTICHAN</b></a>, with the file extension <b>.mmx</b><br />
<i>focus</i> &#150; the centre (focal position) of the motion:  an <b>integer</b> for the odd-numbered modes, and a <b>floating-point</b> number (e.g., 1.5, 2.5 etc.) for the even-numbered modes<br />
<i>dur</i> &#150; the duration of the motion from the edge to the centre (<b>only)</b><br />
<i>maxa</i> (Modes <b>1-4</b>) &#150; the maximum angle from the centreline that is reached (&lt;90&deg;)<br />
<i>maxd</i> (Mode <b>5</b>) &#150; the maximum distance from the centre reached, where half-radius = 1<br />
<i>dec</i> &#150; the gain decrement on passing from one event to the next (Range: &gt;0 to &lt;1)<br />
<b>-l</b> &#150; direct the motion towards the <b>left</b> of the focal position (Default: towards the <b>right</b>)
</blockquote>

<h3>
Understanding the TRANSIT SEQUENCE Process
</h3>

<blockquote>
Repetitions of an odd-numbered sequence of soundfiles (at least 3) move along a path <i>into</i> and <i>across</i> an 8-channel loudspeaker array.  These loudspeakers are presumed to be equidistant in a ring, numbered clockwise starting at '1'.  The output is a multi-channel mixfile to be used with <a href = "#NEWMIX">NEWMIX</a>.
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TRANSIT SEQUENCE<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 id="TRANLIST">TRANSIT LIST &#150; Position a sequence of mono sounds (at least 3), as listed in a textfile, on a path <i>into</i> and <i>across</i> an 8-channel array 
</h2>

Usage
</h3>
<b>transit list 1-5</b> <i>intextfile outmixfile focus dur max dec</i> [<b>-l</b>]
<br />

<p>
Example command line to move a list of sounds into a loudspeaker array:<br>
	<blockquote>
	<b><code>transit list 1 infile.txt outmixlist.mmx 1 10 45 0.1</code></b>
	</blockquote>
</p>

<h3>
Modes (see <a href="#TRANSITMODES">Mode Movement Diagrams above</a>)
</h3>

<blockquote>
<b>1</b>&nbsp; Glancing<br />
<b>2</b>&nbsp; Edgewise<br />
<b>3</b>&nbsp; Crossing<br />
<b>4</b>&nbsp; Close<br />
<b>5</b>&nbsp; Central
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>intextfile</i> &#150; input textfile containing a list of mono soundfiles<br />
<i>outmixfile</i> &#150; output multi-channel mixfile for use with the multi-channel mixer <a href="#NEWMIX"><b>NEWMIX MULTICHAN</b></a>, with the file extension <b>.mmx</b><br />
<i>focus</i> &#150; the centre (focal position) of the motion:  an <b>integer</b> for the odd-numbered modes, and a <b>floating-point</b> number (e.g., 1.5, 2.5 etc.) for the even-numbered modes<br />
<i>dur</i> &#150; the duration of the motion from the edge to the centre (<b>only)</b><br />
<i>maxa</i> (Modes <b>1-4</b>) &#150; the maximum angle from the centreline that is reached (&lt;90&deg;)<br />
<i>maxd</i> (Mode <b>5</b>) &#150; the maximum distance from the centre reached, where half-radius = 1<br />
<i>dec</i> &#150; the gain decrement on passing from one event to the next (Range: &gt;0 to &lt;1)<br />
<b>-l</b> &#150; direct the motion towards the <b>left</b> of the focal position (Default: towards the <b>right</b>)
</blockquote>

<h3>
Understanding the TRANSIT LIST Process
</h3>

<blockquote>
Repetitions of an odd-numbered sequence of soundfiles (at least 3) as listed in a textfile move along a path <i>into</i> and <i>across</i> an 8-channel loudspeaker array.  These loudspeakers are presumed to be equidistant in a ring, numbered clockwise starting at '1'.  The output is a multi-channel mixfile to be used with <a href = "#NEWMIX">NEWMIX</a>.
</blockquote>

<!--
<h3>
Musical Applications
</h3>

<blockquote>
...
</blockquote>
-->

<p>
End of TRANSIT LIST<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr> <!-- ************************************************************** -->

<h2 align = "center" id="OVERVIEW">
An Overview</a> of Multi-channel facilities available via CDP<br />
<b>&#126; by T Wishart &#126;</b>
</h2>

<blockquote>
<p>
The CDP environment has been extensively extended to make it possible to 
work with multi-channel input files and&#47;or to generate multi-channel output 
files.  These processes produce standard format soundfiles, with any 
number of channels (up to a current limit of 16).  In addition, Richard 
Dobson's <a href = "cgromc.htm"><b><i>Multi-channel 
Toolkit</b></i></a> allows many diffent formats of multi-channel files (e.g. Ambisonic and WAV_EX formats) to be generated, and facilitates conversions from one format to another.
</p>

<p>
<b>Note that multi-channel soundfiles now use the CDP program 
<a href = "csysutil.htm#PAPLAY">PAPLAY</a> for playback.</b>
</p>

<p>
<b>There are various ways to create multi-channel files in the CDP 
environment.</b>
	<ul>
	<li>Existing mono and stereo files can be mixed, in various ways 
	into a multi-channel format, using MULTIMIX CREATE.</li>
	<br />
	<li>multi-channel soundfiles can also be created from mono files by 
	<b>panning</b>, using <a href="#MCHANPAN"><b>MCHANPAN</b></a>, <b>texturing</b>, 
	using <a href="#TEXMCHAN"><b>TEXMCHAN</b></a>, 
	<b>reverberating</b>, using <a href="#MCHANREV"><b>MCHANREV</b></a>, or <b>brassaging</b>, using 
	new multi-channel options in <a href="cgromody.htm#BRASSAGE"><b>MODIFY BRASSAGE</b></a> 
	or <a href="cgromody.htm#SAUSAGE"><b>MODIFY SAUSAGE</b></a>, or 
	the new process, <a href="cgrogrns.htm#WRAPPAGE"><b>WRAPPAGE</b></a>.</li>
	</ul>
<b>The data in multi-channel files can be manipulated</b>
	<ul>
	<li>The data in a multi-channel mixfile, as with a standard mix, 
	can be altered by editing it &#150; on the <i>Sound Loom</i> the 
	<b>QikEditor</b> gives access to a large variety of functions for 
	doing this.</li>
	<br />
	<li>The data in multi-channel soundfiles can also be rearranged or 
	edited (channel by channel if required) &#150; see FRAME SHIFT 
	below.</li>
	</ul>

<b>Once made, multi-channel soundfiles can be processed just like mono 
or stereo files</b> 
	<ul>
	<li>Most existing processes that take an <i>N</i> channel input 
	(mono or stereo) and give an <i>N</i>-channel output, will now work 
	with multi-channel input&#47;output.</li>
	<br />
	<li>Some programs, which will not work with multi-channel files, 
	have <b>multi-channel equivalents</b></li>
		<ul>
		<li><b>'Tape' transposition, acceleration and vibrato.</b> 
		The commandline process <a href = "cgromody.htm#SPEED">MODIFY 
		SPEED</a> is mirrored by <a href="cgromc.htm#STRANSMULTI">STRANS MULTI</a>.</li>
		</ul><br />
	<li>Sometimes we might want to apply the same process to each channel of a multichannel file, then recombine the outputs into a processed multi-channel file, for example, where a process (e.g., <a href = "cgrodist.htm#REPEAT">DISTORT REPEAT</a>) changes the duration of the inputs unpredictably, or (<a href = "cgromody.htm#REVECHO">MODIFY REVECHO</a>) increases the number of output channels to stereo.  On the <i>Sound Loom</i>, the separation of channels, 
processing, and recombination of the resulting files can be achieved in a 
single pass by submitting a <b>single</b> multi-channel file to <b>Bulk 
Process</b>, and then calling the desired process (with mono or stereo 
output) whereupon the channels will be separated and recombined 
automatically.</li>
	</ul>

<b>In addition, a number of specifically multi-channel processes have been developed.</b>
	<ul>
	<li><b>multi-channel pan:</b> MCHANPAN offers possibilities to
		<ul>
		<li>Pan a mono source around a multi-channel space</li>
		<li>Spread a mono or stereo source over a multi-channel space</li>
		<li>Create antiphonal alternation between different parts of 
		a multi-channel space</li>
		<li>Step events around a specified sequence of output channels</li>
		</ul>
		</li>
	<br>
	  
	<li><b>Frame operations:</b> FRAME SHIFT offers possibilities to
		<ul>
		<li>Reorient the frame of a multi-channel file</li>
		<li>Mirror the channel configuration of a multi-channel file 
		about a specified axis</li>
		<li>Rotate (in a time-varying way) the frame of a multi-						channel file</li>
		<li>Edit some (but not other) channels of a multi-channel file</li>
		</ul>
		</li>
	</ul>
<!-- </ul>  -->

<b>On the <i>Sound Loom</i>, it is also possible to</b><br>
	<ul>
	<li><b>Pan a process:</b> the process itself moves around the 
	multi-channel space in a way you can specify, leaving the 
	(multi-channel) source where it is.</li>
	<li><b>Process all channels independently with a single 
	process:</b>  In some cases,this gives a different result to 
	processing the multi-channel file <i>as a whole</i>.  Processes 
	giving mono, <i>or stereo</i> output on the individual channel 
	data, can be used in this way.</li>
	<li><b>Position:</b> a set of mono or stereo input files on a 
	multi-channel stage (<i>multi-channel Staging</i>), using a 
	graphic interface.</li>
	<li><b>Collapse:</b> a multi-channel file into a stereo format 
	of any desired specification (<i>multi-channel Staging</i>), 
	using a graphic interface.</li>
	</ul>
</p>

<p>
On the <b><i>Sound Loom</b></i> these new multi-channel processes will be 
found on the new <b>MULTICHAN</b> menu, on the Process page.
</p>

</blockquote>

<p>
End of OVERVIEW<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions 
at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr><!-- ************************************************************* -->
<h2 align = center id="TECHNICAL">On setting up a multi-channel composing environment</h2>

<blockquote>
<p>
The main thing to be said here is that your soundcard, mixer and speaker setup must be able to handle multi-channel soundfiles.  It is up to you to decide the scope of the facilities you require: i.e., the number of channels to support.  
</p>
<p>
Note, for example, the speaker layout options and diagrams in the <a href = "cmcrefmn.htm"><b>Multi-Channel Toolkit</b></a>, particularly those in <a href = "cmcrefmn.htm#FMDCODE"><b>FMDCODE</b></a>, and consider what will best suit monitoring in your studio space and your composition objectives.  A bit of web-surfing regarding multi-channel playback would not go amiss, and there have been numerous relevant articles in the journal <i>Audio Media</i> over the years.
</p>
<p>
Finally, note that although most of the processes in the CDP MULTICHANNEL group assume a clockwise RING layout, you can easily re-order the channel numbers using the functions <a href="cmcrefmn.htm#CHORDER"><b>CHORDER</b></a> or <a href="#FRAMESHIFT"><b>FRAME SHIFT</b></a>, Mode <b>3</b>.
</p>
</blockquote>

<p>
End of TECHNICAL<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<hr>

<h2 align = center id= "MCMIXFILES"><b>Appendix 1 &#150; MULTIMIX Mixfiles</b></a><br />
<b>&#126; by Trevor Wishart &#126;</b>
</h2>

<h2>
On Generating multi-channel Mixfiles with MULTIMIX:  Contexts and 
Examples
</h2>

<p>
<div align=center>
<table border="2" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#MONOTOMONO"><b>1. Mono to Mono</b></a></td>
</tr>
<tr>
<td align=center><a href="#MONOTOMC"><b>2. Mono to multi-channel</b></a></td>
</tr>
<tr>
<td align=center><a href="#MONOPLUSMC"><b>3. Mixed Inputs</b></a></td>
</tr>
<tr>
<td align=center><a href="#INSL"><b>4. Using <i>Sound Loom</i></b></a></td>
</tr>
<tr>
<td align=center><a href="#MAKEOPSFILE"><b>5. Making the output 
soundfile</b></a></td>
</tr>
</table>
</div>
</p>


<h3 id= "MONOTOMONO">1. Using MULTIMIX to generate a mono 
'multi-channel' mixfile from mono input(s)
</h3>

<blockquote>
<p>
Let's begin with 4 mono files, <i>test1.wav</i>, <i>test2.wav</i>, 
<i>test3.wav</i>, and <i>test4.wav</i>,<br />
and create a mixfile with MULTIMIX, Mode <b>1</b>:  'Create a mix where all files start at time zero'.<br />
<br />
<b>multimix create 1</b> <i>infile1 infile2</i> [<i>infile3..</i>] <i>mixoutfile</i><br />
<b>multimix create 1</b> <i>test1.wav test2.wav test3.wav test4.wav 
mixfile1</i>
</p>

<p>
Because in Mode <b>1</b> we give no information about the output channel placement, all the mono infiles will be sent to channel 1.  The output 
file becomes:
<pre>
1
test1.wav 0.0000  1  1:1  1.0
test2.wav 0.0000  1  1:1  1.0
test3.wav 0.0000  1  1:1  1.0
test4.wav 0.0000  1  1:1  1.0
</pre>

	<blockquote
	<b>Comments:</b>
		<ul>
		<li>The first line ("<b>1</b>") indicates that this is mono 
		multi-channel mixfile (!), producing a mono output.</li>
		<li>We can see that all the files are routed <b>1:1</b>, i.e., 
		from input channel 1 (the mono channel of the input sound) to 
		output channel 1.</li>
		<li>Note that in this example the amplitude levels are all set 
		to full amplitude.  You may need to edit this if the inputs are 
		all at a high level and amalgamating them at time zero may cause 
		overload.</li>
		<li>The facilities of MULTIMIX, as with SUBMIX DUMMY, are 
		designed as a time-saving aids, but further editing of the 
		output <i>mixfile</i> is usually required.</li>
		</ul>
		</blockquote>
</p>
</blockquote>

<h3 id= "MONOTOMC">2. Using MULTIMIX to generate a multi-channel 
mixfile from mono input(s)
</h3>

<blockquote>
<p>
To generate a 4 channel output sound with the same 4 mono sounds, we can 
use MULTIMIX Mode <b>6</b>: 'Distributes <i>N</i> mono files, in order, 
to <i>N</i> successive output channels. (Distribution in ascending order.)'
<br /><br />
<b>multimix create 6</b> <i>infile1 infile2</i> [<i>infile3..</i>] 
<i>mixoutfile</i><br />
<b>multimix create 6</b> <i>test1.wav test2.wav test3.wav test4.wav 
mixfile2</i>
</p>

<p>
This mode sends each (mono) input to a different output channel, and 
generates the output file:
<pre>
4
test1.wav 0.0000  1  1:1  1.0
test2.wav 0.0000  1  1:2  1.0
test3.wav 0.0000  1  1:3  1.0
test4.wav 0.0000  1  1:4  1.0
</pre>

	<blockquote>
	<b>Comments</b>
	<ul>
	<li>This is a 4 channel output mix: the first line ("<b>4</b>") 
	tells us this.</li>
	<li>And we see that<br />
	<b>test1.wav</b> is routed to channel  1 (<b>1:4</b>)<br />
	<b>test2.wav</b> is routed to channel  2 (<b>1:2</b>)<br />
	<b>test3.wav</b> is routed to channel  3 (<b>1:3</b>)<br />
	<b>test4.wav</b> is routed to channel  4 (<b>1:4</b>)</li>
	</ul>
	</blockquote>
</p>
To make an 8-channel file, with the same 4 inputs placed in the first 4 channels of the output, we use Mode <b>7</b>: 'Distributes <i>N</i> mono 
files, in order, to <i>K</i> successive output channels. (Channels may 
exceed or be less than inputs.)'<br />
<br />
<b>multimix create 7</b> <i>infile1 infile2</i> [<i>infile3..</i>] 
<i>mixoutfile ochans startch</i> [<b>-s</b><i>skip</i> 
<b>-t</b><i>timestep</i>]<br />
<b>multimix create 7</b> <i>test1.wav test2.wav test3.wav test4.wav 
mixfile3 8 1</i>
</p>

<p>
In this example, parameter value '8' is the number of output 
channels, and parameter value '1' is the first output channel 
to use.  This generates the output <i>mixfile3</i><br />
<pre>
8
test1.wav 0.0000  1  1:1  1.0
test2.wav 0.0000  1  1:2  1.0
test3.wav 0.0000  1  1:3  1.0
test4.wav 0.0000  1  1:4  1.0
</pre>

	<blockquote>
	<b>Comments</b>
	<ul>
	<li>This is identical to the <i>mixfile2</i> output except that 
	it will generate an 8-channel output (with the other 4 channels 
	silent).</li>
	<li>If we want our 4 input sounds to go, for example, into the 
	even numbered channels of an 8-channel mix, we can change the 
	<i>startchannel</i> parameter to '2', and add the <i>skip</i> 
	parameter, setting it to '2'.</li> 
	<li>This causes the channel assignment to 'skip' a channel (it 
	advances the channel number by <b>2</b>) as it assigns the next 
	input file to the mix. The command line for this is:<br />
	<br />
	<b>multimix create 7</b> <i>test1.wav test2.wav test3.wav test4.wav 
	mixfile3 8 2</i> <b>-s</b><i>2</i></li>
	<br>
	<li>This generates the 8-channel mixfile<br />
	<pre>
	8
	test1.wav 0.0000  1  1:2  1.0
	test2.wav 0.0000  1  1:4  1.0
	test3.wav 0.0000  1  1:6  1.0
	test4.wav 0.0000  1  1:8  1.0
	</pre></li>
	<li>And we see that <br />
	<b>test1.wav</b> is routed to channel  2 (<b>1:2</b>)<br>
	<b>test2.wav</b> is routed to channel  4 (<b>1:4</b>)<br>
	<b>test3.wav</b> is routed to channel  6 (<b>1:6</b>)<br>
	<b>test4.wav</b> is routed to channel  8 (<b>1:8</b>)<br /></li>
	</ul>
	</blockquote>
</p>
</blockquote>

<h3 id= "MONOPLUSMC">3. Using MULTIMIX to generate a multi-channel 
<i>mixfile</i> from a mixture of mono and multi-channel input(s)
</h3>

<blockquote>
<p>
Of course we do not have to use mono files.  If we begin with a mono 
file <i>test1.wav</i>, and a 4-channel file <i>test4ch.wav</i>, we can 
go back to Mode <b>1</b>.  This is because, in this Mode, we give no 
information about the output channel placement.  Therefore all outfiles 
have their first input channel assigned to output channel 1, i.e., 
the same channels as in the <i>infile</i>.
</p>

<p>
With the command line<br />
<br />
<b>multimix create 1</b> <i>test1.wav test4ch.wav mixfile4</i><br />
<br />
The output file is<br />
<pre>
4
test1.wav   0.0000  1  1:1  1.0
test4ch.wav 0.0000  4  1:1  1.0  2:2  1.0  3:3  1.0  4:4  1.0
</pre>
</p>

<p>
	<blockquote>
	<b>Comments</b>
		<ul>
		<li>The output file is a 4-channel file, as this is the maximum 
		number of channels amongst all the input files.</li>
		<li><i>test1.wav</i> is routed to channel 1 as before 
		(<b>1:1</b>)</li>
		<li>Each channel of <i>test4ch.wav</i> is routed to successive 
		output channels, starting at channel 1 (<b>1:1  2:2  3:3  
		4:4</b>) each with standard level <b>1.0</b></li>
		</ul></li>
	</ul>
	</blockquote>
</p>

<p>
Mode <b>6</b> and Mode <b>7</b> will not work with anything but mono 
files, so if we want to get our data into a file with more channels, or to 
place the outputs in different channels, we must edit the mixfile 
accordingly.
</p>
</blockquote>

<h3 id= "INSL">4. Handling the creation of multi-channel mixfiles in 
<i>Sound Loom</i>
</h3>

<blockquote>
<p>
In the <i>Sound Loom</i>, the <b>QikEdit</b> page has a <b>Reroute</b> 
option which obviates the need to directly edit the file.
</p>

<p>
Global level changes (i.e., changes to the level of all output channels) 
can also be done rapidly in <b>QikEdit</b> just as with standard 
mixfiles.
</p>

<p>
For complicated changes of channel assignment or level, however, the full routing information (with levels) must be entered.
</p>

<p>
The <b>QikEdit</b> page, also available with the standard mix program, is accessed from a button on the <b>Parameters Page</b> when mixing 
from the <i>mixfile</i>.
	<ul>
	<li>We could begin by changing the number of output channels, by 
	changing the number in  the first line of the mixfile.  On the 
	<b>QikEdit</b> page, we enter the number of required output channels 
	in the <b>Value</b> box, and select <b>More Channels</b></li><br />
	<br />
	
	<li>We can change the output routing of the mono file <i>test1.wav</i> 
	to output channel 3 by changing the routing code from <b>1:1</b> to 
	<b>1:3</b>.  In <b>QikEdit</b>, we highlight this input file on the 
	display, put the value '3' in the Value box, and press 
	<b>Reroute</b></li><br />
	<br />
		
	<li>To send the mono file to channels 5, 6, 7 and 8, we change the 
	routing code from <b>1:1</b> to <b>1:5 1:6 1:7 1:8</b> with a level 
	for the signal sent to each channel.  In the simplest case this will 
	be <code>test1.wav 0.0000 1  1:5 1.0  1:6 1.0  1:7 1.0  1:8 1.0</code>.  
	In <b>QikEdit</b> we highlight the line, put '5-8' in the <b>Value</b> 
	box, and press <b>Reroute</b>, and this substitution is done 
	automatically.</li><br />
	<br />
		
	<li>To move the 4 channel file to outputs 5, 6, 7, 8 we change the 
	routing to <b>1:5 2:6 3:7 4:8</b>, giving us <code>test4ch.wav 0.0000 
	4  1:5 1.0  2:6 1.0  3:7 1.0  4:8 1.0</code>.  Again, on the 
	<b>QikEdit</b> page, we just need to highlight the line, put '5-8' in 
	the <b>Value</b> box,and press <b>Reroute</b>.  We can even write 
	'7-2' and the sound will be rerouted <b>1:7 2:8 3:1 4:2</b> wrapping 
	around to output channel 1 when it reaches the maximum channel (in 
	this case 8).</li><br />
	<br />
	
	<li>On the <b>QikEdit</b> page, a number of other options are possible, 
	like <b>swapping</b> the routing between 2 or more input files (where 
	these have the same input channel count), or <b>rotating</b> the 
	channels round the output-channel-space (the input channels are 
	reassigned to new output channels ... this is not a <i>dynamic</i> 
	rotation - i.e., it will not cause the sound to rotate <i>through 
	time</i>.<br />
	<br />
	To achieve that you need to use the  program <FRAME SHIFT Mode 
	<b>1</b>, applying it directly to a multi-channel soundfile.  
	For example, with the 2<sup><small>nd</small></sup> (4-channel) file, 
	we can move it by 5 channels, putting '5' in the <b>Value</b> box, 
	and pressing the <b>Rotate Positions</b> button.  This sends 
	<b>1:1 2:2 3:3 4:4</b> into <b>1:6 2:7 3:8 4:1</b>, preserving the 
	original level settings.  Note that the channels numbers wrap around 
	to 1, once the maximum output channel number (in this case 8) 
	is exceeded.<br />
	<br />
	Using the value '-2' (minus 2) moves the channel numbers downwards, 
	wrapping round to the maximum channel number (in this case channel 8) 
	once the bottom channel is reached.  This sends <b>1:1 2:2 3:3 4:4</b> 
	into <b>1:7 2:8 3:1 4:2</b>, preserving the original level 
	settings.</li><br />
	<br />
	
	<li>On the <b>QikEdit</b> page it is also possible to <b>Mirror</b> 
	the channel routing.  For example, with the channels feeding a ring 
	of loudspeakers numbered from 1 to 8 around the ring, we can exchange 
	the right and left sides of the ring.  To do this we need to define 
	the point about which the mirroring takes place.  This can be around 
	a specific channel position (use the Channel number), or around the 
	midpoint between two channels.  So, to mirror the arrangement around 
	channel 1, we put '1' in the value box, and press <b>Mirror</b>.  
	Thus<br />
	<pre>
	test1.wav   0.0000  1  1:1 1.0
	test4ch.wav 0.0000  4  1:1 1.0  2:2 1.0  3:3 1.0  4:4 1.0
	</pre>
	becomes
	<pre>
	test1.wav   0.0000  1  1:1 1.0
	test4ch.wav 0.0000  4  1:1 1.0  2:8 1.0  3:7 1.0  4:6 1.0
	</pre>
	Note that channels going to output channel 1 in the original mix 
	(<b>1:1</b> and <b>1:1</b>) still go to output channel 1, as this 
	channel lies on the mirror plane.</li><br />
	<br />
	
	<li>If we want to exchange low channels with high channels, we can 
	set the mirror at <b>8.5</b>, i.e. half way between channel 8 and 
	channel 1.  In this case<br />
	<pre>
	test1.wav   0.0000  1  1:1 1.0
	test4ch.wav 0.0000  4  1:1 1.0  2:2 1.0  3:3 1.0  4:4 1.0
	</pre>
	becomes
	<pre>
	test1.wav   0.0000  1  1:8 1.0
	test4ch.wav 0.0000  4  1:8 1.0  2:7 1.0  3:6 1.0  4:5 1.0
	</pre>
	i.e., 1 is swapped to 8, 2 to 7, 3 to 6 and so on.</li><br />
	<br />
	
	<li>Note that multi-channel soundfiles can themselves be reoriented, 
	or mirrored, using the program FRAME SHIFT.</li>
	</ul>
</p>
</blockquote>

<h3 id= "MAKEOPSFILE">5. Making the multi-channel output 
soundfile
</h3>

<blockquote>
<p>
Once a multi-channel <i>mixfile</i> has been made, the actual mixing is 
done with the program NEWMIX MULTICHAN.  This is quite similar to the 
existing program SUBMIX MIX, but produces a multi-channel soundfile as 
output.
</p>

<p>
Note that the number of channels in the output soundfile is defined by 
the <i>output channel count</i> on the first line of the multi-channel 
<i>mixfile</i>.  (Thus you can also produce stereo or even mono output 
from this program, if you really want to).  If a channel in the output 
is not assigned any of the input sound (e.g., if no channel of any of 
the input sounds is sent to output 5), this will be a <i>silent</i> 
channel in the output sound.
</p>

<p>
The outputs from NEWMIX MULTICHAN are standard "wav" multi-channel 
soundfiles, identical to your mono or stereo files except that they have 
more channels of sound.  You may want to generate "5.1", or Ambisonic output 
data, or to use the new WAVEX output file format.  Richard Dobson's 
<b>multi-channel Toolkit</b> allows you to change the format of your 
multi-channel soundfiles (see especially COPYSFX).  The <b>Toolkit</b> is 
accessible through the <i>Sound Loom</i>, provided that you have the 
<b>Toolkit</b> programs and FRAME SHIFT in your program directory.  
All executables will of course be in the same directory, but it is 
particularly important that FRAME SHIFT be present because it must be 
there for the <b>multi-channel Toolkit</b> to appear on the 
<b>Multichan</b> menu.
</p>

<p>
Please note that if you are using 24-bit multi-channel soundfiles, as far 
as we know, <i>Windows Media Player</i> will not play them unless they are 
in the WAVEX format.  If this is a problem, you could make CDP's PVPLAY or 
PAPLAY as your default playback program.  This is particularly useful in 
a <i>Sound Loom</i> context because they will play both sound and analysis 
files.  Both PVPLAY and PAPLAY come with the CDP software and are part of Richard 
Dobson's <b>Multi-Channel Toolkit</b>.
</p>

<p>
You can also do Ambisonic panning (in planar sound-surround or 
periphonically &#150; including height information) using the Toolkit 
programs.
</p>

<p>
There are also graphic facilities on the Sound Loom (<b>multi-channel Staging</b>) 
which allow you to
	<ul>
	<li>Assign (several) standard wav files with any number of channels 
	to a multi-channel 'stage'.</li>
	<li>This creates a multi-channel mixfile, mixable with NEWMIX 
	MULTICHAN</li>
	<li>Collapse a standard multi-channel wav file to stereo e.g., 
	for CD release, in any way that you define.</li>
	</ul>
</p>
</blockquote>


<p>
End of MIXFILES APPENDIX<br />
<a href="#MCLIST"><b>Return</b></a> to list of multi-channel functions at top of this file<br />
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> to Main Index for 
the CDP System.<br />
<a href="cgroundx.htm#startpos" Target="_top"><b>Return</b></a>
to 'Groucho' Time-Domain Index<br />
</p>

<!--
<hr> 
<h2 align = center id ="APPENDIX2"><b>Appendix 2 &#150; CDP Processes accepting multi-channel input</b><br />
</h2>

<br>t.b.c.<br>
-->

<!-- ********************************************************** -->
  <div id = "footer">
   <p>
    <address>
    Last Updated 3 Apr 2023 for CDP8<br />
    Documentation: Archer Endrich<br />
    Revisions: Robert Fraser<br>
    All observations &amp; ideas for improvement appreciated<br />
    Composers Desktop Project Ltd<br />
    Email: cdpse9@tgmail.com<br />
    &#169; Copyright 1998-2023 Archer Endrich &amp; CDP<br>
    </address>
   </p>
  </div>

</div> <!-- End of 'right' (contents) indentation -->

</body>

</html>