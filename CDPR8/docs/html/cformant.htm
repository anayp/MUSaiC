<!DOCTYPE html>
<html lang="en">
<!-- cformant.htm   - HTML5 version -->
<html>

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>CDP FORMANT Functions</title>
<meta charset="UTF-8" />
	<link rel = "stylesheet"
	 type = "text/css"
	 href = "cdpmanshtml5.css" />
<link rel="icon"  href="images/cdp_favicon.ico">
    <style>
	a { text-decoration: none }
	a:hover { color:#FF3333;
          text-decoration: underline }          	
    </style>
</head>

<body>

<div id = "left"> <!-- Keep indexing on left ABOVE headlines so index goes to top of page -->

  <p>
  <div align = "center">
  <IMG SRC = "images/cdpcircs90.jpg"></a>
  </div>
  </p>

  <p>
  <nav>
  <!-- list-style-type NOT removing bullets in IE9, using Definition List -->
  <dl>
  <dt><a href="ccdpndex.htm" Target="_top"><b>Main Index</b></a>
  <dt><a href="cspecndx.htm" Target="_top"><b>Spectral Index</b></a> 
  <dt><a href="filestxt.htm" Target="_blank"><b>File Formats</b></a>
  <hr>
  <br>
  <dt><a href="#FORMANTLIST"><b>FORMANTS:</b></a>
  <dt>&nbsp;&nbsp;<a href = "#GET"><b>GET</b></a>
  <dt>&nbsp;&nbsp;<a href = "#GETSEE"><b>GETSEE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#PUT"><b>PUT</b></a>
  <dt>&nbsp;&nbsp;<a href = "#SEE"><b>SEE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#VOCODE"><b>VOCODE</b></a>
  <br><br>
  <b>OTHERS:</b>
  <dt>&nbsp;&nbsp;<a href="#SPECENV"><b>SPECENV</b></a>
<br><br>
  <b>SEE ALSO:</b><br>
<dt>&nbsp;&nbsp;<a href="ccombine.htm#CROSS"><b>COMBINE CROSS</b></a>  
<dt>&nbsp;&nbsp;<a href="ccombine.htm#MAKE"><b>COMBINE MAKE</b></a>     
<br><br>
 
  <dt><a href="#FORMANTTECHNICAL"><b>Technical</b></a>
  <br><br />
  <dt><a href="coneform.htm#ONEFORMLIST"><b>Single Formants</b></a><br />
  </dl>
  </p>

</div>  <!-- End of left index panel -->

<div id = "right"> <!-- Keep headlines here so index goes to top of page -->

   <div id = "head">

   <!-- 
   <p><IMG SRC="images/cdpcircs.jpg" align=left ALT="CDP circles logo"></a></p>
   -->
    <div align=center>
    <br>
    <img src="images/cdplogo2.jpg" ALT="CDP Logo">
    </div>

   <h1 align=center>CDP FORMANTS functions</h1>
   <h2 align=center><font color="#3366ff"> (with Command Line Usage)</font></h2>
   </div>  <!-- End of 'head' -->


<!-- ========================================================================= -->
<h2 align = "center" id="FORMANTLIST">Functions which Get and Use FORMANT Data</h2>

<dl>
<dt><a href="#GET">FORMANTS <b>GET</b></a> <dd>Extract evolving formant envelope 
from an analysis file
<dt><a href="#GETSEE">FORMANTS <b>GETSEE</b></a> <dd>Get formant data from an analysis file to a pseudo-soundfile to view in VIEWSF</dd>
<dt><a href="#PUT">FORMANTS <b>PUT</b></a> <dd>Impose formants in a formant data file on data in an analysis file </dd>
<dt><a href="#SEE">FORMANTS <b>SEE</b></a> <dd>Convert formant data in formant data file to a pseudo soundfile to view in VIEWSF </dd>
<dt><a href="#SPECENV"><b>SPECENV</b></a> <dd>Extract the spectral envelope of file 2 and apply it to file 1 </dd> 
<dt><a href="#VOCODE">FORMANTS <b>VOCODE</b></a> <dd>Impose spectral envelope of one sound on another </dd>
<br>
<dt><a href="#FORMANTTECHNICAL"><b>Technical Discussion</b></a> <dd> Formants and Spectral Envelopes <br><br>
<dt><b>SEE ALSO:</b>
<dt><a href="ccombine.htm#CROSS">COMBINE <b>CROSS</b></a> <dd>Replace spectral amplitudes of 1<sup>st</sup> file with those of 2<sup>nd</sup></dd>
<dt><a href="ccombine.htm#MAKE">COMBINE <b>MAKE</b></a><dd>Generate spectrum from pitch & formant
 data
<dt><a href="coneform.htm"><b>ONEFORM Group</b></a><dd>Operations with single formants 

</dl>

<p>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index<br>
</p>

<hr><!-- ****************************************************** -->

<h2 id="GET">FORMANTS GET &#150; extract evolving formant envelope 
from an analysis file
</h2>

<h3>
Usage
</h3>
<b>formants get</b> <i>infile outfile</i> <b>-f</b><i>N</i> &#124; 
<b>-p</b><i>N</i><br>

<blockquote>
<i>outfile</i> is a binary formant file, which can be used in other formant applications<br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> an analysis file<br>
<i>outfile</i> a binary formant file<br> 
<b>-f</b>  extract formant envelope 'linear frequency-wise', using 
1 point for every <i>N</i> equally-spaced frequency-channels<br>
<b>-p</b>  extract formant envelope 'linear pitchwise', using <i>N</i> 
equally-spaced pitch-bands per octave
</blockquote>

<h3>
Understanding the FORMANTS GET Function
</h3>
<blockquote>

<p>
This is a straightforward utility to extract and store the evolving spectral 
envelope of a sound. In earlier CDP systems it was called SPECFGET.  
</p>

<p id="EXTRACTFORMANTS"><b>On Extracting Formants</b><br>
The two <b>extraction options</b> (<b>-f</b><i>N</i> &#124; 
<b>-p</b><i>N</i>) relate to resolution.  Essential information: 
&nbsp;the logarithmic nature of the pitch scale means that as one 
goes higher, an increasingly wider band of frequencies is encompassed 
by the 'octave'.  The octave of a tone is double that tone's frequency.  
Thus the octave between 220Hz and 440Hz encompasses 220Hz, while the 
octave between 2200Hz and 4400Hz encompasses 2200Hz.
</p>

	<ul>
	<li><b>-f</b><i>N</i> &#150; 'linear frequency-wise' is an 
	'equal spacing' comprising <i>equal differences</i>.</li>
	<li><b>-p</b><i>N</i> &#150; 'linear pitchwise' is an 
	'equal spacing' comprising <i>equal ratios</i>.</li>
	</ul>

<p>
With 'linear frequency-wise', the analysis channels define frequency 
bands of identical bandwidth: &nbsp;each band will encompass the same 
frequency range.
</p>

<p>
With 'linear pitchwise', the frequency bands actually get wider as 
one goes higher.  For example, if linear pitchwise is set at <i>N</i> 
= 12, the octave between 220Hz and 440 Hz is divided into 12 semitones;  
if <i>N</i> = 3, the octave is divided into 4 minor thirds (each of 
slightly increasing bandwidth). In the octave between 2200Hz and 4400Hz 
these same divisions will consist in considerably wider bandwidths.  In 
other words, linear pitchwise is working via ratios with the logarithmic 
relationship of pitches.
</p>

<p>
<b>Linear frequency-wise</b> should therefore be chosen if the main 
formant area of interest is in the <i>higher frequencies</i>, because 
there will be better resolution here when extracting the spectral envelope.  
But if the main interest in the sound is in the <i>lower frequencies</i>, 
then the <b>linear pitchwise</b> option will be suitable:  the frequency 
bandwidths relate to the octave bandwidths.  You are also able more 
easily to think in terms of normal musical terminology for intervals.  
If in doubt, you'll need to experiment.
</p>

<p>
<div align=center>
<table border="1" cellpadding="3" bgcolor="#B0E0E6">
<caption><b>Linear frequency-wise and linear pitchwise</b></caption>

<tr>
<th><b><br></b></th>
<th><b>Linear frequency-wise</b></th>
<th><b>Linear pitchwise</b></th>
</tr>

<tr>
<th><b>'Equal' means:</b></th>
<td>frequency spacing is the same <i>N</i> = <b>2</b></td>
<td>octave divisor is the same <i>N</i> = <b>12</b></td>
</tr>

<tr>
<th><b>E.g., band is 220Hz</b></th>
<td>86Hz (e.g,) encompassed by every <b>2</b> channels</td>
<td><b>12</b> semitones within that octave</td>
</tr>

<tr>
<th><b>E.g., band is 2200Hz</b></th>
<td>exactly the same bandwidth</td>
<td><b>12</b> semitones within that octave</td>
</tr>

<th><b>Recommended application</b></th>
<td>better resolution with higher frequencies</td>
<td>effective with lower frequencies</td>
</tr>

</table>
</div>
</p>

<p>
The nature of the source, we should also observe, affects the results.  
	<ul>
	<li>With a noisy source, there is energy all over the signal.  It 
	is therefore easy to find the envelope of the source and extract the 
	formants.</li>
	<li>With a pitched source, especially a high voice, there will be 
	just a few partials with significant energy and, although these 
	lie under the formant envelope, there is often not enough data to 
	get a good indication of where the whole formant is.</li>
	<li>A sonogram is not really the best way to identify formants, says 
	Richard Dobson.  Better would be a per frame FFT-style display of 
	amplitude&#47;frequency along with a display of the spectral 
	envelope.  The Snack-based sonogram display available in <i>Sound 
	Loom</i> does not have a facility for selecting a frequency band 
	directly from it.  We would recommend <a href = 
	"http://audacityteam.org"> <b>Audacity</b></a> for inspecting the 
	spectrum of a sound and picking out a formant region.</li>
	<li>We are currently exploring peak tracking and ConstQ Pvoc 
	as ways to improve pitched partials and formants extraction.</li>
	<li>For more detailed information and a software option, please 
	see <a href ="http://mpex.prosoniq.com"><b>Prosoniq </b></a>. </li>
	</ul>

Formant extraction and preservation is therefore a difficult process and 
ideal results are not obtained in every case.  
</p>

</blockquote>

<h3>
Musical Applications
</h3>
<blockquote>

<p>
This process is essential when wanting to preseve the timbral qualities 
of a sound.  They can be transferred to another sound, or they may be 
re-imposed on the original sound after it has undergone some other 
transformations.  The re-imposing is done with <a href="#PUT"><b>FORMANTS 
PUT</b></a>.
</p>
</blockquote>

<p>
Also see: <a href="#PUT"><b>FORMANTS PUT</b></a> and <a href="#GETSEE"><b>FORMANTS  
GETSEE</b></a>.
</p>

<p>
End of FORMANTS GET<br>

<a href="#FORMANTLIST">Return</a> to List of functions which use formant 
data at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="GETSEE">FORMANTS GETSEE &#150; extract formants from 
analfile and write as 'soundfile' for viewing</h2>

<h3>
Usage
</h3>
<b>formants getsee</b> <i>infile outsndfile</i> <b>-f</b><i>N</i> 
<b>-p</b><i>N</i> [<b>-s</b>]<br>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> an analysis file<br>
<i>outsndfile</i>  a pseudo-soundfile ready for viewing. <b>Do not 
resynthesize or play this</b> (an error message will be returned).<br>
<b>-f</b><i>N</i>  extract formant envelope linear frequency-wise, using 1 
point for every <i>N</i> equally-spaced frequency-channels<br>
<b>-p</b><i>N</i>  extract formant envelope linear pitchwise, using <i>N</i> 
equally-spaced pitch-bands per octave<br>
<b>-s</b>  semitone bands for display (Default: equal Hz bands)<br>
</blockquote>

<blockquote>
The resulting logarithmically scaled display indicates formant shapes,
but NOT the absolute amplitude values.<br>
</blockquote>

<h3>
Understanding the FORMANTS GETSEE Function
</h3>

<blockquote>
<p>
See a detailed discussion of the two <a href="#extractformants">extraction 
options</a> in the text for FORMANTS GET for further information on this 
choice.
</p>

<p>
Previously a part of SPECFSEE, this process produces a pseudo soundfile 
which can be viewed in the same way as a normal soundfile.  In the display 
we see a series of spectral windows, separated by zeroes.  The horizontal 
display represents the spectral frequencies and this may be displayed in a 
manner which increases regularly with frequency (linear frequency-wise) or 
in a manner which increases regularly with pitch (linear pitch-wise).  The 
vertical display represents the amplitude of each spectral band.  The range 
of amplitudes is very large indeed, and in order to display them in the 
soundfile format, the log of the amplitude values is used and scaled to 
utilise fully the range of sound-sample values (-32768 to 32767).
</p>

<p>
The display therefore indicates only the shape of the spectrum, and how 
that shape changes through time - no absolute amplitude values can be 
read off from it.
</p>

<p>
FORMNTS GETSEE uses linear interpolation in determining the spectral contour.
The output pseudo-soundfile is viewed by loading it into a soundfile 
display program, such as CDP's VIEWSF.
</p>

<p>
<b>SPECIAL NOTE</b> &#150; It is important to realise that the output 'soundfile' is 
in this case a 'pseudo-soundfile'.  All pseudo-soundfiles and binary 
files are displayed by DIRSF, and on PC are automatically given a .wav 
extension.  It is therefore recommended that you adopt a naming convention 
that indicates which type of file it is, such as 'fmnt...' for the formant 
file produced by FORMANTS GET, 'psnd...' for the output of GETSEE, and 
'bpdf...' for the binary pitch data file produced by PITCH.  The 
different types of file all have their own 'property strings' written 
in the header, so the system will know what they are and prevent 
inappropriate use;  the naming conventions are for your own convenience.
</p>

<p>
When a program produces a textfile, it is NOT given a .wav extension 
and will not be displayed by DIRSF.  Look for textfiles in the current 
directory, with the command 'dir'.
</p>
</blockquote>

<p>
Also see: <a href="#GET"><b>FORMANTS GET</b></a> and 
<a href="#PUT"><b>FORMANTS PUT</b></a>.
</p>

<p>
End of FORMANTS GETSEE<br>

<a href="#FORMANTLIST">Return</a> to List of Formant information functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="PUT">FORMANTS PUT &#150; impose spectral envelope in a 
formant file on spectrum in a PVOC analysis file</h2>

<h3>
Usage
</h3>
<b>formants put 1</b> <i>infile fmntfile outfile</i> [<b>-i</b>] 
[<b>-l</b><i>lof</i>] [<b>-h</b><i>hif</i>] [<b>-g</b><i>gain</i>]<br>

<b>formants put 2</b> <i>infile fmntfile outfile</i>  
[<b>-l</b><i>lof</i>] [<b>-h</b><i>hif</i>] [<b>-g</b><i>gain</i>]<br>

<blockquote>
<i>outfile</i> is an analysis file ready for resynthesis
</blockquote>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; New formant envelope REPLACES the sound's own formant envelope<br>
<b>2</b>&nbsp; New formant envelope is IMPOSED ON TOP OF the sound's own formant 
envelope<br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> and <i>outfile</i> PVOC analysis files<br>
<i>fmntfile</i> a formant data file made with FORMANTS GET<br>
<b>-l</b><i>lof</i>  <i>lof</i> = low frequency,  below which spectrum is 
set to zero<br>
<b>-h</b><i>hif</i>  <i>hif</i> = high frequency, above which spectrum is 
set to zero<br>
<b>-g</b><i>gain</i>  <i>gain</i> = adjustment to spectrum loudness (normally 
&lt 1.0)<br>
<b>-i</b>  quicksearch for formants (less accurate)
</blockquote>

<h3>
Understanding the FORMANTS PUT Process
</h3>

<blockquote>
<p>
Previously SPECFPUT, FORMANTS PUT reads a spectral trajectory as stored in 
<i>formant file</i> and imposes it on <i>infile</i>.  In many sounds, 
the amplitude peaks are focused around certain frequencies;  these are 
called formant areas, and are a key factor in creating the timbral 
colouration of a sound.  These formants may themselves change over 
time, forming a spectral trajectory.  The spectral trajectory is extracted 
(prior to running FORMANTS PUT) with <a href="#GET"><b>FORMANTS GET</b></a>.  
This trajectory (i.e., spectral envelope) is the rising and falling 
amplitude pattern of the partials (frequencies).
</p>

<p>
When this pattern is imposed on another file, the precise spectral 
envelope changes &shy and colourations &shy are introduced into the 
receiving file.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
The presence of the spectral trajectory data in the <i>fmntfile</i> makes 
it possible to impose the same data on more than one file.  
</p>

<p>
There are several musical purposes which can be achieved with this 
process:<br>
<ul>
<li>simply as a means to link/unify musical data</li>
<li>to re-colour a sound with the timbral characteristics of another</li>
<li>to give one sound the meanings associated with another sound (this 
applies especially to recognisable sounds from the world around us)</li>
</ul>
</p>
</blockquote>

<p>
End of FORMANTS PUT<br>

<a href="#FORMANTLIST">Return</a> to List of functions which use formant 
data at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="SEE">FORMANTS SEE &#150; convert formant data in 
a binary formant data file to a 'soundfile' for viewing<br>
</h2>

<h3>
Usage
</h3>
<b>formants see</b> <i>infile outsndfile</i> [<b>-v</b>]
<br>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i>  a binary formant data file created with 
<a href="#GET"><b>FORMANTS GET</b></a><br>
<i>outsndfile</i>  a 'pseudo-soundfile' suitable for display in a 
graphic soundfile editor (do not resynthesize or play (an error message 
will be returned)<br>
<b>-v</b>  display data about formant-band parameters
</blockquote>

<h3>
Understanding the FORMANTS SEE Function
</h3>

<blockquote>
<p>
The resulting logarithmically scaled display indicates formant 
shapes, but <i>not</i> the absolute amplitude values.  This 
process used to form a part of the CDP program SPECFSEE.  In the 
display we see a series of spectral windows, separated by zeroes.  
The horizontal display represents the spectral frequencies and 
this may be displayed in a manner which increases regularly with 
frequency (if linear frequency-wise was selected when using 
FORMANTS GET) or in a manner which increases regularly with pitch 
(if linear pitch-wise was selected).
</p>

<p>
The vertical display represents the amplitude of each spectral band.  
The range of amplitudes is very large indeed, and in order to display 
them in the soundfile format, the log of the amplitude value is used 
and scaled to utilise fully the range of sound-sample values 
(-32768 to 32767).
</p>
</blockquote>

<p>
End of FORMANTS SEE<br>

<a href="#FORMANTLIST">Return</a> to List of Formant information functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<hr><!-- ****************************************************** -->
<h2 id="SPECENV">SPECENV &#150; Extract the spectral envelope of file 2 and apply it to file 1  </h2>

<h3>
Usage
</h3>
<b>specenv specenv</b> <i>inanalfil1 inanalfil2 outanalfil windowsize</i> [<b>-b</b><i>bal</i>] [<b>-p</b>] [<b>-i</b>] [<b>-k</b>]

<h3>
Parameters
</h3>

<blockquote>

<i>inanalfil1</i> &#150;  input analysis file onto which the spectral envelope is applied<br>
<i>inanalfil2</i> &#150; input analyis file from which the spectral envelope is taken. File 2 must be at least as long as file 1<br>
<i>outanalfil</i> &#150; output analysis file<br>
<i>windowsize</i> &#150; spectral bandwidth (no. of analysis channels) to process (Range: 1 to no. of channels) <br>   
<b>-b</b><i>bal</i> &#150; proportion of original files in output. (Range: almost -1 to almost +1: -1 and +1 give errors.)<br>
&nbsp;&nbsp;&nbsp;&nbsp;  <b>&gt; 1</b>: balance of shaped-file to infile1 = (1-bal) : bal &nbsp; (Higher balance keeps more of the original file1.)<br>
&nbsp;&nbsp;&nbsp;&nbsp;  <b>&lt; 1</b>: balance of shaped-file to infile2 = (1+bal) : -bal (Lower balance keeps more of the imposed file2.)<br>
&nbsp;&nbsp;&nbsp;&nbsp;  Default 0.0: none of the original files in the output.<br>

<b>-p</b> &#150; window-size counted in octave steps. Default: counted in analysis-channel-widths (sample-rate/analysis-channels).<br>
<b>-i</b> &#150;  impose spectral envelope. (Default: replace spectral envelope)<br>
<b>-k</b> &#150; keep the loudness contour of the imposed file. (Default: keep the loudness contour of the original file.)

</blockquote>

<h3>
Understanding the SPECENV Process
</h3>

<blockquote>
<p>
SPECENV extracts the spectral envelope of Infile 2 and applies it to Infile 1. Infile 1 must normally be shorter than Infile 2. 
</p><p>
The process is equivalent to formant extraction plus formant impose/replace, but allows for larger spectral windows. It is a variant of VOCODE or CROSS, although the output is different from both. 
</p><p>
The default is to replace Infile 1's spectral envelope, as CROSS does (though the result is not as clear as CROSS). Alternatively, Infile 2's spectral envelope may be imposed on Infile 1, like VOCODE. BALANCE controls the proportion of either input in the output: -99 is 'wet'.
</p><p>
The ouput length is taken from the shorter Infile 1, rather than the imposing/replacing one (Infile 2). Before applying the process, some silence may need to be added to Infile 1 and/or 2 to ensure the whole of the active material in the imposing/replacing file is used. 
</p><p>
SEE ALSO: COMBINE CROSS, FORMANTS VOCODE, FORMANTS GET/PUT, SPECSPHINX
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
...
</p>
</blockquote>

<p>
End of SPECENV<br>

<a href="#FORMANTLIST">Return</a> to List of Formant information functions 
at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index

</p>


<hr><!-- ****************************************************** -->

<h2 id="VOCODE">FORMANTS VOCODE &#150; impose spectral envelope of 
2<sup>nd</sup> sound onto 1<sup>st</sup> sound</h2>

<h3>
Usage
</h3>
<b>formants vocode</b> <i>infile infile2 outfile</i> <b>-f</b><i>N</i> &#124; 
<b>-p</b><i>N</i> [<b>-l</b><i>lof</i>] [<b>-h</b><i>hif</i>] 
[<b>-g</b><i>gain</i>]<br>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> and <i>infile2</i> analysis files<br> 
<i>outfile</i>  resultant analysis file<br> 
<b>-f</b><i>N</i>  extract formant envelope linear frequency-wise, 
using 1 point for every <i>N</i> equally spaced frequency channels<br>
<b>-p</b><i>N</i>  extract formant envelope linear pitchwise, 
using <i>N</i> equally-spaced pitch-bands per octave<br>
<b>-l</b><i>lof</i>  <i>lof</i> is low frquency, below which data is 
filtered out<br>
<b>-h</b><i>hif</i>  <i>hif</i> is high frquency, above which data is 
filtered out<br>
<b>-g</b><i>gain</i>  <i>gain</i> is the amplitude adjustment to the 
signal (normally &lt; 1.0)<br>
</blockquote>

<h3>
Understanding the FORMANTS VOCODE Process
</h3>

<blockquote>
<p>
FORMANTS VOCODE achieves 'cross-synthesis';  it was formerly called SPECVOCO, 
but here has been re-written extensively.
</p>

<p>
Cross-synthesis takes the time-evolving spectral envelope of one sound 
and imposes it on another sound.  For example, vocal shouts will 
have a strong spectral profile.  If this is imposed onto the sound of 
running water, we should hear the water shout.
</p>

<p>
Strictly speaking, this is not 'morphing', which is more of a 
gradual transition from one sound to another.  But in a broader sense, 
it certainly is the reshaping of one sound with the characteristics 
of another.
</p>
</blockquote>

<h3>
Musical Applications
</h3>

<blockquote>
<p>
The difference between frequency-wise and pitch-wise could be important.  
As discussed in <a href="#extractformants"><b>FORMANTS GET</b></a> above, linear 
frequency-wise divides into absolutely equal frequency bands, while linear 
pitchwise divides octaves (of varying frequency widths) into equal-ratio 
bands, but these bands will vary in size from octave to octave, wider as 
one goes higher.  It was recommended above to use frequency-wise if the 
sound is concentrated in the higher frequency areas (to get better 
resolution), and pitchwise for lower frequency areas.  Experimentation is 
still the name of the game.
</p>

<p>
Frequencies below <i>lof</i> and above <i>hif</i> are simply ignored 
when the new spectrum is reconstructed.
</p>

<p>
<i>Gain</i> is not predictable because it depends on the level of the 
signals you put in, their relative levels, and the way those levels are 
distributed over the spectrum.  A process that boosts level a great 
deal at the low end of the spectrum can cause distortion.  Try it with 
no gain first.
</p>
</blockquote>

<p>
End of FORMANTS VOCODE<br>

<a href="#FORMANTLIST">Return</a> to List of functions which use formant 
data at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<hr><!-- ****************************************************** -->

<p>
<h2 id="FORMANTTECHNICAL">Technical Discussion of formants and spectral 
envelopes</h2>

<h3>
About Formants
</h3>

<p>
<i>Resonance</i> is the transmission of vibrations from one vibrating 
body to another.  A <i>resonator</i> is a body which reacts with 
sounds of any frequency or pitch, such as the sounding body of a piano 
or the belly and back of a violin, or the cavities associated with 
the vocal tract.
</p>

<p>
The effect of a resonator is to amplify certain frequency regions.  These 
regions remain constant, unless the shape of the resonator is altered.  
Whatever partials are present in one of these regions will be amplified.  
The result is a perceptibly similar tone colour (timbre), even when 
the fundamental pitch of the vibrations is changing.
</p>

<p>
The human voice provides one of the best examples of this phenomenon.  
The vowels produced by the human voice maintain a constant 'oo' or 
'ah' while the fundamental pitch changes, as long as the shape of 
the mouth etc. remains constant:  the <i>same</i> frequency regions 
are amplified even though the pitch is going up or down.  The specific 
formant (frequency regions) associated with each vowel have been 
identified &#150; and can be used to impose a given vowel sound onto 
any other sound.
</p>

<p>
A <b>formant</b>, then, is an absolute frequency region in which the 
(changing) partials contained in any given sound are amplified, 
resulting in a constant timbre amidst changing pitches.
</p>

<p>
While this phenomenon occurs naturally through resonance effects, 
formants can also be produced on the computer by boosting the 
amplitudes of the partials in the specific frequency regions associated 
with a given vowel or tone.
</p>

<p>
The <i>spectral envelope</i> is the shape made by the amplitude 
levels of the partials contained in a sound.  Note that this is <i>not</i> 
a fixed shape lasting throughout the duration of the sound.  Rather, 
which partials are present at any given moment (i.e., the <i>spectrum</i>) 
and the amplitude level of these partials is changing all the time.  
Some sounds are very steady, with not so much change, while other 
sounds are constantly changing a great deal.  The latter tend to 
be the more useful sounds for a variety of spectral manipulations:  
there is simply more to work with.
</p>


<h3>
References
</h3>

<p>
Also see the more detailed discussions and examples in:
	<ul>
	<li>The discussion above <a href="#EXTRACTFORMANTS"> <b>on 
	extracting formants</b></a>.</li>
	<li>Dodge & Jerse, <i>Computer Music</i>, pp. 54-55 
	(Schirmer, NY & London, 1985).</li>
	<li>Pierce, John R., <i>The Science of Musical Sound</i>, p. 49 
	(Scientific American Books, NY & San Francisco, 1983)</li>
	<li>Ed. Boulanger, Richard, <i>The Csound Book</i>, pp. 653-656 for 
	a chart of formant frequency regions for the various 
	vowels for Soprano, Tenor, Alto, Bass and Countertenor 
	(MIT Press, Cambridge Mass., 2000).</li>
	</ul>
</p>
	
<p>
End of Technical Discussion<br>


<a href="#FORMANTLIST">Return</a> to List of functions which use formant 
data at top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>


<!-- ********************************************************** -->
  <div id = "footer">
   <p>
    <address>
    Last Updated 26 Apr 2023 for CDP8<br />
    Documentation: Archer Endrich<br />
    Revisions: Robert Fraser<br>
    All observations &amp; ideas for improvement appreciated<br />
    Composers Desktop Project Ltd<br />
    Email: cdpse9@gmail.com<br />
    &#169; Copyright 1998-2023 Archer Endrich &amp; CDP<br>
    </address>
   </p>
  </div>

</div> <!-- End of 'right' (contents) indentation -->


</body>

</html>