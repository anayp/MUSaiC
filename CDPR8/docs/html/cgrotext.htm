<!DOCTYPE html>
<html lang="en">
<!-- cgrotext.htm  - TEXTURE HTML5 version -->
<html>

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>CDP TEXTURE Functions</title>
<meta charset="UTF-8" />
	<link rel = "stylesheet"
	 type = "text/css"
	 href = "cdpmanshtml5.css" />
<link rel="icon"  href="images/cdp_favicon.ico">
    <style>
	a { text-decoration: none }
	a:hover { color:#FF3333;
          text-decoration: underline }          	
    </style>
</head>

<body>

<div id = "left"> <!-- Keep indexing on left ABOVE headlines so index goes to top of page -->

  <p>
  <div align = "center">
  <IMG SRC = "images/cdpcircs90.jpg"></a>
  </div>
  </p>

  <p>
  <nav>
  <dl>
  <dt><a href="ccdpndex.htm" Target="_top"><b>Main Index</b></a>
  <dt><a href="cgroundx.htm" Target="_top"><b>'Groucho' Index</b></a> 
  <dt><a href="filestxt.htm" Target="_blank"><b>File Formats</b></a>
  <hr>
  <br />
  <dt><a href="#TEXTURELIST"><b>TEXTURE:</b></a>
  <dt>&nbsp;&nbsp;<a href = "#SIMPLE"><b>SIMPLE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#GROUPED"><b>GROUPED</b></a>
  <dt>&nbsp;&nbsp;<a href = "#DECORATED"><b>DECORATED</b></a>
  <dt>&nbsp;&nbsp;<a href = "#DECORATED"><b>PREDECOR</b></a>
  <dt>&nbsp;&nbsp;<a href = "#DECORATED"><b>POSTDECOR</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MOTIFS"><b>MOTIFS</b></a>
  <dt>&nbsp;&nbsp;<a href = "#MOTIFS"><b>MOTIFSIN</b></a>
  <dt>&nbsp;&nbsp;<a href = "#ORNATE"><b>ORNATE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#ORNATE"><b>PREORNATE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#ORNATE"><b>POSTORNATE</b></a>
  <dt>&nbsp;&nbsp;<a href = "#TIMED"><b>TIMED</b></a>
  <dt>&nbsp;&nbsp;<a href = "#TGROUPED"><b>TGROUPED</b></a>
  <dt>&nbsp;&nbsp;<a href = "#TMOTIFS"><b>TMOTIFS</b></a>
  <dt>&nbsp;&nbsp;<a href = "#TMOTIFS"><b>TMOTIFSIN</b></a>
  <br /><br />
  <dt><b>MULTI-CHANNEL:</b></dt> 
  <dt>&nbsp;&nbsp;<a href = "cgromc.htm#TEXMCHAN"><b>TEXMCHAN</b></a>
  <dt>&nbsp;&nbsp;<a href="cgrogrns.htm#NEWTEX"><b>NEWTEX</b></a>  

  <br><br><hr>

  <dt><a href = "#TEXTUREINFO"><b>Background Info</b></a>

  </dl>
  </p>

</div>  <!-- End of left index panel -->

<div id = "right"> <!-- Keep headlines here so index goes to top of page -->

   <div id = "head">

   <!-- 
   <p><IMG SRC="images/cdpcircs.jpg" align=left ALT="CDP circles logo"></a></p>
   -->
     <div align=center>
     <br>
     <img src="images/cdplogo2.jpg" ALT="CDP Logo">
     </div>

   <h1 align=center>CDP TEXTURE Functions </h1>
   <h2 align=center><font color="#3366ff"> (with Command Line Usage)</font></h2>
   </div>  <!-- End of 'head' -->


<!-- ========================================================================= -->
<h2 align = "center" id="TEXTURELIST">Functions to make multi-event textures with soundfiles</h2>

<p align=center>
&#126; The Texture Pack contains batch and data files for all the 
examples &#126;<br>
<b>NB:</b> &#150; See <a href="#TEXTUREINFO"><b>Special Background 
Information</b></a><br />

<p>
<b><i>Names in brackets mean that these are separate programs.  The others are sub-modules of TEXTURE.</i></b>
</p>

<dl>
<dt><a href="#SIMPLE"><b>SIMPLE</b></a> <dd>A texture of events shaped by 
random selections from parameter ranges, with one or more input sounds;  
a Harmonic Field&#47;Set may be used

<dt><a href="#GROUPED"><b>GROUPED</b></a> <dd>A texture of separate event groups 
shaped by random selections from parameter ranges, with one or more 
input sounds;  a Harmonic Field&#47;Set may be used
<br>

<dt><a href="#DECORATED"><b>DECORATED&#47;PREDECOR&#47;POSTDECOR</b></a> <dd>
A texture of 'decoration' events shaped by internal grouping parameters, 
selected at random from a pitch range or from a Harmonic Field&#47;Set and 
attached to an underlying 'line';  one or more input sounds.  [A Line 
with random-range-shaped Decorations, Harmonic Field&#47;Set optional.]

<dt><a href="#MOTIFS"><b>MOTIFS&#47;MOTIFSIN</b></a> <dd>A texture of fully 
defined motifs attached to pitches selected at random from a pitch
range or from a Harmonic Field&#47;Set (MOTIFS: only first note of motif 
constrained, MOTIFSIN: all notes of motif constrained); one or more 
input sounds.  [A Motif, Harmonic Field-Set optional &#150; no Line.]

<dt><a href="#ORNATE"><b>ORNATE&#47;PREORNATE&#47;POSTORNATE</b></a> <dd>A texture 
of events with fully user-specified ornaments placed on a 'line', 
optionally with pitches restricted to a Harmonic Field&#47;Set; one 
or more input sounds.  [A Line with fully defined Ornament, Harmonic 
Field-Set optional.]

<dt><a href="#TIMED"><b>TIMED</b></a> <dd>A texture with events constrained to a 
rhythmic template and pitches selected at random from a pitch range or 
a Harmonic Field&#47;Set;  one or more input sounds

<dt><a href="#TGROUPED"><b>TGROUPED</b></a> <dd>A texture with the onsets of 
separate internally shaped event groups constrained to a rhythmic 
template, with pitches drawn from a pitch range or a Harmonic 
Field&#47;Set;  one or more input sounds

<dt><a href="#TMOTIFS"><b>TMOTIFS&#47;TMOTIFSIN</b></a> <dd>A texture with 
the onsets of fully user-specified motifs constrained to a rhythmic grid 
and attached to pitches drawn from a pitch range or from a Harmonic 
Field&#47;Set;  one or more input sounds
<br><br>
<dt><a href="#TEXTUREINFO"><b>Background Info:</b></a><dd>Special background information for Texture</dd>
<br><br>
<dt><b>SEE ALSO (multi-channel) :</b>
<dt><a href="cgromc.htm#TEXMCHAN"><b>[TEXMCHAN]</b></a><dd>Create textures over a multi-channel frame</dd>
<dt><a href="cgrogrns.htm#NEWTEX"><b>[NEWTEX]</b></a><dd>Generate a texture of grains made from a source sound or sounds</dd>
<!--
<dt><a href="cgrogrns.htm#WRAPPAGE"><b>[WRAPPAGE]</b></a><dd>Granular reconstitution of one or more soundfiles over multi-channel space</dd>
-->
</dl>

	<blockquote>
	<b>Author's Note</b><br>
	<blockquote><b>This is an extraordinary program set devised 
	and written by Trevor Wishart.  It enables you to build 
	and shape multi-event textures of varying complexity by 
	semi-algorithmic mixing processes.  My work on the CDP HTML 
	Reference Documentation took several months, spread out over 
	2 years, and was followed by writing the supplementary <b>Texture 
	Workshop</b> to provide a more step-by-step introduction to the 
	musical potential of the Texture programs.  There is also 
	a section in the <a href="..\htmltuts\tut12step\tut12stp.htm#STEP11">
	<i>12-Step Tutorial</i></a> that summarises the key musical possibilities 
	of the TEXTURE programs.  I hope you enjoy using them as much as I do. 
	&#150; Archer Endrich, May 2005.</b>
	</blockquote>
	</blockquote>

<hr> <!-- ********************************************************** -->
<h2 align=center id="TEXTUREINFO"><b>Special Background Information for Texture</b>
</h2>

<p>
<blockquote>
<p>
Given the complexity of these programs, you are recommended to take 
advantage of the Presets in <i>Soundshaper</i>, or the 
Patches function in <i>Sound Loom</i>, or the batch file mechanism 
when using command lines.  All the relevant files are in the <b>\txpack</b> 
folder.  Once set up, they can be varied without too much difficulty.
</p>

<p>
The Texture Pack contains <i>Sound Loom</i> Patches, or batch and text 
file versions of all the parameter settings used in the examples, along 
with the supporting node data and breakpoint files.  The batch files can 
be used with the CDP executables, as well as with the 
<i>Sound Loom</i> batchfile mechanism &#150; but it is easier to 
use the <b>Presets &#47; Patches</b>. <i>Soundshaper</i> has presets  
for all the Texture Pack examples. <i>Readtxtu.txt</i> summarises 
all the files in the Texture Pack so you know what is what.
</p>

<p>
The Texture Pack focuses on pitch-oriented applications of the 
TEXTURE programs, as these nicely demonstrate the many options available.  
Bear in mind, however:
	<ul>
	<li>There are many spatialisation possibilities.
	All the examples here scatter the output across the stereo field.  
	But it is possible to generate sound output at a specific location, 
	as a moving stream, as a gradually spreading event, and so on, 
	using the spatial position and spread parameters.</li>
	<br />
	<li>Motifs, and harmonic fields can be tuned to 
	any scale or system you want.  If you need 500 irregularly spaced 
	notes per octave, that's fine.  Fractional MIDI values can be used 
	to specify any tuning.</li>
	<br />
	<li>Textures can be as dense as you want, and the variation of 
	density can be used to obscure or unveil recognition of the 
	source, the source pitch, and so on.</li>
	</ul>
</p>

<p>
In the examples below, the pitches of motifs, ornaments and harmonic 
fields, specified in the <i>note data</i> file,  are taken 
from the standard 12-note tempered scale (by using <i>whole 
number</i> MIDI values), but this is not essential.  <b>You may 
choose any tuning system you wish</b>, simply by using 
<i>fractional</i> MIDI values for the note specifications.  
Ornaments and the line they ornament could be in different tuning 
systems.  And you may define any number of notes (e.g. 500) within 
an octave.
</p>

<p>
In <i>neutral</i> modes, no tuning system at all is imposed on 
the notes, which are taken from the whole pitch continuum. 
</p>

</p>
</blockquote>
</p>

<p>
<h3>TOPICS:</h3>
	<ul>
	<li><a href="#PITCHTYPES"><b>Pitch Grouping Types</b></a></li>
	<li><a href="#SPECIALPS"><b>Special Parameters</b>:</a> <i>gspace</i>, 
	<i>contour</i> and <i>centring</i></li>
	<li><a href="#NOTEDATA"><b>The <i>Notedata</i> file</b></a></li>
	</ul>

	<p>
	<h2 id="PITCHTYPES"><b>Pitch Grouping Types</b></h2>
	<ul>
	<li><b>'Ornaments'</b> and <b>'Motifs'</b> have user-specified 
	pitch shapes (in the <i>notedata</i> file)</li>
	<li><b>'Decorations'</b> and <b>'Groups'</b> are random 
	assemblies of pitches</li>
	<li><b>'Harmonic sets'</b> use only the pitches specified</li>
	<li><b>'Harmonic fields'</b> duplicate the specified pitches 
	in all octaves</li>
	</ul>
	</p>

	<p>
	<h2 id="SPECIALPS"><b>The Special Parameters <i>gspace</i>, 
	<i>contour</i> and <i>centring</i></b></h2>
	<ul>
	<li><b><i>gspace</i></b> &#150; 5 options for the spatialisation 
	of event-groups</li>
		<ol start="0"> 
		<li> &#150;</b> still</li>
		<li> &#150;</b> scattered (default)</li>
		<li> &#150;</b> towards texture centre</li>
		<li> &#150;</b> away from centre</li>
		<li> &#150;</b> follow texture motion (only if spatial 
		    position varies in time)</li>
		<li> &#150;</b> contrary to texture motion (only if 
		    spatial position varies in time)</li>
		</ol>
	<li><b><i>contour</i></b> &#150; 9 options for the amplitude 
	contour of groups</li>
		<ul>
		<li><b>0 &#150;</b> mixed (default)</li>
		<li><b>1 &#150;</b> crescendo</li>
		<li><b>2 &#150;</b> flat</li>
		<li><b>3 &#150;</b> decrescendo</li>
		<li><b>4 &#150;</b> crescendo or flat</li>
		<li><b>5 &#150;</b> crescendo or decrescendo</li>
		<li><b>6 &#150;</b> decrescendo or flat</li>
		<li><b>7 &#150;</b> directed-to-event (in some cases 					only)</li>
		<li><b>8 &#150;</b> directed-to-event or flat (in some 				cases only) </li>
		</ul>
	<li><b><i>centring</i></b> &#150; 7 options for how the decoration pitches centre on decorated line pitches</li>
		<ul>
		<li><b>0 &#150;</b> centred (default)</li>
		<li><b>1 &#150;</b> above</li>
		<li><b>2 &#150;</b> below</li>
		<li><b>3 &#150;</b> centred and above</li>
		<li><b>4 &#150;</b> centered and below</li>
		<li><b>5 &#150;</b> above and below</li>
		<li><b>6 &#150;</b> centred and above and below
			</li>
		</ul>
	</ul>
		<blockquote>
		<b>In all cases except 0, the pitch range of 
		decorations are shifted to tally with line pitch.</b>
		</blockquote>

		<p>
		<b>Return to list of <a href="#TEXTUREINFO">Special Information Topics</a>.</b>
		</p>

	</p>

	<p>
	
	<h2 id="NOTEDATA"><b>About the Note data file</b></h2>
	<p>
	<i>Notedata</i> is a textfile containing:
	<ol>
	<li>MIDI 'pitch', which may be the real or arbitrary pitch of EACH 
	input sound, specified on the first line</li>
	<li>NOTELIST(S), where necessary (as below)</li>
	</ol>
	</p>

	<p>
	Each <b>Notelist</b> is specified as follows:
	<pre><code><i>
	#N
	time instr_no pitch amplitude duration
	time instr_no pitch amplitude duration
	time instr_no pitch amplitude duration
	time instr_no pitch amplitude duration
	etc.
	</i></code></pre>

		<blockquote>
		<i>N</i> = the number of notes in this notelist, 
		and is followed by <i>N</i> lines as above<br>
		<i>time</i> &#150; the start time of that note in seconds<br>
		<i>instr_no</i> &#150; CURRENTLY INACTIVE IN ALL CASES;  
		to be either implemented or removed.  It is intended to 
		provide a means of associating a specific note-event with 
		a specified infile, but may be overridden by other 
		parameters.  Always give '1' as the instrument number 
		until a future update changes this situation.<br>
		<i>pitch</i> &#150; within the MIDI range of 1 to 127<br>
		<i>amplitude</i> &#150; within the MIDI range of 1 to 
		127;  this field is inactive except for motifs and 
		ornaments<br>
		<i>duration</i> &#150; duration (sustain-time) of that note in 
		seconds; this field is inactive except for motifs and ornaments
		</blockquote>
	</p>

	<p>
	In the following example, the <b>1<sup>st</sup></b> line provides 
	the 'assumed' (i.e., possibly arbitrary) pitch level of the 
	input soundfile.  If there is more than one input soundfile, a 
	pitch level must be provided for each one, separated by spaces.  
	The <b>2<sup>nd</sup> line</b> indicates how many 
	notes are in the notelist, and then the following lines define 
	<b>each note</b> in turn. In the example file below, 
	all the times in the note data file are given as zero.  The 
	timing between events (and therefore the number of events) is 
	in this case controlled by the <i>packing</i> parameter.  
	All durations (sustain-times) in the note data file are zero in 
	this case, and the duration of any given note event is selected at 
	random from within the duration range in the command parameters.  
	In this example events of various durations are placed randomly on 
	the lattice of a C-minor 7th chord.  <b>Durations must, however, be 
	specified in the note data file for motifs and ornaments.</b>  Durations 
	are also referred to as 'sustain-times' because they refer to the 
	amount of time that the input soundfile is 'sustained': i.e., how much 
	of it is used.  Each note event in the texture begins at the beginning 
	of the input soundfile and continues &#150; is sustained &#150; for 
	the amount of time specified.  This makes the nature of the attack 
	portion of the input soundfile particularly important when creating 
	textures.
	</p>

	<p>
	The note data file is a text file which may be written with a text 
	editor, with an editing facility within a graphic interface.  
	There are newlines at the end of each line and spaces (or tabs) 
	between the data items for each note.  The following illustrates 
	the format of a typical note data file.
	</p>

	<p>
	<pre><code>
	60
	#4
	0 1 60 0 0
	0 1 63 0 0
	0 1 67 0 0
	0 1 70 0 0
	</code></pre>
	</p>
	
	<p>
	Notelists represent <b>in this order</b>:
	<ol type = 'a'>
	<li>Notelist of notes in any timed, ornamented or decorated 
	<b>line</b> in the texture (basic substructure notelist)</li>

	<li>Notelist of notes in any <b>harmonic field(s)</b> or 
	<b>harmonic set(s)</b> specified (decoration field)</li>

	<li>Notelist(s) of notes in any <b>ornament(s)</b> or 
	<b>motif(s)</b> specified</li>
	</ol>
		<blockquote>
		<b>Not all of these lists are used for the various 
		TEXTURE functions, and the order may vary.  The note 
		data files shown in each function are more specific 
		regarding their contents.</b>  Also see the 
		<a href="ndfchart.htm"><b>Note Data File Chart</b></a> and 
		<a href="txcharts.htm"><b>2 additional reference charts</b></a>  
		for overviews of key information.  You can print these out 
		(and laminate them) for easy reference.  Also useful 
		is the <a href="notechrt.htm">Chart of Equivalent 
		Pitch Notatations</a> &#150; a special version named 
		<i>notechpr.htm</i> has been created for printing 
		neatly on two sheets, single or double-sided.
		</blockquote>
	</p>

	<p>
	<b>Also note:</b>
	<ol type='a'>
	<li>Timed textures require a sequence of timed notes ...</li>
		<ul>
		<li>Their pitches and timings will be used to define 
		the 'line' (= nodal substructure) in <b>ornamented</b></li> 
		and <b>decorated</b> textures
		<li>Their timings ONLY will be used in <b>timed</b>, 
		<b>tmotifs</b> and <b>tmotifsin</b> textures 
		(Specify arbitrary pitches).</li>
		<li>Their durations may be used in certain options 
		to specify durations of <b>motif</b> or 
		<b>ornament</b> note-event shapes.</li>
		</ul>
	<li>For more than 1 <b>harmonic field</b> or <b>harmonic set</b> ...</li> 
		<ul>
		<li>Specify the 1<sup>st</sup> field with all notes 
		at time 1</li>
		<li>Specify the 2<sup>nd</sup> field with all notes 
		at time 2</li>
		<li>etc. ...</li>
		</ul>
	<li>Times <i>within motifs</i> must increase (or remain the 
	same during chords)</li>
	</ol>

  <p>
  <a href="#TEXTUREINFO"><b>Return</b></a> to list of Special InformationTopics<br>
  <a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE 
  functions at top of this file
  </p>

	
</p>

</p>
<hr><!-- ********************************************************** -->

<h2 id="SIMPLE">TEXTURE SIMPLE &#150; A texture of events shaped by 
random selections from parameter ranges, with one or more input sounds;  
a Harmonic Field&#47;Set may be used
</h2>

<p>
<div align=center>
<table border="2" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#SIMPPAR"><b>Parameters</b></a></td>
<td align=center><a href="#SIMPNDF"><b>Notedata File</b></a></td>
<td align=center><a href="#SIMPUND"><b>Understanding</b></a></td>
<td align=center><a href="#SIMPTWO"><b>Two fields&#47;sets</b></a></td>
<td align=center><a href="#SIMPAPP"><b>Applications</b></a></td>
</tr>

<tr>
<td align=left colspan = 5><a href="cgromc.htm#TEXMCHAN"><b>TEXMCHAN</b></a> 
    &#150; Special Notes on differences in Multichannel version</td>
</tr>
</table>
</div>
</p>

<h3>
Usage
</h3>
<b>texture simple mode</b> <i>infile [infile2] outfile notedata outdur 
packing scatter tgrid<br>
sndfirst sndlast mingain maxgain mindur maxdur minpich maxpich omit</i><br>
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>]
[<b>-s</b><i>spread</i>] [<b>-r</b><i>seed</i>] [<b>-w</b>] [<b>-c</b> [<b>-p</b>]]
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; On a given harmonic field<br>
<b>2</b>&nbsp; On changing harmonic fields<br>
<b>3</b>&nbsp; On a given harmonic set<br>
<b>4</b>&nbsp; On changing harmonic sets<br>
<b>5</b>&nbsp; None (Neutral)
</blockquote>

<h3 id="SIMPPAR">Parameters</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to use as source material<br>
<i>infile2 ... </i> &#150; optional soundfile(s) to use as additional 
inputs<br>
<i>outfile</i> &#150; output soundfile<br>
<i id="SIMPNDF">notedata</i> &#150; <b>textfile, containing:</b>
	<ol>
	<li>assumed MIDI 'pitch' of each input sound, specified on the 
	1<sup>st</sup> line.  In Mode <b>5</b> this is all that is needed.</li>

	<li>In Modes <b>1 - 4</b> there is also a NOTELIST to define a 
	Harmonic Field&#47;Set, specified thus:</li>
		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		pitches in the notelist).</li>

		<li>This is followed by <i>N</i> lines in the format:<br>
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>dur</i> (secs)</li>

		<li><i>Amp</i> and <i>dur</i> are inactive.</li>

		<li>Any times within the field must increase (or 
		remain the same, during chords)</li>
		</ul>
	</ol>

<p>
<div align=center>
<table border="1" cellpadding="2" bgcolor="#B0E0E6">

<tr>
<td align=center colspan=2>Form: <b>MPV&#47;&#150;&#47;&#150;&#47;&#150</b></td>
<td align=center colspan=2>Form: <b>MPV&#47;HF-S&#47;&#150;&#47;&#150</b></td>
</tr>

<tr>
<th>Mode 5 format</th>
<th>Comments</th>
<th>Modes 1-4 format</th>
<th>Comments</th>
</tr>

<tr>
<td align=center>60</td>
<td align=center>MIDI pitch value(s)</td>
<td align=center>60<br></td>
<td align=center>MIDI pitch value(s)<br></td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Harmonic Field&#47;Set </td>
</tr>

</table>
</div>
</p>

<i>outdur</i> &#150; minimum duration of the <i>outfile</i><br>
<i>packing</i> &#150; (average) time in seconds between event onsets<br>
<i>scatter</i> &#150; randomisation in seconds of event onsets 
(Range: 0 to 10)<br>
<i>tgrid</i> &#150; minimum step in milliseconds or quantised timegrid 
(for group start times) (Range: 0 to 10000; Default: 0)<br>
<i>sndfirst, sndlast</i> &#150; first and last soundfiles to use from a 
list of soundfiles for input (Range: 1 to the number of sounds).  Note 
that this is a time-varying parameter:
	<ul>
	<li>Enter 1 for both <i>sndfirst</i> and <i>sndlast</i> to use just one input soundfile.</li>
	<li>When you use more than one sound, the names of these input soundfiles are given to the program.  
    The note data file must  provide a reference pitch level for each of these sounds. 
	If you just enter, e.g., 1 for <i>sndfirst</i> and 3 for 
	<i>sndlast</i>, the program will select one of the three input 
	soundfiles at random for each event in the texture.</li>

	<li>To specify when each soundfile is to be used in creating the 
	output texture, a text file is needed to provide a <i>time 
	sound_number</i> pair of values, the numbers corresponding to the 
	order in which the soundfiles have been submitted to the program.</li>
	<li>For one file at a time changing at different times in the 
	output (the times given are as in the output soundfile), use 
	the same file for both <i>sndfirst</i> and <i>sndlast</i>, 
	e.g.,
	<pre>
	<font color = "#FF0000"><i>sndfirst  sndlast</i></font>
	 0.0  1   0.0  1
	10.0  2  10.0  2
	18.8  3  18.8  3
	</pre></li>
	<li>For a changing number of files, such as expanding the number 
	of files being used at any one time (illustrated below), use a 
	lower number at a given time for <i>sndfirst</i>, and a higher 
	number at the same time (or an overlapping time) for <i>sndlast</i>.
	<pre>
	<font color = "#FF0000"><i>sndfirst  sndlast</i></font>
	 0.0  1   0.0  1
	10.0  1  10.0  2
	18.8  1  18.8  3
	</pre>
	Note that the rate at which each soundfile is employed will slow 
	down as more are invoked over the same time period.</li>
	</ul>
<i>mingain, maxgain</i> &#150; minimum and maximum level of input sounds 
(Range: 1 to 127;  Default: 64 and 64)<br>
<i>mindur, maxdur</i> &#150; minimum and maximum duration of events in 
texture<br>
<i>minpich, maxpich</i> &#150; minimum and maximum pitch (MIDI note value)<br>
<i>omit</i> &#150; 1 in "omit" events are silent: there are fewer silent events as the parameter value increases. (Range: 0 to 64)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value 0 or 64: <b>no</b> events are silent.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>N.B.: this parameter has been introduced in CDP8 (2023) </b><br>
<b>-a</b><i>atten</i> &#150; overall attenuation of the output<br>
<b>-p</b><i>position</i> &#150; centre of sound output image (Range: 
0 to 1, where 0 is Left and 1 is Right;  Default: 0.5)<br>
<b>-s</b><i>spread</i> &#150; spatial spread of texture events (Range: 
0 to 1, where 1 is full spread)<br>
<b>-r</b><i>seed</i> &#150; the same <i>seed</i> number will produce the 
same result on rerun (Default: 0, where 0 is different result each time)<br>
<b>-w</b> &#150; always play whole input sound, ignoring duration values<br>
<b>-c</b> &#150; choose input files cyclically in listed order, ignoring <i>sndfirst</i> and <i>sndlast</i><br>
<b>-p</b> &#150; randomly permute each cycle: use only when <b>-c</b> flag also set. <br><br>

<b> All parameters except <i>notedata, outdur</i> and <i>seed</i> may vary over time.</b>
</blockquote>



<h3 id="SIMPUND">Understanding the TEXTURE SIMPLE Process</h3>

<p>
<b>Getting started</b><br>
Please make sure you have gone through the <a href="#TEXTUREINFO">
background information</a> before continuing.
</p>

<blockquote>
<p>
This Reference Document for the TEXTURE suite contains numerous worked examples 
which you can hear directly from this manual.  They are stored in <b>\txsnds</b>.  
You can also go to the <b>\txpack</b> folder, where you will find all the files 
you need run to create the sound examples yourselves.  There are two versions:  
one for the Command Line and <i>Soundshaper</i> environments and one for the 
<i>Sound Loom</i> environment.
</p>

<p>
What you need from the <b>txpack</b> are the note data and breakpoint 
files, as well as the two source sounds, <i>horn.wav</i> and <i>marimba.wav</i>, 
<b>or source sounds of your choice</b>.  The parameter information is stored in 
<b>Presets</b> supplied with <i>Soundshaper</i> and <b>Patches</b> supplied 
with <i>Sound Loom</i>.  In a Command Line environment, you can run the batch (.bat) files supplied in <b>txpack</b>.
</p>

<p>
<b>Compatibility with <i>omit</i> parameter</b><br>
The worked examples currently do <b>not</b> include the compulsory <b><i>omit</i></b> parameter, introduced in CDP Release 8.<br>
To run the examples on the Command Line, you will have to add this parameter to the script, using the value 0 (or 64).<br>
<b><i>Omit</i></b> is the 13th parameter after <b><i>notedata</i></b>, and the last before any optional (flagged) parameters, such as <i>atten</i>.
</p><p>
The tutorial presets in <i>Soundshaper</i> have been updated to include <i>omit</i>.
</p>

<p>
<b>Location of the source sounds and other files:</b>
	<ul>
	<li><i>Soundshaper</i> &#150; In OPTIONS &GT; SETTINGS go to <b>File</b> 
	in the top left corner and open <b>txpack.cfg</b>.  This Will take you 
	to <b>\txpack</b>, which contains the source sounds, note data and other 
	files needed to run the examples.   Also load the <b>Presets</b> file 
	<b>Presets.dat</b>, which is the default file supplied with the 
	Program).</li><br />
	
	<li><i>Sound Loom</i> &#150; select <b>txpack</b> as your working 
	directory, <b>Grab</b> everything and place the files on the <b>Workspace</b>.  
	Now use <b>Choose Files</b> to select the appropriate sooundfile(s) for 
	processing.  The Patches go in the <b>_cdpatch</b> folder, and should be 
	there already in your distribution.</li><br />
	
	<li>Command line environment &#150; 'change directory' to <b>\txpack</b> 
	and run the various <b>batch</b> files, e.g., <b>simplexs.bat</b> for the 
	TEXTURE SIMPLE examples.</li>
	</ul>
</p>

<p>
The complete list of files is given in <i>Readtxtu.txt</i>.  The list at 
the date of this file is as follows:
	<p><b>Note data files</b>:
	<pre><code>
	<i>ndfsiml.txt	ndfsim2.txt
	ndfsim3a.txt	ndfsim3b.txt
	ndfsim4a.txt	ndfsim4b.txt
	ndfsim5.txt	ndfsim6.txt
	ndfdec1.txt	ndfdec2a.txt	ndfdec2b.txt	ndfdec3.txt
	ndfmot1.txt	ndfmot2.txt	ndfmot3.txt	ndfmot4.txt
	ndforn1.txt	ndforn2.txt	ndforn3.txt	ndforn4.txt	ndforn5.txt
	ndftim1.txt	ndftim12.txt	ndftim3.txt
	ndftgr2.txt
	ndftmo1.txt	ndftmo2.txt</i>
	</code></pre>
	</p>
	<p><b>Breakpoint files</b>:
	<pre><code>
	<i>packchng.brk	simplpak.brk	grppack.brk
	gprlo.brk	gprhi.brk
	dm5gprhi.brk	dx3gprhi.brk
	Names for extra breakpoint files for ORNATE examples, 
	to make yourself.  These are described in ORNATE section:
	oex3mulo.brk	oex3muhi.brk
	oex3mulb.brk	oex3muhb.brk
	oex3skip.brk	oex3skpa.brk	oex3skpb.brk</i>
	</code></pre>
	</p>
</p>

<p>
Please check your <i>Soundshaper</i> and&#47;or <i>Sound Loom</i> reference 
manuals on handling Presets and Patches.  If you are a <i>Sound Loom</i> user, 
for your convenience, we also supply <i>ctextusl.htm</i>, a version of this 
document which is <i>Sound Loom</i> specific, with all parameters as named in 
<i>Sound Loom</i>.  Also note that <i>Sound Loom</i> Version 5.6 and above 
can run batch files.
</p>
</blockquote>

<p><b>First example</b><br>
Mode <b>5</b> is a good place to begin.  In this Mode, the note data file 
contains only one value: the (real or arbitrary) MIDI pitch of the input 
soundfile.  <i>There is no further data because there is no list of 
notes.</i>  All the note events are generated from the information of 
the command parameters.  
</p>

<p>
To get a feel for the 'lie of the land', we can run TEXTURE SIMPLE in 
Mode <b>5</b> with the following parameters (<i>ndfsim1.txt</i> 
has only the number 60 in it).  The <i>infile</i> is the horn.wav sound 
used in the <i>GrainMill</i> Tutorial (2.9 sec).  The 'b' example has 
time varying packing, as defined in <i>packchng.brk</i>:
<code>
0 0.025<br>
3 0.1<br>
6 0.05<br>
9 0.25<br>
12 0.025<br>
</code>
	<blockquote>
	<b>SIMPLE Examples 1a&#47;b</b> (Presets&#47;Patches <b>simplex1a</b> 
	and <b>simplex1b</b>): <br>
	<i>outdur (12) packing (0.25) scatter (0) tgrid (0) sndfirst (1) 
	sndlast (1) mingain (36) maxgain (84) mindur (0.2) maxdur (1.5) 
	minpich (60) maxpich (60)</i> &#150; in command line format:<br>
	<code>texture simple 5 horn <a href="txsnds\simplex1a.mp3"><b>simplex1a</b></a> 
	ndfsim1.txt 12 0.25 0 0 1 1 
	36 84 0.2 1.5 60 60</code><br>
	<code>texture simple 5 horn <a href="txsnds\simplex1b.mp3"><b>simplex1b</b></a> 
	ndfsim1.txt 12 packchng.txt 0 0 1 1 36 84 0.2 1.5 60 60</code><br>
	</blockquote>
You will hear a regularly occuring randomised selection of mostly 
overlapping note events, some longer and some shorter, repeating the 
pitch Middle C (randomly) in both channels  &#150; note the Left-Right 
movement between speakers.  Try making <i>maxpich</i> 61, and then 64.  
With <i>maxpich</i> still at 64, try reducing the <i>packing</i> to 0.025.
</p>

<p>
	<blockquote>
	<b>All the examples for TEXTURE SIMPLE can be made at once by running 
	<i>simplexs.bat</i> from the DOS prompt. The soundfiles produced 
	can be deleted with <i>simpldel.bat</i>.</b>
	</blockquote>
</p>

<p>
Now let's start to look more closely at the salient parameters:
	<ul>
	<li><i>packing</i> determines the density of the texture by 
	setting the time onsets of the note events.  In the above 
	example, 0.25 sec sets 4 events per second, i.e., semiquavers at 
	crotchet (quarter note) = 60).  These events will occur 
	evenly, because both <i>scatter</i> and <i>tgrid</i> are set 
	to zero.</li>
	<br />
	<li><i>mindur</i> &amp; <i>maxdur</i> set the range within which 
	the duration of each note event will be randomly chosen.  If only 
	one duration is wanted, set both of these to the same value.</li>
	<br />
	<li><i>minpich</i> &amp; <i>maxpich</i> set the range within which 
	the pitch of each note event (in MIDI note values) will be 
	randomly chosen.  If only one pitch is wanted, set both of these 
	to the same value.  Given a pitch range greater than just one 
	pitch, the program selects pitches according to a random 
	function.  <b>NB:</b> The specification of MIDI pitch 
	values is not limited to integers.  Thus a pitch range of 60 60.75 
	will result in microtonal detuning.</li>
	</ul>
OK, now let's note and experiment carefully with the two additional timing 
parameters: <i>scatter</i> and <i>tgrid</i>.
	<ul>
	<li>The onset timing can be somewhat randomised by utilising 
	the <i>scatter</i> parameter.  For example, if in the above 
	example <i>scatter</i> is set to 0.07 and <i>tgrid</i> is still 
	0, you will hear how the previous evenness is somewhat displaced.</li>
	<br />
	<li>If you then set <i>tgrid</i> to 330ms (<i>scatter</i> still 
	at 0.07), a quantisation grid of about a 3<sup>rd</sup> of a second 
	is set.  In a 'snap to grid' fashion, this will draw the still 
	somewhat randomised note events towards these 3<sup>rd</sup> of 
	a second 'grid lines'.  Because quantisation sets a <b>time grid</b>, 
	when there are more events, they will tend to bunch at the grid 
	points, some virtually simultaneous such that they sound like one 
	event.</li>
	<br />
	<li>If <i>scatter</i> is then set to 0 (with <i>packing</i> still 
	at 0.25 and <i>tgrid</i> at 330, i.e., if the onset randomisation 
	factor is eliminated, the note events will much more regularly 
	occur on&#47;near the 3<sup>rd</sup> of a second time grid points.</li>
	</ul>
The following table summarises some basic combinations:
</p>

<p>
<div align=center>
<table border="2" cellpadding="3" bgcolor="#B0E0E6">
<caption><h3>TEXTURE SIMPLE Mode 5 Examples</h3></caption>

<tr>
<td colspan=5 align=center><b>Running some changes on the initial example</b></td>
</tr>

<tr>
<th><b><i>outdur</i></b></th>
<th><b><i>packing</i></b></th>
<th><b><i>scatter</i></b></th>
<th><b><i>tgrid</i></b></th>
<th><b>Result</b></th>
</tr>

<tr>
<td align=center>12</td>
<td align=center>0.25</td>
<td align=center>0</td>
<td align=center>0</td>
<td>48 events will occur regularly on the &#188; second</td>
</tr>

<tr>
<td align=center>12</td>
<td align=center>0.25</td>
<td align=center>0.07</td>
<td align=center>0</td>
<td>48 event onsets will be displaced, becoming a little uneven 
rhythmically</td>
</tr>

<tr>
<td align=center>12</td>
<td align=center>0.25</td>
<td align=center>0.07</td>
<td align=center>330</td>
<td>48 events somewhat irregularly placed will gather at the 
3<sup>rd</sup> of a second quantisation time grid points &#150; but 
some will be doubled.</td>
</tr>

<tr>
<td align=center>12</td>
<td align=center>0.25</td>
<td align=center>0</td>
<td align=center>330</td>
<td>48 events will gather at the the 3<sup>rd</sup> of a second 
quantisation time grid points</td>
</tr>

<tr>
<td  colspan=5 align=center><b>Some other generic illustrations</b></td>
</tr>

<tr>
<th><b><i>outdur</i></b></th>
<th><b><i>packing</i></b></th>
<th><b><i>scatter</i></b></th>
<th><b><i>tgrid</i></b></th>
<th><b>Result</b></th>
</tr>

<tr>
<td align=center>12</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>500</td>
<td>12 events will occur on the second: quantisation is 'pulled' to 
the 1 second 'boundary'</td>
</tr>

<tr>
<td align=center>12</td>
<td align=center>1</td>
<td align=center>1</td>
<td align=center>500</td>
<td>12 events on the second or half-second: e.g., 1, 2, 2.5, 4 etc.</td>
</tr>

<tr>
<td align=center>12</td>
<td align=center>1</td>
<td align=center>0</td>
<td align=center>2000</td>
<td>6 double events every 2 seconds: <br>
<i>packing</i> demands 12 events: <br>
<i>tgrid</i> forces them to a 2 sec grid</td>
</tr>

<tr>
<td align=center>12</td>
<td align=center>0.5</td>
<td align=center>0</td>
<td align=center>330</td>
<td>24 events will occur.  They will be shifted to the 3<sup>rd</sup> 
of a second grid.</td>
</tr>

<tr>
<td align=center>12</td>
<td align=center>0.1</td>
<td align=center>0</td>
<td align=center>330</td>
<td>The many events will group at the 3<sup>rd</sup> of a second grid.</td>
</tr>

<tr>
<td align=center>12</td>
<td align=center>0.1</td>
<td align=center>0</td>
<td align=center>150</td>
<td>The slighter quantisation here will reduce the bunching of the 
previous example</td>
</tr>

</table>
</div>
</p>

<p>
You are recommended to experiment with TEXTURE SIMPLE Mode <b>5</b> for 
a while to see how easy it is to create random textures of varying density, 
and then to get a firm grasp of how <i>packing</i>, <i>scatter</i> and 
<i>tgrid</i> affect each other.  This will provide you with a firm 
foundation with which to make full use of the more complex facilities 
which the TEXTURE Group provides.
</p>


<p>
<b>Harmonic fields or sets &#150; handling the pitches</b><br>
TEXTURE SIMPLE can also deal with harmonic fields or sets.  <b>Fields</b> 
transpose the specified pitch set into all (MIDI) octaves.  <b>Sets</b> use 
only the specified pitches.  These form pitch lattices onto which the 
various note events are placed.  The first thing to understand here is 
how the pitches specified in the command parameters relate to those 
specified in the note data file.

<p>
But first, try this example of a fixed pitch set (Mode <b>3</b>).  The 
note data file <i>ndfsim2.txt</i> has two pitches, both starting at 
time 0: 60 and 67.
	<pre><code>
	60
	#2
	0 1 60 0 0
	0 1 67 0 0
	</code></pre>

You will hear, due to the rapid repetitions, a textured interval of a 
perfect 5<sup>th</sup>.

	<blockquote>
	<b>SIMPLE Example 2</b> (Preset&#47;Patch <b>simplex2</b>): <br>
	<i>outdur (12) packing (0.025) scatter (0) tgrid (0) sndfirst (1) 
	sndlast (1) mingain (36) maxgain (84) mindur (0.2) maxdur (1.5) 
	minpich (60) maxpich (67)</i> &#150; in command line format:<br>
	<code>texture simple 3 horn <a href="txsnds\simplex2.mp3"><b>simplex2</b></a> 
	ndfsim2.txt 12 0.025 0 0 1 1 36 84 0.2 1.5 60 67</code><br>
	</blockquote>
</p>

	<ul>
	<li><b>The rule of thumb is that the program first generates the 
	MIDI note values within the range specified by the parameters, 
	and <i>then</i> looks at the pitches listed in your note data 
	file and adjusts the former to fit onto the pitch grid specified 
	by the latter.</b>  (Reminder:  The 'pitch parameters' referred to 
	are those entered on the command line or with a graphic interface.  
	The note data file is a text file prepared beforehand.)</li>
	<br />
	<li>Thus the range of pitch values specified with the <i>minpich</i> 
	and <i>maxpich</i> parameters is very important:</li>
		<ul>
		<li>If the parameter pitch range is the same as that in 
		the note data file, all notes will lie within the pitch range.
		<li>If the parameter pitch range is only one pitch, 
		only one pitch will be produced, regardless of whether or 
		not there are different pitches in the note data file.</li>
		<li>If the parameter pitch range is greater than 
		that of the range of the list of notes in the note 
		data file, in Mode <b>1</b> pitches both inside <i>and 
		outside</i> the note data file range will be produced, but 
		keeping to the pitch grid, albeit in another octave.  In Mode 
		<b>3</b>, only the pitches in the note data file will 
		sound, as any other pitches generated by the pitch parameters 
		will be transposed to lie within the pitch set of the 
		note data file.</li>
		<li>If the parameter pitch range is within one octave 
		and all the pitches in the note data file are the same, 
		only one pitch will be produced.</li>
		<li>If the parameter pitch range spans more than one 
		octave and all the pitches in the note data file are the 
		same, the one pitch will sound in different octave 
		transpositions in Mode <b>1</b> (harmonic fields &#150; all 
		octaves), and only one pitch will sound in Mode <b>3</b> 
		(harmonic sets &#150;  uses only the specified pitches).</li>
		</ul>
	<br />
	<li>The above list of possibilities brings out the difference between 
	Mode <b>1</b> and Mode <b>3</b>, namely that Mode <b>1</b> 
	(Harmonic Fields) allows the pitch events listed in the note data 
	file to sound in all octaves (within the parameter pitch range), 
	whereas Mode <b>3</b> (Pitch Sets) forces all pitches to lie on the 
	precise pitch grid specified in the note data file.  However, 
	<b>note that the parameter pitch range needs to be wide enough to 
	accommodate the range in the note data file.</b>  If, for example, 
	the paramter pitch range is a perfect 5<sup>th</sup> and the note 
	data range is a 12<sup>th</sup>, the note data pitches which lie 
	outside the perfect 5<sup>th</sup> will have nowhere to go, and 
	will therefore sound inside the perfect 5<sup>th</sup>.</li>
	<br />
	<li><b>Note that in TEXTURE SIMPLE, the velocity and the 
	duration fields in the note data file are ignored &#150; this 
	information is taken from the command parameters.  Zeros are 
	placed in these fields in the examples in order to emphasise 
	this point.</b></li>
	</ul>
</p>	


<p>
<b>Harmonic fields or sets &#150; handling the durations</b><br>
We have already seen how the timing of the events is random within 
constraints, with the density (and number of events) controlled by 
the <i>packing</i> parameter, while <i>scatter</i> can somewhat 
randomise the time onsets of these events.
</p>

<p>
In TEXTURE SIMPLE, the duration parameter in the note data file is 
inactive and may be zero (or any other value &#150; it is ignored.)  
When this parameter is active, the interaction between the command and 
note event durations listed in the note data file works in a similar 
way as that for pitch.  
	<ul>
	<li>Thus, the parameter duration range (<i>mindur</i> and 
	<i>maxdur</i>) needs to be wide enough to accommodate the 
	shortest and longest duration listed in the note data file.</li>
	<br />
	<li>If the parameter duration range is smaller than the 
	range of durations in the note data file, the durations of 
	the note events will be constrained within this smaller range.</li>
	<br />
	<li>However, if the parameter duration range is wider than the 
	duration range of the note events in the note data file, you will 
	find that the note events will use this wider range.</li>
	<br />
	<li>So with durations, it may usually be best to match the 
	duration ranges of the parameter data and the note data file data.</li>
	</ul>
</p>

<h3>Examples for harmonic sets and fields</h3>

<p>
The following example illustrates Mode <b>3</b>.   The notelist uses the 
pitches 60-67-72-76 (i.e., C-G-C-E': root-fifth-octave-tenth).  The parameter 
pitch range is set as 60 to 76 to encompass the range in the note data file.  
Because Mode <b>3</b> is for pitch sets, we will hear only the 4 pitches 
listed in the note data file, spread out in a randomised order over the 
specified output duration. Here is the note data file for this 
(<i>ndfsim3a.txt</i>):

	<pre><code>
	60
	#4
	0 1 60 0 0
	0 1 67 0 0
	0 1 72 0 0
	0 1 76 0 0
	</code></pre>

<i>Ndfsim3b.txt</i> is the same, except the times (first column) are 0 4 7 
and 11. You can run these notedata files with the following command lines:
	<blockquote>
	<b>SIMPLE Examples 3a&#47;b&#47;c</b>(Presets&#47;Patches <b>simplex3a,b 
	&amp;c</b>): <br>
	<i>outdur (12) packing (0.25) scatter (0) tgrid (0) sndfirst (1) 
	sndlast (1) mingain (36) maxgain (84) mindur (0.2) maxdur (1.5) 
	minpich (60) maxpich (76)</i> &#150; in command line format:<br>
	<code>texture simple 3 horn <a href="txsnds\simplex3a.mp3"><b>simplex3a</b></a> 
	ndfsim3a.txt 12 0.25 0 0 1 1 36 84 0.2 1.5 60 76</code><br>
	<code>texture simple 2 horn <a href="txsnds\simplex3b.mp3"><b>simplex3b</b></a> 
	ndfsim3b.txt 12 0.25 0 0 1 1 36 84 0.2 1.5 60 76</code><br>
	<code>texture simple 2 horn <a href="txsnds\simplex3c.mp3"><b>simplex3c</b></a> 
	ndfsim3b.txt 12 0.25 0 0 1 1 36 84 0.2 1.5 36 96</code>
	</blockquote>
Let's look at what the various parameter options chosen mean &#150; 
reminder: the parameters after the notedata file are (EX 3a):<br>
<i>outdur (12) packing (0.25) scatter (0) tgrid (0) sndfirst (1) sndlast (1) 
mingain (64) maxgain (64) mindur (0.2) maxdur (1.5) minpich (60) 
maxpich (76)</i>
	<ul>
	<li>The duration of the output soundfile is 12 seconds</li>
	<br />
	<li>The <i>packing</i> (i.e., density of &#150; time between) 
	&#150; the note events is &#188; sec.  If you give larger and 
	smaller values for this parameter, you will see that the program 
	will generate fewer or more note events.  (Try a <i>packing</i> of 
	0.025.)  No timings are given in the notelist:  all are set at 0.</li>
	<br />
	<li><i>Scatter</i> is set at 0.  This means that the note 
	events will form regular divisions of the <i>outdur</i>.  The 
	start time of each event will be increasingly randomised as 
	the value for <i>scatter</i> is increased &#150; note the 
	large range of 0 to 10 available for <i>scatter</i>.  Try 
	adding some scatter.</li>
	<br />
	<li><i>Tgrid</i> is also set to 0.</li>
	<br />
	<li>The first and last sounds are both given as '1'.  This 
	means that there is only one input sound.  If there are two 
	to be used, you would put 1 2.  The program reads your list 
	of input soundfiles and assigns numbers in the order in which 
	they occur in command parameter for input soundfiles.  If you 
	have more than one <i>infile</i>, you need additional entries 
	for the real or arbitrary pitch of each in the note data file 
	(on the first line, separated by spaces).</li>
	<br />
	<li>The gain parameters set a MIDI 'velocity' range, in this 
	case all notes will have an equal mid-range amplitude.</li>
	<br />
	<li>The <i>mindur maxdur</i> range is set as '0.2 1.5', to 
	match the range in the note data file.
		<ul>
		<li>When harmonic fields or sets are used, the duration 
		(sustain) parameter in the note data file has no effect and can 
		be set to zero.  <b>This means that in TEXTURE SIMPLE 
		and TEXTURE GROUPED, the duration parameter in the 
		note data file is not used in any of the 5 modes.</b>  
		The note durations are taken from the parameter duration 
		range, unless you flag it to be ignored (<b>-w</b> flag), 
		whereupon it always uses the full duration of the input 
		soundfile for each note events.</li>
		<li>When decorations and ornaments are used (see the 
		relevant programs), the durations in the note data file 
		must be set and have precedence over the parameter 
		duration range.</li>
		<li>Also note that notelength is constrained by the 
		duration of your input sound.  TEXTURE <b>cannot</b> 
		lengthen the input sound &#150; it can only shorten it.</li>
		<li>Also, as you transpose your sound up, it will get 
		shorter (time-domain transposition), which also 
		constrains how long it can be.</li>
		<li>When the duration parameter range takes precedence 
		over the durations specified in the notelist, be sure that 
		the shortest is given as <i>mindur</i> and the longest 
		as <i>maxdur</i> to ensure that full desired range is 
		employed.</li>
		</ul>
	<br />
	In the above example, also note that the 1.5 second durations are 
	longer than the &#188; second <i>packing</i> parameter, so we hear 
	the notes overlap in the output texture &#150; a rather nice effect.</li>
	<br />
	<li>The last parameter set used here specifies the pitch 
	range.  As noted above, this also affects what is specified 
	in the notelist, so if you want the notelist pitches to be 
	used, be sure that the lowest is given as <i>minpich</i> and 
	the highest as <i>maxpich</i>.</li>
	<br />
	<li>New possibilities emerge when the <i>time</i> for each 
	note event is specified in the note data file.  Try editing 
	<i>ndatseta.txt</i> so that the four note events begin at 
	0.0, 4, 7 and 11 sec. respectively (save as ndatsetb.txt).</li>
	<br />
	<li>Now run the same again in Mode <b>2</b>.  You will hear 
	pitches on the harmonic lattice being drawn in from different octaves.</li>
	</ul>
</p>

<p>
You should now be able to experiment successfully with TEXTURE SIMPLE.
</p>

<p>
<h3 id="SIMPTWO">Two Fields/Sets</h3>

The next step is to use <b>two harmonic fields or 
sets</b>.  <i>Ndfsim4a.txt</i> presents a revised <i>ndfsim3b.txt</i> for 
use with Modes <b>2</b> or <b>4</b> of the program: 'changing harmonic 
fields&#47;sets'.   There are 8 note events in two 'sets'.  The first set 
starts at time 0, and in the second set, which starts at 6 sec., we change  
to the minor tenth (75).  In the output file, we hear the harmony change 
from major to minor the second set at the 6 second mark.  The 'b' example 
illustrates how a much tighter packing results in a textured chord.

	<pre><font color="#FF0000">
	[<i>ndfsim4a.txt	ndfsim4b.txt</i>]</font><code>
	60		60
	#8		#8
	0 1 60 0 0	0  1 60 0 0
	0 1 67 0 0	0  1 67 0 0
	0 1 72 0 0	0  1 72 0 0
	0 1 76 0 0	0  1 76 0 0
	6 1 60 0 0	6  1 60 0 0
	6 1 67 0 0	8  1 67 0 0
	6 1 72 0 0	10 1 72 0 0
	6 1 75 0 0	10 1 75 0 0
	</code></pre>

	<blockquote>
	<b>SIMPLE Examples 4a&#47;b&#47;c</b> (Presets&#47;Patches <b>simplex4a,b,
	&amp;c</b>): <br> 
	<i>outdur (12) packing (0.25) scatter (0) tgrid (0) sndfirst (1) 
	sndlast (1) mingain (36) maxgain (84) mindur (0.2) maxdur (1.5) 
	minpich (60) maxpich (76)</i> &#150; in command line format:<br>
	<code>texture simple 4 horn <a href="txsnds\simplex4a.mp3"><b>simplex4a</b></a> 
	ndfsim4a.txt 12 0.25  0 0 1 1 36 84 0.2 1.5 60 76</code><br>
	<code>texture simple 4 horn <a href="txsnds\simplex4b.mp3"><b>simplex4b</b></a> 
	ndfsim4a.txt 12 0.025  0 0 1 1 36 84 0.2 1.5 60 76</code><br>
	<code>texture simple 4 horn <a href="txsnds\simplex4c.mp3"><b>simplex4c</b></a> 
	ndfsim4b.txt 12 0.025  0 0 1 1 36 84 0.2 1.5 60 76</code>
	</blockquote>
</p>

<p>
The 'c' example tells us more about how the timing works by staggering the 
times of the 2<sup>nd</sup> four note events in <i>ndfsim4a.txt</i>: i.e., 
starting at times 6, 8, 10 and 10 seconds respectively, to create 
<i>ndfsim4b.txt</i>.  To do this, we again need to invoke Mode <b>4</b> 
(changing harmonic sets).  Now we hear the first four notes, the notes 
of the 1<sup>st</sup> set, playing in random order for the first 6 
seconds.  Then, at time 6 seconds, we hear mainly the 5<sup>th</sup> 
note event (with some overlaps from the previous set), at time 8 seconds, 
the 6<sup>th</sup> note event, and at time 10 seconds, we hear the 
7<sup>th</sup> and 8<sup>th</sup> notes in rapid succession, sounding 
a minor third &#150; except that we will hear multiple iterations of 
those notes according to the setting of the <i>packing</i> parameter.  
Again the close <i>packing</i> at 0.025 sec creates a highly textured 
surface.
</p>

<p>Were we to use Mode <b>3</b> with <i>ndfsim4b.txt</i>, the different 
start times would be disregarded and all the note events would play 
in random order throughout.
</p>

<p>
<b>The above information tells us that we can create a single melodic line 
by using Mode <b>4</b> and setting a different start time for a series of 
note events.  Some overlapping will occur if the notes are of different 
durations.  <i>Packing</i> of onsets closer than the duration of any of 
the note events will texture the lines, while <i>packing</i> of onsets 
spaced wider than the duration of any of the note events will produce 
gaps.</b>
</p>

<p>
So try this 'melodic' example for TEXTURE SIMPLE.  The note data file 
<i>ndfsim5.txt</i> contains:

	<pre><code>
	60
	#10
	0.0  1 60 0 0
	1.0  1 67 0 0
	3.0  1 66 0 0
	3.5  1 62 0 0
	4.5  1 64 0 0
	6.0  1 69 0 0
	7.5  1 66 0 0
	8.5  1 60 0 0
	9.5  1 62 0 0
	10.0 1 67 0 0
	</code></pre>

	<blockquote>
	<b>SIMPLE Example 5</b> (Preset&#47;Patch <b>simplex5</b>): <br>
	<i>outdur (12) packing (0.4) scatter (0.3) tgrid (0) sndfirst (1) 
	sndlast (1) mingain (36) maxgain (84) mindur (0.2) maxdur (1.5) 
	minpich (60) maxpich (69)</i> &#150; in command line format:<br>
	<code>texture simple 4 horn <a href="txsnds\simplex5.mp3"><b>simplex5</b></a> 
	ndfsim5.txt 12 0.4  0.3 0 1 1 36 84 0.2 1.5 60 69 -w</code>
	</blockquote>

Note that the <i>packing</i> is set to be just under the shortest time 
between two note events, so the melodic notes come through without too 
much texturing, following the note sequence in <i>ndfsim5.txt</i>: 
C-G-F#-D-E-A-F#-C-D-G.  The <b>-w</b> flag makes the note duration 
range redundant, because when this is set the whole duration of the 
<i>infile</i> is used &#150; i.e., the whole length of the horn sound for 
each note of the <i>outfile</i>.  In this case, this produces a great deal 
of overlapping notes &#150; hence the 'resonance'.
</p>

<p>
Our final topic is <b>time-varying texture shapes</b> &#150; i.e., envelope 
shapes with sloping edges.  <b>Example 6</b> creates two of these with 
the files <i>gprlo.brk</i> and <i>gprhi.brk</i>.  The first begins at 
C-60 and expands up to 70 and down to 49 at 5 seconds, returning to 
C-60 at 10 sec.  Then the second shape starts at 10.01 seconds at 
78 high and 58 low and compressing towards the centre G-67 by 18.0 
sec.  The last portion repeats the G.  I've added time-varying packing 
to create more density where the texture shapes are widest.  These 
are the files:<br>
	
	<pre><font color="#FF0000">
	[<i>ndfsim6.txt	simplpak.brk	gprlo.brk	gprhi.brk</i><code>]</font>
	60		0     0.25	0     60	0     60
	#22		5     0.1	5     49	5     70
	0.0  1 49 0 0	10    0.3	10    60	10    60
	0.0  1 52 0 0   10.01 0.05	10.01 58	10.01 78
	0.0  1 54 0 0	18    0.15	18    67	18    67
	0.0  1 55 0 0	20    0.25	20    67	20    67
	0.0  1 58 0 0
	0.0  1 60 0 0
	0.0  1 61 0 0
	0.0  1 64 0 0
	0.0  1 66 0 0
	0.0  1 67 0 0
	0.0  1 70 0 0
	10.0 1 58 0 0
	10.0 1 60 0 0
	10.0 1 61 0 0
	10.0 1 64 0 0
	10.0 1 66 0 0
	10.0 1 67 0 0
	10.0 1 70 0 0
	10.0 1 72 0 0
	10.0 1 73 0 0
	10.0 1 76 0 0
	10.0 1 78 0 0
	</code></pre>

And the parameters are set as follows:

	<blockquote>
	<b>SIMPLE Example 6</b> (Preset&#47;Patch <b>simplex6</b>): <br>
	<i>outdur (12) packing (simplpak.txt) scatter (0) tgrid (0) 
	sndfirst (1) sndlast (1) mingain (36) maxgain (84) 
	mindur (0.2) maxdur (1.5) minpich (gprlo.brk) maxpich (gprhi.brk)</i> 
	&#150; in command line format:<br>
	<code>texture simple 3 horn <a href="txsnds\simplex6.mp3"><b>simplex6</b></a> 
	ndfsim6.txt 21 simplpak.brk 0 0 1 1 36 84 0.2 1.5 gprlo.brk gprhi.brk</code>
	</blockquote>

</p>

<p>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
</p>

<h3 id="SIMPAPP">Musical Applications </h3>

<p>
We can already see that this is an extremely powerful set of programs, 
which can undoubtedly be used in endlessly imaginative ways.  For the 
moment, let us simply outline what we have learned so far.  With the 
TEXTURE program group, we can create:
	<ul>
	<li>a melodic line, with gaps and&#47;or overlaps.
		<blockquote>
		METHOD: use Mode <b>4</b>, specify specific start times 
		for each note event in the <i>ndata</i> file, and set 
		the <i>packing</i> to be about the same as the shortest 
		time between notes.  Note durations in the note data file 
		can be zero (they are disregarded with harmonic fields 
		or sets);  note overlaps result from making the successive 
		start times shorter than at least some of the note 
		durations set with the parameter duration range.  With 
		the <b>-w</b> flag set, there may be even more 
		overlapping if the sound's duration is longer than the 
		<i>packing</i> setting, with possibilities for resonances 
		and harmonies emerging from the melody.</li>
		</blockquote>
	<li>a melodic line, with a grainy, textured surface.
		<blockquote>
		METHOD: use Mode <b>4</b> and specify specific start times 
		in the <i>ndata</i> file and set <i>packing</i> to be very 
		short, certainly much shorter than the time between note 
		events.  A very close <i>packing</i> (e.g., 0.01) may 
		cause amplitude overload.  You can apply the gain reduction 
		recommended by the program, or perhaps reduce the 
		<i>maxdur</i> value to lessen the amount of note overlap.</li>
		</blockquote>
	<li>a texture of randomly selected notes drawn from a defined list 
	    of notes &#150; i.e., these can, for example, form a sonorous 
	    chord when the <i>packing</i> is tight. 
		<blockquote>
		METHOD: use Mode <b>3</b>, set all start times in the 
		<i>ndata</i> file to 0 and specify pitches as desired.  
		A <i>mindur</i> &#150; <i>maxdur</i> range will produce 
		note overlaps (unless <i>maxdur</i> is less than the time 
		gap between events).</li>
		</blockquote>
	<li>a texture which moves between two harmonic fields (Mode <b>2</b> 
	all octaves) or sets (Mode <b>4</b> only the pitches specified).
		<blockquote>
		METHOD: in the <i>ndata</i> file, start all note events of 
		the first set at one time, and all note events of the 
		second set at another, later, time.</li>
		</blockquote>
	<li>a texture with envelope shapes, with pitches drawn from a 
	defined harmonic set;  time-varying packing can help make the 
	shapes audible by changing the note density.
		<blockquote>
		METHOD: define harmonic sets, which may differ at 
		different times.  Then create time-varying group pitch 
		range files to define the envelope shapes.</li>
		</blockquote>
	</ul>
</p>


<p>
End of TEXTURE SIMPLE<br>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a> 
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ********************************************************** -->

<h2 id="GROUPED">TEXTURE GROUPED &#150; A texture of separate event 
groups is shaped by random selections from parameter ranges, with one or 
more input sounds;  a Harmonic Field&#47;Set may be used
</h2>

<p>
<div align=center>
<table border="2" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#GRPPAR"><b>Parameters</b></a></td>
<td align=center><a href="#GRPNDF"><b>Understanding</b></a></td>
<td align=center><a href="#GRPUND"><b>Understanding</b></a></td>
<td align=center><a href="#GRPSHAPES"><b>Timing & Shaping</b></a></td>
<td align=center><a href="#GRPAPP"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3>
Usage
</h3>
<b>texture grouped mode</b> <i>infile [infile2...] outfile notedata outdur 
packing scatter tgrid<br>
sndfirst sndlast mingain maxgain mindur maxdur minpich maxpich phgrid<br>
grpspace gpsprange amprise contour<br>
grpsizelo grpsizehi gppaklo gppakhi gpranglo gpranghi</i><br>
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>]
[<b>-s</b><i>spread</i>] [<b>-r</b><i>seed</i>] [<b>-w</b>] [<b>-d</b>] 
[<b>-i</b>]<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; On a given harmonic field<br>
<b>2</b>&nbsp; On changing harmonic fields<br>
<b>3</b>&nbsp; On a given harmonic set<br>
<b>4</b>&nbsp; On changing harmonic sets<br>
<b>5</b>&nbsp; None
</blockquote>

<h3 id="GRPPAR">Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to use as source material<br>
<i>infile2 ... </i> &#150; optional soundfile(s) to use as additional 
inputs<br>
<i>outfile</i> &#150; output soundfile<br>
<i id="GRPNDF">notedata</i> &#150; <b>textfile, containing:</b>
	<ol>
	<li>assumed MIDI 'pitch' of each input sound, specified on the 
	1<sup>st</sup> line.  In Mode <b>5</b> this is all that is needed.</li>

	<li>In Modes <b>1 - 4</b> there is also a NOTELIST to define a 
	Harmonic Field&#47;Set, specified thus:</li>

		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		pitches in the notelist).</li>

		<li>This is followed by <i>N</i> lines in the format:<br>
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>dur</i> (secs)</li>

		<li><i>Amp</i> and <i>dur</i> are inactive.</li>
		<li>Any times within the field must increase (or 
		remain the same, during chords)</li>

		</ul>
	</ol>

<p>
<div align=center>
<table border="1" cellpadding="2" bgcolor="#B0E0E6">

<tr>
<td align=center colspan=2>Form: <b>MPV&#47;&#150;&#47;&#150;&#47;&#150</b></td>
<td align=center colspan=2>Form: <b>MPV&#47;HF-S&#47;&#150;&#47;&#150</b></td>
</tr>

<tr>
<th>Mode 5 format</th>
<th>Comments</th>
<th>Modes 1-4 format</th>
<th>Comments</th>
</tr>

<tr>
<td align=center>60</td>
<td align=center>MIDI pitch value(s)</td>
<td align=center>60<br></td>
<td align=center>MIDI pitch value(s)<br></td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Harmonic Field&#47;Set </td>
</tr>

</table>
</div>
</p>

<i>outdur</i> &#150; minimum duration of the <i>outfile</i><br>
<i>packing</i> &#150; (average) time in seconds between group onsets<br>
<i>scatter</i> &#150; randomisation of group onsets (Range: 0 to 10)<br>
<i>tgrid</i> &#150; minimum step <i>in milliseconds</i> for quantised 
timegrid (for group start times) (Default: 0)<br>
<i>sndfirst, sndlast</i> &#150; first and last soundfiles to use from a 
list of soundfiles for input (Range: 1 to the number of sounds)<br>
<i>mingain, maxgain</i> &#150; minimum and maximum level of input sounds 
(Range: 1 to 127;  Default: 64 and 64)<br>
<i>mindur, maxdur</i> &#150; minimum and maximum duration of events in 
texture<br>
<i>minpich, maxpich</i> &#150; minimum and maximum pitch (MIDI note value)<br>
<i>phgrid</i> &#150; a timegrid <i>in milliseconds</i> applying WITHIN the 
groups (Range: 0.0 to 1000.0)<br>
<i>gpspace</i> &#150; spatialisation of event-groups (Range: 0 to 5; 
Default: 1)<br>
	<blockquote>
	<b>0</b> no change<br>
	<b>1</b> scattered (Default)<br>
	<b>2</b> decorations will move <b>towards</b> where the event is<br>
	<b>3</b> decorations move <b>away from</b> where the event is<br>
	<b>4</b> decorations follow the texture motion from Left to Right<br>
	<b>5</b> decorations follow the texture motion from Right to Left
	</blockquote>
<i>gpsprange</i> &#150; spatial range of event-groups (Range: 0 to 1; 
Default: 1)<br>
<i>amprise</i> &#150; amplitude change within groups (Range: 0 to 127; 
Default: 0)<br>
<i>contour</i> &#150; amplitude contour of groups (Range: 0 to 6; 
Default: 0)
	<blockquote>
	<b>0</b> mixture of the other types (Default)<br>
	<b>1</b> crescendo<br>
	<b>2</b> flat (no change)<br>
	<b>3</b> decrescendo<br>
	<b>4</b> crescendo or flat<br>
	<b>5</b> crescendo or decrescendo<br>
	<b>6</b> decrescendo or flat
	</blockquote>
<i>gpsizelo, gpsizehi</i> &#150; smallest &amp; largest number of events in 
any given group<br>
<i>gppaklo, gppakhi</i> &#150; shortest &amp; longest time between 
event-onsets within a group (Range <i>in milliseconds</i>: 0.023 to 60000.0 
&#150; i.e., 1 minute)<br>
<i>gpranglo, gpranghi</i> &#150; minimum &amp; maximum pitch range for the 
note events in any given group<br>
OR, for harmonic fields, the number of notes in the range of the harmonic 
field<br>
<b>-a</b><i>atten</i> &#150; overall attenuation of the output<br>
<b>-p</b><i>position</i> &#150; centre of sound output image (Range: 
0 to 1, where 0 is Left and 1 is Right;  Default: 0.5)<br>
<b>-s</b><i>spread</i> &#150; spatial spread of texture events (Range: 
0 to 1, where 1 is full spread)<br>
<b>-r</b><i>seed</i> &#150; the same <i>seed</i> number will produce the 
same result on rerun (Default: 0, where 0 is different result each time)<br>
<b>-w</b> &#150; always play whole input sound, ignoring duration values<br>
<b>-d</b> &#150; fixed timestep between groupnotes<br>
<b>-i</b> &#150; each group not confined to a fixed instrument (Default: fixed)<br><br>

<b> All parameters except <i>notedata, outdur</i> and <i>seed</i> may vary over time.</b>
</blockquote>

<h3 id="GRPUND">Understanding the TEXTURE GROUPED Process</h3>

<p>
Please refer to TEXTURE SIMPLE if you are not already familiar with the 
Texture functions, and also make sure you have gone through the 
<a href="#TEXTUREINFO"><b>background information</b></a> before continuing.  The 
following text will focus on what is specific to TEXTURE GROUPED.
</p>

<p>
The idea behind TEXTURE GROUPED is easily grasped by imagining several 
quick bursts of note events separated by silence.  A 'group' is a 
'burst of notes', and the program handles creating silences inbetween 
bursts.  The program is, however, more flexible than that because:
	<ul>
	<li>the note groups can in fact overlap</li>
	<li>the timing of the note onsets within a group doesn't have 
	to be rapid</li>
	<li>the pitch location where each group begins can vary</li>
	</ul>
You can easily understand, therefore, how the program makes it possible 
to create textures which are more varied than those of TEXTURE SIMPLE, 
and, if desired, punctuated by note groups which form <b>gestural shapes</b>.
</p>

<p>
When using a command line rather than a graphic interface, to help with 
remembering all the parameters, I find it helpful to use a batch file 
which starts with 'rem' lines which list the parameters in groups:
	<blockquote><code>
	rem minoutdur pack scat tgrid<br>
	rem sndf sndl ming maxg mind maxd minp maxp<br>
	rem phgrid gpspace gpsprange amprise contour<br>
	rem gpsizelo gpsizehi gppaklo gppakhi gpranglo gpranghi<br>
	rem -aatten -ppos -ssprd -rseed -w -d -i
	</code></blockquote>
Unfortunately, Carriage Returns are not acceptable in the command line 
itself, so this memory aid is still not as helpful as one might wish.
Also, when exploring a program of this complexity, it can be helpful 
to make use of the CDP environment variable which enables you to 
overwrite a soundfile of a specific name:  <b>set CDP_OVERWRITE_FILE=
aname</b>.  Then you can do several of versions without having to rename 
them, and when you find one that you want to keep, just save it to a new name.
</p>

<p>
As before, let's start with an example we can hear.  Example 1 
produces separated groups of rapid-fire note events; the groups start 
two seconds apart.  We are using Mode <b>3</b> ('on a given harmonic set'), 
with the note data file <i>ndfgrp1.txt</i>, which is:<br>
	<p>
	<pre><code>
	60
	#4
	0 1 62 0 0
	0 1 64 0 0
	0 1 66 0 0
	0 1 67 0 0
	</code></pre>

	<blockquote>
	<b>GROUPED Example 1</b> (Preset&#47;Patch <b>grouped1&#47;groupex1</b>): <br>
	<i>... minoutdur (10) packing (2) scatter (0) tgrid (0)<br>
	sndf (1) sndl (1) ming (30) maxg (64) mind (0.25) maxd (1.25) 
	minp (36) maxp (84)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	gpsizelo (10) gpsizehi (20) gppaklo (25) gppakhi (50) 
	gpranglo (4) gpranghi (4)</i><br>
	<code>texture grouped 3 horn <a href="txsnds\groupex1.mp3"><b>groupex1</b></a> 
	ndfgrp1.txt 10 2 0 0 1 1 30 64 0.25 1.2 36 84 0 1 1 0 0 10 20 25 50 4 4</code>
	</blockquote>
	</p>

<p>
	<blockquote>
	<b>All the examples for TEXTURE GROUPED can be made by running 
	<i>groupexs.bat</i> from the DOS prompt.  The soundfiles produced 
	can be deleted with <i>groupdel.bat</i>.</b>
	</blockquote>
</p>

<p id="GRPSHAPES"><b>Timing from group to group</b><br>
TEXTURE GROUPED builds on TEXTURE SIMPLE by dealing with <b>groups</b> of 
notes where formerly there would have been only one.   <i>Packing</i> 
determines the amount of time <b>from the onset of one group to the onset 
of the next group</b>, <i>scatter</i> randomises this timing, and <i>tgrid</i> 
quantises it, i.e, introduces regularity.  In the above example, there 
are 2 seconds between the onsets of each group.  Note that in the note 
data file, the start times, velocities and durations are set to zero.  The 
start times become relevant when using <b>changing</b> harmonic fields 
or sets.
</p>

<p>
<b>Shaping each group &#150; number of events &amp; pitch range</b><br>
The number of events allowed in any given group is set with the 
<i>gpsizelo</i> &amp; <i>gpsizehi</i> parameters, 10 &#150; 20 in the 
above example.
	<blockquote>
	Note that these can both be set to 1 so that there will 
	only be one event in each group.  This can be a useful way to 
	observe the time gaps between groups, and the effect that 
	<i>scatter</i> and <i>tgrid</i> have on this timing.
	</blockquote>
</p>

<p>
Similarly, the size of the pitch range allowed in any given group is 
set with <i>gpranglo</i> &amp; <i>gpranghi</i>.  In the above example, 
each group will remain within a range of only 4 notes (matching the note 
data file).
	<blockquote>
	The pitch start point of a group is selected from within 
	<i>minpich</i> &amp; <i>maxpich</i>.  Thus, the overall pitch range, 
	set by <i>minpich</i> &amp; <i>maxpich</i> may, for example, be an 
	8<sup>ve</sup>;  but the pitch range in any given group, set by 
	<i>gpranglo</i> &amp; <i>gpranghi</i>, could be a minor 
	3<sup>rd</sup>.
	</blockquote>
</p>

<p>
<b>Shaping each group &#150; durations</b><br>
Since we are dealing with groups, however, the next salient question is how 
do we control <b>the timing of events within the groups</b>?  Let's look at 
the following parameters:
	<ul>
	<li><i>mindur &amp; maxdur</i> set a note event duration range;  
	each note event in the group (in the texture) will be a random 
	length chosen at random within this range.  What happens here is 
	indicated by a range for example of 0.25 to 1.2:  we hear 
	overlapping among the note events simply because some are 
	considerably longer than others.  As with TEXTURE SIMPLE, none 
	of the Modes actually use the duration parameter in the note 
	data file.  Therefore, these can all be set to zero.  The note 
	data durations are used for ornaments and decorations.</li>
	<br />
	<li><i>phgrid</i> handles a timegrid in milliseconds applied 
	<i>within each group</i> &#150; note that it can be 0.  You will 
	probably need to think carefully about the relationship of the 
	groups onset times (<i>packing</i>), the duration of the note events 
	(<i>mindur</i> &amp; <i>maxdur</i>), and the number of events in 
	the group (<i>grpsizelo</i> &amp; <i>grpsizehi</i>).  The 
	<i>packing</i> may need to be longer if the note durations are 
	relatively long and you do want to retain a gestural separation 
	between the groups.  Note that <i>phgrid</i> (milliseconds) is a 
	quantisation factor.  The packing <i>within the group</i> 
	(<i>gppaklo</i> &amp; <i>gppakhi</i> is what mainly controls the 
	<i>note event</i> onset timing &#150; milliseconds!  <b>NB:</b> The 
	<i>gppakhi</i> parameter must be at least equal to <i>phgrid</i> 
	for the latter to have the desired effect;  i.e., the <i>phgrid</i> 
	parameter must lie within the packing range within the group.</li>
	<br />
	<li><i>gppaklo &amp; gppakhi</i> handles the onsets of events 
	within groups.  Note that very small values for the packing 
	can be used, and consider what might be appropriate in each instance.</li>
	</ul>
</p>

<h3 id="GRPAPP">Musical Applications
</h3>

<p>
Here are some suggestions for different types of texture that can be 
created with TEXTURE GROUPED.
	<ul>
	<li><b>GROUPED Example 1</b> (Preset&#47;Patch <b>grouped1&#47;groupex1</b>): 
	&#150; We can start with the example used at the beginning of the 
	TEXTURE GROUPED documentation:  rapid-fire note events within a group 
	separated by silence.  Thus each group becomes a musical gesture.  
	Reminder:  the initial command set was:
	<blockquote>
	<i>rem minoutdur (10) packing (2) scatter (0) tgrid (0)<br>
	rem sndf (1) sndl (1) ming (30) maxg (64) mind (0.25) maxd (1.25) 
	minp (36) maxp (84)<br>
	rem phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	rem gpsizelo (10) gpsizehi (20) gppaklo (25) gppakhi (50) 
	gpranglo (4) gpranghi (4)</i><br>
	<code>texture grouped 3 horn <a href="txsnds\groupex1.mp3"> <b>groupex1</b></a> 
	ndfgrp1.txt 10 2 0 0 1 1 30 64 0.25 1.2 36 84 0 1 1 0 0 10 20 25 50 4 4</code>
	</blockquote></li>

	<li><b>GROUPED Example 2</b> (Preset&#47;Patch <b>grouped2&#47;groupex2</b>): 
	&#150; The time between group onsets gradually decreases from 2 to &#189; 
	second, as set by <i>grppack.brk</i>: 0 2, 10 0.5.<br>
	<code>texture grouped 3 horn <a href="txsnds\groupex2.mp3"><b>groupex2</b></a> 
	ndfgrp1.txt 10 grppack.brk 0 0 1 1 30 64 0.25 1.2 36 84 0 1 1 0 0 10 20 25 50 4 4</code></li>

	<li><b>GROUPED Example 3</b> (Preset&#47;Patch <b>grouped3&#47;groupex3</b>): 
	&#150; A regularly timed sequence of random notes taken from within the 
	group range can be achieved by adapting the initial example by setting, 
	for example, <i>phgrid</i> to 200, and raising <i>gppakhi</i> also to 200.<br>
	<code>texture grouped 3 horn <a href="txsnds\groupex3.mp3"><b>groupex3</b></a> 
	ndfgrp1.txt 10 2 0 0 1 1 30 64 0.25 1.2 36 84 200 1 1 0 0 10 20 25 200 4 4</code></li>

	<li><b>GROUPED Example 4</b> (Preset&#47;Patch <b>grouped4&#47;groupex4</b>): 
	&#150; Experiment with more overlap by changing <i>mindur</i> to 0.75 
	(all other parameters kept the same).<br>
	<code>texture grouped 3 horn <a href="txsnds\groupex4.mp3"><b>groupsex4</b></a> 
	ndfgrp1.txt 10 2 0 0 1 1 30 64 0.75 1.2 36 84 200 1 1 0 0 10 20 25 200 4 4</code></li>

	<li><b>GROUPED Example 5</b> (Preset&#47;Patch <b>grouped5&#47;groupex5</b>): 
	&#150; Alternatively, we could go for a staccato effect by using a very 
	small note duration range: <i>mindur</i> 0.1 &amp; <i>maxdur</i> 0.2 and 
	making the inter-group packing range wider than the durations:  
	<i>gppaklo</i> 25 &amp; <i>gppakhi</i> 300.<br>
	<code>texture grouped 3 horn <a href="txsnds\groupex5.mp3"><b>groupsex5</b></a> 
	ndfgrp1.txt 10 2 0 0 1 1 30 64 0.1 0.2 36 84 200 1 1 0 0 10 20 25 300 4 4</code></li>

	<li><b>GROUPED Example 6</b> (Preset&#47;Patch <b>grouped6&#47;groupex6</b>): 
	&#150; Now overlap the groups themselves by changing <i>packing</i> to 0.5.  
	Reset <i>phgrid</i> to 0 and reduce <i>gppakhi</i> to 50 to restore the 
	initial rapid-fire group note events.<br>
	<code>texture grouped 3 horn <a href="txsnds\groupex6.mp3"><b>groupex6</b></a> 
	ndfgrp1.txt 10 0.5 0 0 1 1 30 64 0.2 0.3 36 84 0 1 1 0 0 10 20 25 50 4 4</code></li>
	</ul>
</p>

<p>
End of TEXTURE GROUPED <br>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a> 
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ********************************************************** -->

<h2 id="DECORATED">TEXTURE DECORATED&#124;PREDECOR&#124;POSTDECOR
&#150; A texture of 'decoration' events shaped by internal grouping 
parameters, selected at random from a pitch range or from a Harmonic 
Field&#47;Set and attached to an underlying 'line';  one or more input 
sounds
</h2>

<p>
<div align=center>
<table border="1" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#DECPAR"><b>Parameters</b></a></td>
<td align=center><a href="#DECNDF"><b>Note data file</b></a></td>
<td align=center><a href="#DECUND"><b>Understanding</b></a></td>
<td align=center><a href="#DECAPP"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3>
Usage
</h3>
<b>texture decorated&#124;predecor&#124;postdecor mode</b> 
<i>infile [infile2 ..] outfile notedata outdur skiptime<br>
sndfirst sndlast mingain maxgain mindur maxdur<br>
phgrid grpspace gpsprange amprise contour<br>
grpsizelo grpsizehi gppaklo gppakhi gpranglo gpranghi centring</i><br>
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>]
[<b>-s</b><i>spread</i>] [<b>-r</b><i>seed</i>]<br>
[<b>-w</b>] [<b>-d</b>] [<b>-i</b>] [<b>-h</b>] [<b>-e</b>] [<b>-k</b>]
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; On a given harmonic field<br>
<b>2</b>&nbsp; On changing harmonic fields<br>
<b>3</b>&nbsp; On a given harmonic set<br>
<b>4</b>&nbsp; On changing harmonic sets<br>
<b>5</b>&nbsp; None
</blockquote>

<h3 id="DECPAR">Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to use as source material<br>
<i>infile2 ... </i> &#150; optional soundfile(s) to use as additional 
inputs<br>
<i>outfile</i> &#150; output soundfile<br>
<i id="DECNDF">notedata</i> &#150; <b>textfile, containing:</b>
	<ol>
	<li>assumed MIDI 'pitch' of each input sound, specified on the 
	1<sup>st</sup> line</li>
	<li>followed by a 'line' substructure NOTELIST, specified thus:</li>
		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		pitches in the notelist).</li>
		<li>This is followed by <i>N</i> lines in the format:<br>
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>dur</i> (secs);  <i>amp</i> and <i>dur</i> are 
		inactive fields in TEXTURE DECORATED.</li>
		<li>different times must be given, and they must must 
		increase;  all 0's for chords are not allowed.
		<li><b>this is all that is needed for Mode 5</b>.</li>
		</ul>
	<li>in Modes <b>1</b> to <b>4</b>, you need an additional set of 
	    lines for the decoration definition;  these are also introduced 
	    by the number of lines (<b>#</b><i>N</i>, which acts as a 
	    separator).  The decoration is 'tied into' the above 'line' 
	    substructure set by providing the same start time (may be 
	    several decoration notes at the same time) and by duplicating 
	    the MIDI note value for one of the decoration notes.  (See 
	    illustrations below.)</li>
	</ol>

<p>
<div align=center>
<table border="1" cellpadding="2" bgcolor="#B0E0E6">

<tr>
<td align=center colspan=2>Form: <b>MPV&#47;NS&#47;&#150;&#47;&#150</b></td>
<td align=center colspan=2>Form: <b>MPV&#47;NS&#47;HF-S&#47;&#150</b></td>
</tr>

<tr>
<th>Mode 5 format</th>
<th>Comments</th>
<th>Modes 1-4 format</th>
<th>Comments</th>
</tr>

<tr>
<td align=center>60</td>
<td align=center>MIDI pitch value(s)</td>
<td align=center>60<br></td>
<td align=center>MIDI pitch value(s)<br></td>
</tr>

<tr>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of 'line' (Nodal Substructure) </td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of 'line' (Nodal Substructure)</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Harmonic Field&#47;Set</td>
</tr>

</table>
</div>
</p>

<i>outdur</i> &#150; minimum duration of the <i>outfile</i><br>
<i>skiptime</i> &#150; time between repeats of motif-to-decorate in 
  <i>notedata</i>, i.e., between runs of the 'line' substructure 
  notelist<br>
<i>sndfirst, sndlast</i> &#150; first and last soundfiles to use from a 
list of soundfiles for input (Range: 1 to the number of sounds)<br>
<i>mingain, maxgain</i> &#150; minimum and maximum level of input sounds 
(Range: 1 to 127;  Default: 64 and 64)<br>
<i>mindur, maxdur</i> &#150; minimum and maximum duration of events in 
texture<br>
<i>phgrid</i> &#150; a timegrid in milliseconds applying WITHIN the 
decorations (Range: 0.0 to 1000.0)<br>
<i>gpspace</i> &#150; spatialisation of decoration-groups (Range: 0 to 5; 
Default: 1)
	<blockquote>
	<b>0</b> no change<br>
	<b>1</b> scattered (Default)<br>
	<b>2</b> decorations will move <b>towards</b> where 
	    the event is<br>
	<b>3</b> decorations move <b>away from</b> where the 
	    event is<br>
	<b>4</b> decorations follow the texture motion from 
	    Left to Right<br>
	<b>5</b> decorations follow the texture motion from 
	    Right to Left
	</blockquote>
<i>gpsprange</i> &#150; spatial range of decoration-groups (Range: 0 to 1; 
Default: 1)<br>
<i>amprise</i> &#150; amplitude change within decorations (Range: 0 to 127; 
Default: 0)<br>
<i>contour</i> &#150; amplitude contour of decorations (Range: 0 to 6; 
Default: 0)
	<blockquote>
	<b>0</b> mixture of the other types (Default)<br>
	<b>1</b> crescendo<br>
	<b>2</b> flat (no change)<br>
	<b>3</b> decrescendo<br>
	<b>4</b> crescendo or flat<br>
	<b>5</b> crescendo or decrescendo<br>
	<b>6</b> decrescendo or flat
	</blockquote>
<i>gpsizelo, gpsizehi</i> &#150; smallest &amp; largest number of events in 
the decorations<br>
<i>gppaklo, gppakhi</i> &#150; shortest &amp; longest time between 
event-onsets in the decorations (Range in milliseconds: 0.023 to 60000.0 
&#150; i.e., 1 minute)<br>
<i>gpranglo, gpranghi</i> &#150; minimum &amp; maximum pitch range of the 
decorations, given not in MIDI note values but as the number of <i>adjacent 
tones</i> to be used:  from the full chromatic field in Mode <b>5</b>, OR from 
the members of the harmonic field&#47;set defined in the other Modes)<br>
<i>centring</i> &#150; how the decoration pitches centre on line pitches 
(Range: 0 to 7; Default: 0)

	<blockquote>
	<b>0</b> centred (default)<br>
	<b>1</b> above<br>
	<b>2</b> below<br>
	<b>3</b> centred and above<br>
	<b>4</b> centered and below<br>
	<b>5</b> above and below<br>
	<b>6</b> centred and above and below
	</blockquote>

<b>-a</b><i>atten</i> &#150; overall attenuation of the output<br>
<b>-p</b><i>position</i> &#150; centre of sound output image (Range: 
0 to 1, where 0 is Left and 1 is Right;  Default: 0.5)<br>
<b>-s</b><i>spread</i> &#150; spatial spread of texture events (Range: 
0 to 1, where 1 is full spread)<br>
<b>-r</b><i>seed</i> &#150; the same <i>seed</i> number will produce the 
same result on rerun (Default: 0, where 0 is different result each time)<br>
<b>-w</b> &#150; always play whole input sound, ignoring duration values<br>
<b>-d</b> &#150; fixed timestep between groupnotes<br>
<b>-i</b> &#150; each group not confined to a fixed instrument (Default: 
fixed)<br>
<b>-h</b> &#150; decorate <b>top</b>note of chord (Default: decorate first 
note listed)<br>
<b>-e</b> &#150; decorate all the notes of chords<br>
<b>-k</b> &#150; discard original line, after decoration<br><br>

<b> All parameters except <i>notedata, outdur, skiptime</i> and <i>seed</i> may vary over time.</b>
</blockquote>

<h3 id="DECUND">Understanding the TEXTURE DECORATED Process
</h3>

	<blockquote>
	<i>The key to TEXTURE DECORATED is that the (ascending) start 
	times defining the the 'line' of nodes to be decorated are 
	important.  The decorations are connected to the line centred  
	(DECORATED), before and ending on (PREDECOR), and starting 
	precisely on (POSTDECOR), these time points.  Breakpoint times 
	also have to tie in with these times or nothing will happen.  
	Musically, this means that the decorations on a series of nodes 
	can be varyingly constructed.  Remember that a 'decoration' 
	consists of notes chosen randomly from the decoration field, 
	which can be more or less harmonic.  This randomness is what 
	differentiates DECOR and ORNATE.  In ORNATE, there can be 
	figures with internal rhythm and velocity fully defined and 
	also attached to nodes.  In MOTIFS, fully defined figures 
	are used, but not a defined nodal substructure.</i>
	</blockquote>

<p>
The TEXTURE DECORATED node data file, then, uses two groups of data:
	<ol>
	<li>a 'line' of note events with start times to define a 
	substructure on which to build the decorations, and</li>
	<li>the decorations themselves.</li>
		<ul>
		<li>In Mode <b>5</b> these are defined only by the 
		parameters: group size, group packing and group range:  
		i.e., not in the note data file.  Thus, in Mode 
		<b>5</b> there is no second (or third) section in the note 
		data file.</li>
		<li>In Modes <b>1&#150;4</b> the decorations are 
		defined as a second set of data in the note data file, 
		beginning with the number of lines of data to come, 
		e.g, #5.  We will see examples of this below.</li>
		</ul>
	</ol>
In all cases, the decorations are randomly selected from the pitch range 
or note lists provided &#150; a 'decoration' is here defined as a random 
assembly of pitches.  When harmonic sets are used, only the notes 
listed are used (in random order).  When harmonic fields are used, all 
octaves of the notes listed are used (in random order).  Thus the 
decorations can be given a harmonic quality.  Longer timings <i>between 
the notes of the decorations</i> may cause new decorations to come in 
(on the next specified substructure node) before the previous one has 
finished.  Such overlapping can be musically useful.
</p>

<p>
The decorations are by default located around (centred on) the 'line' 
substructure nodes.  The <i>centring</i> parameter setting enables the 
decorations to be located above, below etc. the 'line' substructure 
nodes.
</p>

<p>
Similarly, with TEXTURE DECORATED the decorations are <i>centered</i> on 
the start times listed for the main substructure nodes, i.e., they will 
tend to come in a little before the node start time and finish a little 
after this time.   When TEXTURE PREDECOR is invoked, the decorations 
happen <i>before</i> the main substructure nodes, ending at the node 
start time.  The decorations start precisely on the node start time 
and therefore come <i>after</i> the node with TEXTURE POSTDECOR.  Larger 
group packing times will spread out the decoration, however, and may 
cause it to overlap (still be unfolding) when the next node begins.  
By having a lower group size or shorter durations for the group packing, 
it is possible to have the decoration end before the next node begins, 
in which case there will be a silence until the time for that node is 
reached.
</p>

<p>
In the introductory notes about the note data file, the <i>order</i> of 
placement of the data was mentioned.  First is the <b>line</b>, then 
the data for <b>harmonic fields&#47;sets</b> &#150; which is also the 
data used for <b>decorations</b>.  Thus, this second set of data can 
be any group of notes:  it doesn't have to be 'harmonic'.  Thirdly, 
there is the data for <b>ornaments&#47;motifs</b>, which we shall 
cover in TEXTURE ORNATE etc.
</p>

<p>
Basically, what happens in the note data file for TEXTURE DECORATED 
is this:

	<ol>
	<li>First, the notes in any timed, ornamented or decorated 
	<b>line</b> in the texture are defined.  'Line' here is taken 
	to mean just that: the basic linear substructure for the 
	textural additions.  This list of notes begins by defining 
	the number of notes in this 'line', e.g., #5.
		<blockquote>
		<b>This list is required in ALL modes of TEXTURE DECORATED, 
		<i>with start times which must <b>increase</b> from note 
		to note</i>.</b>  In Mode <b>5</b> it is the <i>only</i> 
		field that is needed.
		</blockquote>
		</li>
	<li>Secondly, the notes in any harmonic fields or sets are defined.  
	This is the list which forms the basis of the decoration, which 
	is in fact a 'random assembly' of these notes.  This list of notes 
	begins by defining the number of notes in this field or set.e.g., 
	#5 &#150; <b>thus the number-of-notes definitions act as 
	separators in the note data file</b>.  The actual note event data, 
	i.e., the 'field' of notes for the decorations, follows.  <b>All 
	start times in this 'decoration field' are 0.</b>
		<blockquote>
		<b>What happens is this:</b>  <i>gpranglo&#47;hi</i> define 
		<b>how many notes of this field</b> to use for any given 
		decoration.  It then draws that number of notes from this 
		field (and no other notes), with each node note of the 
		substructure list as the time and pitch point of reference, 
		and plays them in random order ('random assembly').  Note that 
		the overall pitch range as well as the top of the field 
		itself must be able to must accommodate <i>gpranglo&#47;hi</i> 
		<b>number of field notes</b> around, above, or below 
		the lowest&#47; highest node in the substructure, according 
		to the <i>centring</i> parameter.
		</blockquote>
		</li>
	<li>Thirdly, the notes or any ornaments or motifs are 
	specified.  Again, this list of notes begins by defining the 
	number of notes in this ornament or motif, e.g., #3.
	<blockquote>
	This third list is not required by &#47; used in TEXTURE DECORATED.
	</blockquote>
	</li>
	</ol>

</p>

<p>
While similar to TEXTURE GROUPED, we notice that TEXTURE DECORATED lacks 
the trio of parameters which defined the timing between groups 
(<i>packing</i> <i>scatter tgrid</i>). Rather, we find the new 
parameters <i>skiptime</i> and <i>centring</i>.  This is because it 
is building its texture on a linear substructure, which is what is 
first defined in the note data file.  So let us focus our attention 
on these parameters.
	<ul>
	<li><i>skiptime</i> &#150; The first list of 'line' 
	substructure notes in the note data file form the core 
	outline of the decoration.  Remember that this list 
	includes start times for each note event, such that the 
	whole list forms a single musical unit.  If the output 
	duration is longer than this unit, the whole sequence will 
	repeat.  <i>Skiptime</i> is the time between these repeats.</li>
	<br />
	<li><i>centring</i> &#150; A decoration will usually have 
	several notes, though it may also consist of repeated 
	notes only.  <i>Centring</i> deals with how these several 
	notes lie against the substructure node of the 'line': 
	centred on it, lying below or above it, etc.</li>
	</ul>
</p>

<p>
We are now ready to look at some examples and will do so directly 
in the 'Musical Applications' section below.
</p>


<h3 id="DECAPP">Musical Applications
</h3>


<p>
	<blockquote>
	<b>All the examples for TEXTURE DECORATED can be made by running 
	<i>decorexs.bat</i> from the DOS prompt.  The soundfiles produced 
	can be deleted with <i>decordel.bat</i>.</b>
	</blockquote>
</p>

<p>
See <i>decorexs.bat</i> for a listing of the examples in the 
TEXTURE DECORATED section.  You can run this batch file to create 
the examples.  You will find it and the various note data and 
breakpoint files in your Texture Pack.  (NB - command line use 
only, though it is a useful reference for all systems).
</p>

<p>
<b>Example 1a</b><br>
Our first example for TEXTURE DECORATED uses Mode <b>5</b>, where 
only the 'line' substructure note list is needed.  We shall create 
4 nodes and place a decoration consisting of 5 repeating notes on 
each of these nodes.  In Mode <b>5</b> we don't have to specify 
the decoration as the information required is supplied by the 
parameters.  Here is a note data file which specifies these 
four 'line' substructure nodes, <i>ndfdec1.txt</i>:<br>
	<pre><code>
	60
	#4
	0.0 1 60 0 0
	2.0 1 67 0 0
	4.0 1 63 0 0
	6.0 1 62 0 0
	</code></pre>
This will create a line of substructure nodes C-G-Eb-D, where C is Middle C, 
at 0, 2, 4 and 6 seconds respectively.  With an <i>outdur</i> of 20 
seconds, this 4-node musical unit will repeat after 2 <i>skiptime</i> 
seconds.  <i>Skiptime</i> begins at the start time of the last 
substructure node.  As the time between nodes is a regular two seconds, 
the node sequence will repeat without breaking that regularity.
</p>

<p>
The decoration of 5 micro-trills (which may sound like just notes which 
repeat) is set by making both <i>gpsizelo</i> and <i>gpsizehi</i> equal 
to 5, and we'll have a reasonably quick, but not too fast, and regular, note 
speed <i>within</i> the decoration by making both <i>gppaklo</i> and 
<i>gppakhi</i> equal to 60 ms.  The trills are very small (equal to or less 
than a semitone) because <i>gpranglo&#47;hi</i> are both set to 1.
</p>

<p>
Here is the command line which summarises this data:
	<blockquote>
	<b>DECORATED Example 1a</b> (Preset&#47;Patch <b>decor1a&#47;decorex1a</b>): <br>
	<i> ... minoutdur (20) skiptime (2.0)<br>
	sndf (1) sndl (1) ming (36) maxg (64) mind (1.0) maxd (1.0)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	gpsizelo (5) gpsizehi (5) gppaklo (60) gppakhi (60) 
	gpranglo (1) gpranghi (1) centring (0)</i><br>
	<code>texture decorated 5 horn <a href="txsnds\decorex1a.mp3">decorex1a</b></a> 
	ndfdec1.txt 20 2.0 1 1 36 64 1.0 1.0 0 1 1 0 0 5 5 60 60 1 1 0</code>
	</blockquote>
</p>

<p>
The role of the group pitch range <i>gpranglo&#47;hi</i> is instructive:
	<ul>
	<li>In the above example, we hear the substructure pitch shape 
	very clearly because these are the only pitches used 
	(<i>gpranglo&#47;hi</i> are 1);  the nodes are textured by 
	rapid micro-trils due to the very short group packing.  
	The whole shape repeats after 4 (<i>skiptime</i>) seconds.</li>
	<br />

	<li>If we make <i>gpranglo&#47;hi</i> both 2, we hear semitone 
	trills starting on the note below and ending on and sustaining 
	the final (substructure) node after the 5 notes of the 
	decoration until the full 1 second has finished (<i>centring</i> 
	is 0).  If <i>centring</i> is then changed to 1 (i.e., 'above'), 
	the trill begins on the node, trills with and ends on the note 
	above (which in this case is harmonically odd).  If we make 
	<i>centring</i> 2 (i.e., 'below'), in this case the trilling 
	effect starts below the node.</li>
	<br />

	<li>If we make <i>gpranglo&#47;hi</i> both 3, we get whole tone 
	trills (<i>centring</i> back to 0).  This tells us that the 
	interval count seems to start at 1 for the same note (which will 
	be repeated at group packing rates), 2 for a semitone, 3 for a 
	whole tone, 4 for a minor third, etc., i.e., one more than 
	the usual way we tend to count intervals.  Actually, the numbers 
	do refer to semitones in the normal way.  It's just that, if you 
	specify a maximum range of a semitone, for example, the notes 
	generated (in the Mode <b>5</b> Neutral case) will all fall 
	<i>within</i> a semitone range.  The interval of a semitone (1) 
	that you specify is the <b>maximum distance a note might land on</b>.  
	In general most notes (in this case) will be less than a semitone 
	away from the base pitch (0).  What you hear, then, is not repeated 
	notes, but 'micro-trills' on intervals within a semitone &#150; and 
	they are not exactly trills either, because no note is repeated!  
	When larger intervals are specified, many of the notes will fall 
	within this range, often far short of the full interval specified.</li>
	<br />

	<li>If we make <i>gpranglo&#47;hi</i> both 4, we get a wash of 
	all the notes within a minor third, centred on the nodes.  This 
	wash illustrates the 'random assembly' aspect of TEXTURE DECORATED.</li>
	<br />

	<li>If we make <i>gpranglo</i> = 1 and <i>gpranghi</i> = 4, we 
	get a mixture of the above possibilities on the various nodes: 
	i.e., the program will make a random selection of anywhere from 
	1 to 4 notes for the decoration range.</li>
	<br />

	<li>if we make <i>gpranglo</i> = 1 and <i>gpranghi</i> = the 
	breakpoint file <i>dm5gprhi.brk</i>, we hear the number 
	of notes in the decorations alternating between 1 and several on 
	each of the nodes.  We present this as Example 2.  Note that the 
	breakpoint times in <i>dm5gprhi.brk</i> match those in the note 
	data file (every 2 seconds), and <i>skiptime</i> is still 0.01 
	so that there is no appreciable delay between repeats of the 
	substructure musical unit.   (The timings in the breakpoint 
	files must increase, but do not have to match the node times.  
	The parameter values used at nodes will be those in force at the 
	time of the nodes.  If nodes lie between times specified in the 
	breakpoint file, you will pick up the intermediate value at that 
	time.)</li>
	<br />

	<li>The first substructure note does not receive a decoration with 
	PREDECOR (this is because the first event in the line is assumed to 
	be at time zero &#150; so no decoration can happen before this).  
	In mode DECORATED, a random mixture of pre- and post- decorations 
	is produced, so the first note is sometimes decorated and sometimes 
	not.</li>
	</ul>
</p>

<p>
<b>Example 1b</b><br>
Still in Mode <b>5</b> and using the same note data file as in Example 1a 
(<i>ndfdec1.txt</i>), Example 1b also employs the breakpoint file 
<i>dm5gprhi.brk</i> for the parameter <i>gpranghi</i>:
	<pre><code>
	0	1
	2	8
	4	1
	6	6
	8	1
	10	10
	12	1
	14	7
	16	1
	18	9
	20	1
	</code></pre>
	<blockquote>
	<b>POST-DECORATED Example 1b</b> (Preset&#47;Patch <b>decor1b&#47;
	decorex1b</b>): <br>
	<i> ... minoutdur (20) skiptime (2.0)<br>
	sndf (1) sndl (1) ming (36) maxg (64) mind (1.0) maxd (1.0)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	gpsizelo (5) gpsizehi (5) gppaklo (60) gppakhi (60) 
	gpranglo (1) gpranghi (dm5gprhi.brk) centring (0)</i><br>
	<code>texture postdecor 5 horn <a href="txsnds\decorex1b.mp3"><b>decorex1b</b></a> 
	ndfdec1.txt 20 2.0 1 1 36 64 1.0 1.0 0 1 1 0 0 5 5 60 60 1 dm5gprhi.brk 0</code>
	</blockquote>
POSTDECOR is used so that the decorations will begin precisely <i>on</i> 
the node start time:  because in POSTDECOR the decorations come 
<i>after</i> the node.   We hear little burbles on every other node 
because in <i>dm5gprhi.brk</i> every other node has a pitch range greater 
than 1.
</p>

<p>
<b>Example 2a</b><br>
If we now move on to the <b>harmonic set&#47;field modes</b>, we will see 
how the 'random assembly' feature is still present, but tied into 
specifically named pitches.  We start with Mode <b>3</b> and here we need 
to define the pitches from which the decoration will be formed, so a 
second note list is needed in the note data file.  In the following 
example, the substructure nodes form a rising G-minor shape: G4-Bb4-D5-G5, 
where C5 is Middle C.  Each note of this shape is then decorated with a 
whole tone trill.  <i>Gpranglo&#47;hi</i> is set to 2, <b>meaning in this 
case how many notes from the decoration field to use at any one time</b> 
&#150; and only these notes are used, not any of the inbetween ones as in 
Mode <b>5</b>.  <b>Note that all the times of the decoration field are set 
to 0.</b>  Here is the note data file for this example, 
<i>ndfdec2a.txt</i>:<br>
	<pre><code>
	60
	#4
	0.0 1 60 0 0
	2.0 1 67 0 0
	4.0 1 63 0 0
	6.0 1 60 0 0
	#3
	0.0 1 60 0 0
	0.0 1 64 0 0
	0.0 1 67 0 0
	</code></pre>

	<blockquote>
	<b>POST-DECORATED Example 2a</b> (Preset&#47;Patch <b>decor2a&#47;
	decorex2a</b>): <br>
	<i> ... minoutdur (12) skiptime (2.0)<br>
	sndf (1) sndl (1) ming (36) maxg (64) mind (1.0) maxd (1.0)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	gpsizelo (5) gpsizehi (9) gppaklo (60) gppakhi (60) 
	gpranglo (3) gpranghi (3) centring (1)</i><br>
	<code>texture postdecor 3 horn <a href="txsnds\decorex2a.mp3"><b>decorex2a</b></a> 
	ndfdec2a.txt 20 2.0 1 1 36 64 1.0 1.0 0 1 1 0 0 5 9 60 60 3 3 1</code>
	</blockquote>

Note that <i>gpranglo&#47;hi</i> is set to 3, to use all three notes in 
the decoration field.  The same three decoration notes decorate each of 
the substructure nodes.  In this case, all the notes match except for 
the Eb&#47;E-natural.  Thus only the third node sounds different.  Using 
the '1' option for <i>centring</i> did NOT result in the notes of the 
decoration being transposed to build on (above) each of the substructure 
nodes.  All the nodes are decorated with the <i>same chord</i> because 
those are the only (3) notes given in the decoration field in Mode 
<b>3</b> in which only the notes in the defined harmonic set are used.  
If we provide more notes, in fact the pitches needed to place a triad 
on each node, we find that this is indeed what happens.  Thus we can 
hear that TEXTURE DECORATED does use each node as a tonal centre for 
each decoration on it.
</p>

<p>
<b>Example 2b</b><br>
Example 2b illustrates constructing a decoration field that will 
enable building different <b>triads</b> on the substructure nodes.  The 
note data file <i>ndfdec2b.txt</i> is as follows.  Note that all 
start times are still 0 &#150; the decoration start times come from 
the node itself.
</p>
	<pre><code>
	60
	#8
	 0.0 1 60 0 0
	 2.0 1 63 0 0
	 4.0 1 67 0 0
	 6.0 1 70 0 0
	 8.0 1 74 0 0
	10.0 1 70 0 0
	12.0 1 67 0 0
	14.0 1 63 0 0
	#7
	0.0 1 60 0 0
	0.0 1 63 0 0
	0.0 1 67 0 0
	0.0 1 70 0 0
	0.0 1 74 0 0
	0.0 1 77 0 0
	0.0 1 81 0 0
	</code></pre>

	<blockquote>
	<b>POST-DECORATED Example 2b</b> (Preset&#47;Patch <b>decor2b&#47;
	decorex2b</b>): <br>
	<i> ... minoutdur (28) skiptime (2.0)<br>
	sndf (1) sndl (1) ming (36) maxg (64) mind (1.0) maxd (1.0)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	gpsizelo (5) gpsizehi (9) gppaklo (60) gppakhi (60) 
	gpranglo (3) gpranghi (3) centring (1)</i><br>
	<code>texture postdecor 3 horn <a href="txsnds\decorex2b.mp3"><b>decorex2b</b></a> 
	ndfdec2b.txt 20 2.0 1 1 36 64 1.0 1.0 0 1 1 0 0 5 9 60 60 3 3 1</code>
	</blockquote>
Now we have different decorations (all of which are triads) coming in 
on each time-specified node.  We have also used <i>centring</i> = 1 so that 
the node is the root (bottom note) of each decoration.
</p>

<p>
The key to achieving decorations restricted to triadic formations on the 
various nodes lies in the design of the harmonic field&#47;set.  The set 
used here moves up steadily in 3<small><sup>rds</sup></small> so that 
<i>all adjacent members</i> of the set remain a 3<small><sup>rd</sup></small> 
apart (major or minor):  C - Eb - G - Bb - D' - F' - A'.  The highest node 
is D' (74) so that the F' and A' are available to form the triad.  Thus, 
when the triads are built on each of the nodes, we get the following triads:  
Cm, Ebmaj, Gm, Bbmaj, and Dm.
</p>

<p>
Note that if we tried to have major and minor versions of the same triad, 
this would introduce adjacent semitones into the field, e.g., C - Eb - 
E-natural - G.  The program can only select <i>grprange</i> adjacent events, 
so in this case the first group would use C - Eb - E-natural and not form 
a triad.
</p>

<p>
Mode <b>4</b> used with this note data file produces the same results 
because no times are specified in the harmonic field&#47;set.  It is quite 
possible to have changing fields, in which case the <i>grprange</i> adjacent 
notes would change their harmonic character each time a new field came in.  
Modes <b>1</b> and <b>2</b> introduce note-events at different octaves, as 
permitted by the overall pitch range.  
</p>

<p>
<b>Example 2c</b><br>
The next example illustrates the same process, this time with a note 
data file designed to produce dyads (pairs of notes around a single 
interval).  Here the pitches in the decoration field are selected so 
that they will harmonise with the nodal tones.  Then they are all set 
to begin at time zero, and <b>we rely on <i>gpranglo&#47;hi</i> (set to 
2) to select pairs of notes from this field.</b>
</p>

<p>
The idea of the example is to build dyads on each of the 
substructure nodes.  We use <i>centring</i> = 1 to get the decoration 
to start on and lie above the substructure node.  This time all the 
nodes of the substructure are decorated.  <i>Ndfdec2c.txt</i> follows, 
and we are running it first in Mode <b>3</b>.<br>
	<pre><code>
	60
	#4
	0.0 1 55 0 0
	2.0 1 58 0 0
	4.0 1 62 0 0
	6.0 1 65 0 0
	#8
	0.0 1 55 0 0
	0.0 1 58 0 0
	0.0 1 62 0 0
	0.0 1 65 0 0
	0.0 1 67 0 0
	0.0 1 70 0 0
	0.0 1 74 0 0
	0.0 1 77 0 0
	</code></pre>

	<blockquote>
	<b>POST-DECORATED Example 2c</b> (Preset&#47;Patch <b>decor2c&#47;
	decorex2c</b>): <br>
	<i> ... minoutdur (20) skiptime (2.0)<br>
	sndf (1) sndl (1) ming (36) maxg (64) mind (1.0) maxd (1.0)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	gpsizelo (5) gpsizehi (5) gppaklo (60) gppakhi (60) 
	gpranglo (2) gpranghi (2) centring (1)</i><br>
	<code>texture postdecor 3 horn <a href="txsnds\decorex2c.mp3"><b>decorex2c</b></a> 
	ndfdec2c.txt 20 2.0 1 1 36 64 1.0 1.0 0 1 1 0 0 5 5 60 60 2 2 1</code>
	</blockquote>

<b>Now this is important:</b> We set <i>gpranglo&#47;hi</i> to 2 to 
specify that we should use pairs of notes from the decoration field.  
What we hear, then, are the notes of the dyads selected from the decoration 
field and only these notes played in random order above each of the 
respective nodes.  The decoration field has to be carefully constructed so 
that the desired harmonic effect is achieved.
</p>

<p>
Mode <b>4</b> used with the same data produces the same results.  
Modes <b>1</b> and <b>2</b> introduce octave notes, as permitted by 
the overall pitch range.
</p>

<p>
Building on these foundations, we can achieve more varied and 'plastic' 
results by employing ranges and time-varying breakpoint files for the 
various parameters.  But recall what was observed above, that the effect 
of the times in breakpoint files seems constrained by the start times of 
the nodes:  pending further experimentation, it appears that the 
parameter value in force when a node begins is what is used:  the 
breakpoint times do not override the node times and therefore cannot 
bring the parameter value in at a breakpoint time which differs from a 
node time.
</p>

<p>
<b>Example 3</b><br>
Example 3 illustrates a more flexible use of TEXTURE DECORATED.  The 
note data file <i>ndfdec3.txt</i> defines five nodes each 5 seconds 
apart.  These are then decorated from a field of 15 notes, with a 
time-varying set of values for <i>gprangehi</i>.

	<pre><font color="#FF0000">
	[<i>ndfdec3.txt</i>]</font><code>
	60
	#5
	0  1 60 0 0
	5  1 64 0 0
	10 1 67 0 0
	15 1 70 0 0
	20 1 60 0 0
	#15
	0 1 49 0 0
	0 1 52 0 0
	0 1 54 0 0
	0 1 55 0 0
	0 1 58 0 0
	0 1 60 0 0
	0 1 61 0 0
	0 1 64 0 0
	0 1 66 0 0
	0 1 67 0 0
	0 1 70 0 0
	0 1 72 0 0
	0 1 73 0 0
	0 1 76 0 0
	0 1 78 0 0
	</code></pre>
The breakpoint file for <i>gprangehi</i> is <i>dx3gprhi.brk</i>:
	<pre><code>
	0  8
	5  10
	10 15
	15 12
	20 11
	</code></pre>
<b>Note that the times match those for the 'line' nodes in the note data 
file.</b>  When we hear the resultant sound, we can also observe that each 
decoration is centred on the node pitch &#150; i.e., they move up and 
down in pitch according to the underlying node.  The group pitch range 
low is set at a constant 2, so the range of decoration field notes used 
in each burst will vary between 2 and 8, 2 and 10, 2 and 15, etc.
</p>

<p>
The <i>gpsize</i> is set to give a relatively low number of events: 
from 10 to 25.  The <i>gppak</i> range is fast, but varied:  between 40 and 
125 ms.  The overall effect is little bursts of note events, with gaps 
inbetween.  These gaps are those between the end of the decoration and 
the start of the next node &#150; not <i>skiptime</i>, which occurs at 
the end of the whole sequence.  We are using POSTDECOR so that the 
decorations begin with the node.

	<blockquote>
	<b>POST-DECORATED Example 3</b> (Preset&#47;Patch <b>decor3&#47;
	decorex3</b>): <br>
	<i> ... minoutdur (20) skiptime (1)<br>
	sndf (1) sndl (1) ming (36) maxg (64) mind (1.0) maxd (1.0)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	gpsizelo (10) gpsizehi (25) gppaklo (40) gppakhi (125) 
	gpranglo (2) gpranghi (dx3gprhi.brk) centring (0)</i><br>
	<code>texture postdecor 3 horn <a href="txsnds\decorex3.mp3"><b>decorex3</b></a> 
	ndfdec3.txt 20 1 1 1 36 64 1.0 1.0 0 1 1 0 0 10 25 40 125 2 dx3gprhi.brk 0</code>
	</blockquote>

In Example 3, <i>skiptime</i> is in fact never used because the node times 
are spread out to fill the whole <i>outdur</i>, so the node sequence 
doesn't get a chance to repeat.
</p>

<p>
End of TEXTURE DECORATED &#47; PREDECOR &#47; POSTDECOR<br>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a> 
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ********************************************************** -->

<h2 id="MOTIFS">TEXTURE MOTIFS &#150; A texture of fully defined 
motifs attached to pitches selected at random from a pitch range or from 
a Harmonic Field&#47;Set <br>
(MOTIFS: only first note of motif constrained, 
MOTIFSIN: all notes of motif constrained);  one or more input sounds
</h2>

<p>
<div align=center>
<table border="1" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#MOTIFSPAR"><b>Parameters</b></a></td>
<td align=center><a href="#MOTIFSNDF"><b>Note data file</b></a></td>
<td align=center><a href="#MOTIFSUND"><b>Understanding</b></a></td>
<td align=center><a href="#MOTIFSAPP"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3>
Usage
</h3>
<b>texture motifs&#124;motifsin mode</b> 
<i>infile [infile2 ..] outfile notedata outdur packing scatter tgrid<br>
sndfirst sndlast mingain maxgain minpich maxpich<br>
phgrid grpspace gpsprange amprise contour multlo multhi</i><br>
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>]
[<b>-s</b><i>spread</i>] [<b>-r</b><i>seed</i>]<br>
[<b>-w</b>] [<b>-d</b>] [<b>-i</b>]
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; On a given harmonic field<br>
<b>2</b>&nbsp; On changing harmonic fields<br>
<b>3</b>&nbsp; On a given harmonic set<br>
<b>4</b>&nbsp; On changing harmonic sets<br>
<b>5</b>&nbsp; None [not used by MOTIFSIN]
</blockquote>

<h3 id="MOTIFSPAR">Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to use as source material<br>
<i>infile2 ... </i> &#150; optional soundfile(s) to use as additional 
inputs<br>
<i>outfile</i> &#150; output soundfile<br>
<i id="MOTIFSNDF">notedata</i> &#150; <b>textfile, containing:</b>
	<ol>
	<li>assumed MIDI 'pitch' of each input sound, specified on the 
	1<sup>st</sup> line; a pitch value must be given for each 
	<i>infile</i> (separated by a space).</li>
	<li>In Mode <b>5</b> this is followed by a NOTELIST defining a motif, 
		specified like this:</li>
		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		pitches in the motif).</li>

		<li>a motif specified thus:
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>sustain</i> (secs).<br>
		Different start times must be given, and they must must 
		increase;  all 0's for chords are not allowed.<br>
		<b>This is all that is needed in Mode 5</b>.  
		There may be more than one motif defined in this way.</li>
		</ul>

	<li>ALTERNATIVELY: In Modes <b>1 &#150; 4</b>, a harmonic field&#47;set 
	notelist must be defined BEFORE the motifs are listed. This is in the format:</li>
		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		pitches in the notelist).</li>
		<li>a harmonic field specified thus: 
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>sustain</i> (secs).<br>In the harmonic set/field(s) 
		<i>amp</i> and <i>sustain</i> are inactive fields.  Also, in the 
		harmonic field/set definition, <i>time</i> can be all zeros in 
		Modes <b>1</b> and <b>3</b>, whereas in Modes <b>2</b> and <b>4</b> 
		different times are given when the field's pitch contents change 
		at specified times.</li>
		<li><b>The motif(s) themselves must now be defined, exactly as above.</b></li>
		</ul>

	<li><b>In the motifs, <i>time</i>, <i>amp</i> and <i>sustain</i> and all 
	active fields</b>.  Thus the motif is able to be very precisely 
	defined.</li>

	<li>Any number of motifs may be defined in this way, which is 
	also true in Mode <b>5</b>.</li>
	</ol>

<p>
<div align=center>
<table border="1" cellpadding="2" bgcolor="#B0E0E6">

<tr>
<td align=center colspan=2>Form: <b>MPV&#47;M&#47;&#150;&#47;&#150</b></td>
<td align=center colspan=2>Form: <b>MPV&#47;HF-S&#47;M&#47;&#150</b></td>
</tr>

<tr>
<th>Mode 5 format</th>
<th>Comments</th>
<th>Modes 1-4 format</th>
<th>Comments</th>
</tr>

<tr>
<td align=center>60</td>
<td align=center>MIDI pitch value(s)</td>
<td align=center>60<br></td>
<td align=center>MIDI pitch value(s)<br></td>
</tr>

<tr>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Motifs </td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Harmonic Field&#47;Set</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Motifs</td>
</tr>

</table>
</div>
</p>

<i>outdur</i> &#150; minimum duration of the <i>outfile</i><br>
<i>packing</i> &#150; (average) time between motif onsets<br>
<i>scatter</i> &#150; randomisation of event onsets (Range: 0 to 10)<br>
<i>tgrid</i> &#150; minimum step in milliseconds for a quantised 
time grid for motif start times (Default: 0)<br>
<i>sndfirst, sndlast</i> &#150; first and last soundfiles to use from a 
list of soundfiles for input (Range: 1 to the number of sounds)<br>
<i>mingain, maxgain</i> &#150; minimum and maximum level of input sounds 
(Range: 1 to 127;  Default: 64 and 64)<br>
<i>minpich, maxpich</i> &#150; minimum and maximum pitch (MIDI note value)<br>
<i>phgrid</i> &#150; a timegrid in milliseconds applying WITHIN the 
motifs (Range: 0.0 to 1000.0)<br>
<i>gpspace</i> &#150; spatialisation of event-groups (Range: 0 to 5; 
Default: 1)
	<blockquote>
	<b>0</b> no change<br>
	<b>1</b> scattered (Default)<br>
	<b>2</b> motifs will move <b>towards</b> where 
	    the event is<br>
	<b>3</b> motifs move <b>away from</b> where the 
	    event is<br>
	<b>4</b> motifs follow the texture motion from 
	    Left to Right<br>
	<b>5</b> motifs follow the texture motion from 
	    Right to Left
	</blockquote>
<i>gpsprange</i> &#150; spatial range of event-groups (Range: 0 to 1; 
Default: 1)<br>
<i>amprise</i> &#150; amplitude change within motifs (Range: 0 to 127; 
Default: 0)<br>
<i>contour</i> &#150; amplitude contour of groups (Range: 0 to 6; 
Default: 0)
	<blockquote>
	<b>0</b> mixture of the other types (Default)<br>
	<b>1</b> crescendo<br>
	<b>2</b> flat (no change)<br>
	<b>3</b> decrescendo<br>
	<b>4</b> crescendo or flat<br>
	<b>5</b> crescendo or decrescendo<br>
	<b>6</b> decrescendo or flat
	</blockquote>
<i>multlo, multhi</i> &#150; smallest &amp; largest multiplier of total 
input duration of motif<br>
<b>-a</b><i>atten</i> &#150; overall attenuation of the output<br>
<b>-p</b><i>position</i> &#150; centre of sound output image (Range: 
0 to 1, where 0 is Left and 1 is Right;  Default: 0.5)<br>
<b>-s</b><i>spread</i> &#150; spatial spread of texture events (Range: 
0 to 1, where 1 is full spread)<br>
<b>-r</b><i>seed</i> &#150; the same <i>seed</i> number will produce the 
same result on rerun (Default: 0, where 0 is different result each time)<br>
<b>-w</b> &#150; always play whole input sound, ignoring duration values<br>
<b>-d</b> &#150; motif notes all have the same duration as the 
ornamented note<br>
<b>-i</b> &#150; motifs are not confined to the instrument of the 
ornamented note (Default: same note)<br><br>

<b> All parameters except <i>notedata, outdur</i> and <i>seed</i> may vary over time.</b>
</blockquote>

<h3 id="#MOTIFSUND">Understanding the TEXTURE MOTIFS Process
</h3>

<p>
	<blockquote>
	<i>TEXTURE MOTIFS creates fully defined figures like the 
	ornaments of TEXTURE ORNATE, but does not attach them to a 
	user-defined Nodal Substructure.  It attaches them either 
	to pitches randomly selected from a pitch range, or from  
	the pitches defined in a Harmonic Field&#47;Set, again making 
	a random selection of which pitches to use.  There are 
	interesting and useful differences between Mode <b>5</b> 
	and Modes <b>1-4</b> and between MOTIFS and MOTIFSIN.</i>
	</blockquote>
</p>

<blockquote>
<h3>
The note data file
</h3>

<p>
In Mode <b>5</b> there is no Harmonic Field&#47;Set, and so the first 
section of the note data file is used for the motif itself, in which 
all fields are active.  There can be more than one motif by adding 
another <b>#</b><i>N</i> and the motif note events.  The pitches for 
each note event are selected at random from the range defined by 
<i>minpich - maxpich</i> (the pitch range parameters).
</p>

<p>
In the other Modes, the Harmonic Field&#47;Set comes first, followed 
by the motif(s).  In the Harmonic Field&#47;Set, the <i>time</i> field 
uses zeros for Modes <b>1</b> and <b>3</b> (the motif, with its own 
internal timing, repeats after <i>skiptime</i> seconds, and the pitches 
are selected at random from the field). Changing times (ascending) are 
used for Modes <b>2</b> and <b>4</b> (only the pitches given for a 
certain time will be used during that time period &#150; Example 4 
illustrates this).
</p>

<h3>
The difference in how the motif notes are attached by MOTIFS and MOTIFSIN
</h3>

<p>
<b>MOTIFS</b> &#150; Only the first note of the motif is 'forced 
onto the harmonic Field&#47;Set'.  This means that only the first note 
of the motif need be specified in the field &#150; all the other 
notes of the motif are accurately transposed to follow on from there.  
You hear the first note of the motifs moving about in the field, and 
the rest of the motif flowing nicely from it, with nothing missed out.  
This feature can be musically useful when intense repetitions of a 
(whole) motif are desired.  This was not the case with DECORATED or 
ORNATE, where the Harmonic Field&#47;Set had to contain all the notes 
which might be used when the decoration or ornament was transposed. 
</p>

<p>
<b>MOTIFSIN</b> &#150; In this case, <b>all</b> the notes of the motif 
are 'forced' onto the field (MOTIFSIN does not have a Mode <b>5</b>).  
The result of this is that all the other notes in the motif will come 
from the field.  The software is very clever about this, and nothing 
is left out when a transposed motif calls for a pitch which isn't in 
the field &#150; but the motif is altered in the process.  What happens 
is that there are transpositions and repetitions of the motif pitches 
in order to recast the motif to use exclusively the pitches of the field.  
This muddles the shape of the motif quite a bit, which can be musically 
useful when you want to develop a texture using a motif which transforms 
in unpredictable ways.
</p>
</blockquote>


<h3 id="#MOTIFSAPP"><b>Musical Applications</b>
</h3>

<p>
	<blockquote>
	<b>All the examples for TEXTURE MOTIFS can be made by running 
	<i>motifexs.bat</i> from the DOS prompt.  The soundfiles produced 
	can be deleted with <i>motifdel.bat</i>.</b>
	</blockquote>
</p>

<blockquote>
<h3>
EXAMPLE 1
</h3>


<p>
Our first example illustrates Mode <b>5</b> by playing a defined motif 
on pitches randomly selected from a pitch range.  There is therefore 
no Harmonic Field&#47;Set, so the note data file <i>ndfmot1.txt</i> gets 
straight to the definition of the motif itself:
	<pre><code>
	60
	#10			<font color="#FF0000">(10-event motif)</font>
	0.0 1 60 70 0.3
	0.1 1 61 50 0.3
	0.2 1 66 50 0.3
	0.3 1 67 50 0.3
	0.4 1 66 70 0.3
	0.5 1 67 60 0.3
	0.6 1 70 60 0.3
	0.7 1 66 60 0.3
	0.8 1 72 80 0.3
	0.9 1 66 50 0.3
	</code></pre>

	<blockquote>
	<b>MOTIFS Example 1</b> (Preset&#47;Patch <b>motif1&#47;motifex1</b>): <br>
	<i> ... outdur (12) packing (1) scatter (0) tgrid (0)<br>
	snd1st (1) sndlast (1) ming (30) maxg (90)<br>
	minp (48) maxp (84) phgrid (0) grpspace (1) gpsprange (1)<br>
	amprise (0) contour (0) multlo (1) multhi (1)<br>
	[-aatten -pposition -sspread -rseed -w -d -i]</i><br>
	<code>texture motifs 5 marimba <a href="txsnds\motifex1.mp3"><b>motifex1</b></a> 
	ndfmot1.txt 12 1 0 0 1 1 30 90 48 84 0 1 1 0 0 1 1</code>
	</blockquote>

What we hear is the defined motif repeating every second, beginning on 
different pitches selected from the pitch range 48 to 84 (3 octaves).  
By using the <i>seed</i> option, you can produce different <i>but 
reproduceable</i> outputs each time, if you want to explore different 
random selections from the pitch range.  You can add more motifs in the 
note data file, and the program will select among them as it builds the 
output soundfile.
</p>


<h3>
EXAMPLES 2a&#47;b&#47;c
</h3>

<p>
These three examples make use of Mode <b>3</b>.  The note data file 
<i>ndfmot2.txt</i> starts by defining a Harmonic Field&#47;Set and 
then defines a quick-note motif which lasts for 1 second.  <i>Skiptime</i> 
is set to 1 second, so the repeats (at different transpositions) follow 
on without a break.
	<pre><code>
	60
	#9			<font color="#FF0000">(Harmonic Field&#47;Set)</font>
	0.0 1 60 0 0
	0.0 1 61 0 0
	0.0 1 63 0 0
	0.0 1 64 0 0
	0.0 1 66 0 0
	0.0 1 67 0 0
	0.0 1 68 0 0
	0.0 1 70 0 0
	0.0 1 72 0 0
	#10			<font color="#FF0000">(10-event motif)</font>
	0.0 1 60 70 0.3
	0.1 1 61 50 0.3
	0.2 1 66 50 0.3
	0.3 1 67 50 0.3
	0.4 1 66 50 0.3
	0.5 1 67 70 0.3
	0.6 1 70 50 0.3
	0.7 1 66 50 0.3
	0.8 1 72 80 0.3
	0.9 1 66 60 0.3
	</code></pre>

	<blockquote>
	<b>MOTIFS Examples 2a&#47;b&#47;c</b> (Preset&#47;Patch <b>motif2a, b, &amp;c
	&#47;motifex2a, b, &amp;c</b> &#150; 2b uses MOTIFSIN: harmonic): <br>
	<i> ... outdur (12) packing (1) scatter (0) tgrid (0)<br>
	snd1st (1) sndlast (1) ming (30) maxg (90)<br>
	minp (48) maxp (84) phgrid (0) grpspace (1) gpsprange (1)<br>
	amprise (0) contour (0) multlo (0.5) multhi (2)<br>
	[-aatten -pposition -sspread -rseed -w -d -i]</i><br>
	<code>
	texture motifs 3 marimba <a href="txsnds\motifex2a.mp3"><b>motifex2a</b></a> 
	ndfmot2.txt 12 1  0 0 1 1 30 90 48 84 0 1 1 0 0 0.5 2<br>
	texture motifsin 3 marimba <a href="txsnds\motifex2b.mp3"><b>motifex2b</b></a> 
	ndfmot2.txt 12 1 0 0 1 1 30 90 48 84 0 1 1 0 0 0.5 2<br>
	texture motifs 3 marimba <a href="txsnds\motifex2c.mp3"><b>motifex2c</b></a> 
	ndfmot2.txt 12 0.25 0 0 1 1 30 90 48 84 0 1 1 0 0 0.5 2
	</code>
	</blockquote>

<b>What we hear:</b>
	<ul>
	<li>We hear a defined motif play, at varying tempos, on a random 
	selection from the notes of a defined harmonic set.  
	The first note of the motif is taken (at random) from the field, and 
	(all) the rest of the motif follows on as is expected (i.e., 
	transposed).</li>
	<br />
	<li>The 'b' version uses MOTIFSIN with the same parameters, and we 
	hear the motif being warped as it is recast to use <i>only</i> the 
	pitches of the defined harmonic set.  Some pitches may be omitted 
	or repeated as a result of the warping.  <b>Note how this differs 
	from the use of Mode 3 in MOTIFS.</b></li>
	<br />
	<li>The 'c' version creates overlaps with a skiptime of 0.25.</li>
	</ul>
</p>

<p id="SAMESTARTPCH">Further work done in 2001 sheds a little more 
light on the above examples.  It is important to realise that in both 
the 'a' and the 'b' versions, the start note is drawn <i>at random</i> from 
the harmonic field or set: that is, the motifs will repeat with 
transpositions.  If there are overlaps, the motif and field&#47;set need 
to be coordinated so that desired results are obtained.
</p>

<p>
I was seeking to have the motif repeat, <b>always beginning on the <i>same</i> 
pitch</b>, the pitch defined as the start-pitch of the motif itself, with or 
without overlaps.  This can be done, I found, by defining the harmonic 
set, defining the motif with pitch and velocity (important to bring out 
rhythmic groups), and <b>then giving the start pitch of the motif as both the 
lower <i>and</i> upper pitch range values</b>.  I expected it to play the 
motif by repeating only one pitch, but in fact all the pitches of the motif 
are used.
</p>

<p>
TMOTIFS Preset Examples 2a and 2b <i>appear</i> to be doing this (starting 
on the same pitch), but this is not in fact happening.  It appears to be 
happening because both the harmonic set and the motif are constructed 
with intervals of a minor-3<sup>rd</sup>, so it all harmonises no matter 
which start pitch of the harmonic set is used.  One must use the same 
technique described above (both low and high pitch range = the start pitch of 
the motif) for the motif to repeat starting each time on the same pitch.  A 
motif structured with different intervals would reveal this.  (AE)
</p>



<h3>
EXAMPLES 3a&#47;b&#47;c
</h3>


<p>
We now introduce two inputs (marimba & horn) and two motifs.  The second 
motif uses longer note values than the first.  The marimba is slightly 
lower than the horn in pitch, so we lower its reference MIDI note value 
to 59.  The note data file <i>ndfmot3.txt</i> below defines the Harmonic 
Field&#47;Set first, and then the two motifs.  Again the times in the 
field are all zero for use with Mode <b>3</b> and <i>skiptime</i> 
determines the time between repetitions of the motif.
	<pre><code>
	59 60
	#9			<font color="#FF0000">(Harmonic Field&#47;Set)</font>
	0.0 1 60 0 0
	0.0 1 61 0 0
	0.0 1 63 0 0
	0.0 1 64 0 0
	0.0 1 66 0 0
	0.0 1 67 0 0
	0.0 1 68 0 0
	0.0 1 70 0 0
	0.0 1 72 0 0
	#10			<font color="#FF0000">(motif 1)</font>
	0.0 1 60 70 0.3
	0.1 1 61 50 0.3
	0.2 1 66 50 0.3
	0.3 1 67 50 0.3
	0.4 1 66 50 0.3
	0.5 1 67 70 0.3
	0.6 1 70 50 0.3
	0.7 1 66 50 0.3
	0.8 1 72 80 0.3
	0.9 1 66 60 0.3
	#3			<font color="#FF0000">(motif 2)</font>
	0.0  1 60 40 1.5 
	0.34 1 67 45 1.5 
	0.67 1 72 50 1.5 
	</code></pre>

	<blockquote>
	<b>MOTIFS Examples 3a&#47;b&#47;c</b> (Preset&#47;Patch <b>motif3a, b, &amp;c
	&#47;motifex3a, b, &amp;c</b>) <br>
	<i> ... outdur (12) packing (1) scatter (0) tgrid (0)<br>
	snd1st (1) sndlast (1) ming (30) maxg (90)<br>
	minp (48) maxp (84) phgrid (0) grpspace (1) gpsprange (1)<br>
	amprise (0) contour (0) multlo (0.5) multhi (2)<br>
	[-aatten -pposition -sspread -rseed -w -d -i]</i><br>
	<code>texture motifs 3 marimba horn <a href="txsnds\motifex3a.mp3"><b>motifex3a</b></a> 
	ndfmot3.txt 12 1.0 0 0 1 2 30 90 48 84 0 1 1 0 0 0.5 2<br>
	texture motifs 3 marimba horn <a href="txsnds\motifex3b.mp3"><b>motifex3b</b></a> 
	ndfmot3.txt 12 0.5 0 0 1 2 30 90 48 84 0 1 1 0 0 1 1<br>
	texture motifs 1 marimba horn <a href="txsnds\motifex3c.mp3"><b>motifex3c</b></a> 
	ndfmot3.txt 12 0.5 0 0 1 2 30 90 48 84 0 1 1 0 0 1 1</code>
	</blockquote>
<b>We hear:</b>
	<ul>
	<li>Our 'a' version plays the two motifs in varying orders 
and tempos, with the instrument playing each motif selected at random.  
The duration field of the second motif specifies 1.5 sec., which 
doesn't have any audible effect on the marimba sound, but when the 
horn plays, the sound continues. overlapping the entry of the next 
motif, even though each motif starts regularly at the start of each 
second (<i>skiptime</i>) is one, and each motif is 1 second long.</li>
	<br />

	<li>The 'b' version takes away the tempo change (<i>multlo</i> 
and <i>multhi</i> are restored to 1) and introduces a 1/2 sec overlap.   
We begin to hear a bit of counterpoint as the two different rhythms 
overlap each other, sometimes with the same and sometimes with 
different instruments.</li>
	<br />

	<li>The 'c' version repeats the previous command with Mode 1, 
which opens up different octaves, further enriching the texture in a 
way which seems to allow more motivic repetitions.</li>
	</ul>
</p>


<h3>
EXAMPLE 4
</h3>

<p>
The final example for MOTIFS calls upon Mode 4 to illustrate how the start 
pitches of the motifs can be controlled by timing information in the Harmonic 
Field&#47;Set.  Only C-60 is allowed for the first two seconds, then only 
pitches C-61 and C-62 can be used (to attach the motifs to) during the 
next two seconds, etc.  <i>Ndfmot4.txt</i> contains these alteraions.  
The tempo is increased (0.75) and a little overlap put in (<i>skiptime</i> 
= 0.5) to allow more entries&#47;repetitions of the motifs within each 
time period.
	<pre><code>
	59 60
	#9			<font color="#FF0000">(Harmonic Field&#47;Set &#150; changing times)</font> 
	0.0 1 60 0 0
	2.0 1 61 0 0
	2.0 1 63 0 0
	4.0 1 64 0 0
	4.0 1 66 0 0
	4.0 1 67 0 0
	6.0 1 68 0 0
	6.0 1 70 0 0
	6.0 1 72 0 0
	#10			<font color="#FF0000">(motif 1)</font>
	0.0 1 60 70 0.3
	0.1 1 61 50 0.3
	0.2 1 66 50 0.3
	0.3 1 67 50 0.3
	0.4 1 66 50 0.3
	0.5 1 67 70 0.3
	0.6 1 70 50 0.3
	0.7 1 66 50 0.3
	0.8 1 72 80 0.3
	0.9 1 66 60 0.3
	#3			<font color="#FF0000">(motif 2)</font>
	0.0  1 60 40 1.5
	0.34 1 67 45 1.5
	0.67 1 72 50 1.5
	</code></pre>

	<blockquote>
	<b>MOTIFS Example 4</b> (Preset&#47;Patch <b>motif4&#47;motifex4</b>): <br>
	<i> ... outdur (12) packing (0.5) scatter (0) tgrid (0)<br>
	snd1st (1) sndlast (2) ming (30) maxg (90)<br>
	minp (48) maxp (84) phgrid (0) grpspace (1) gpsprange (1)<br>
	amprise (0) contour (0) multlo (0.75) multhi (0.75)<br>
	[-aatten -pposition -sspread -rseed -w -d -i]</i><br>
	<code>texture motifs 4 marimba horn <a href="txsnds\motifex4.mp3"><b>motifex4</b></a> 
	ndfmot4.txt 12 0.5 0 0  1 2 30 90 60 72 0 1 1 0 0  0.75 0.75</code>
	</blockquote>

<b>We hear</b> a fast moving texture of motifs with a lot of repetition 
<i>on the same or nearby pitches</i>, the whole texture moving upwards in 
pitch every two seconds.  This provides a mechanism for designing overall 
pitch movement in a motif-based texture.
</p>
</blockquote>

<p>
End of TEXTURE MOTIFS &#47; MOTIFSIN<br>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a> 
to 'Groucho' Time-Domain Index
</p>
<hr><!-- ********************************************************** -->


<h2 id="ORNATE">TEXTURE ORNATE&#124;PREORNATE&#124;POSTORNATE
&#150; A texture of events with fully user-specified ornaments placed 
on a 'line', optionally with pitches restricted to a Harmonic 
Field&#47;Set; one or more input sounds
</h2>

<p>
<div align=center>
<table border="1" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#ORNPAR"><b>Parameters</b></a></td>
<td align=center><a href="#ORNNDF"><b>Note data file</b></a></td>
<td align=center><a href="#ORNUND"><b>Understanding</b></a></td>
<td align=center><a href="#ORNAPP"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3>
Usage
</h3>
<b>texture ornate&#124;preornate&#124;postornate mode</b> 
<i>infile [infile2 ..] outfile notedata outdur skiptime<br>
sndfirst sndlast mingain maxgain mindur maxdur<br>
phgrid grpspace gpsprange amprise contour<br>
multlo, multhi</i><br>
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>]
[<b>-s</b><i>spread</i>] [<b>-r</b><i>seed</i>]<br>
[<b>-w</b>] [<b>-d</b>] [<b>-i</b>] [<b>-h</b>] [<b>-e</b>]
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; On a given harmonic field<br>
<b>2</b>&nbsp; On changing harmonic fields<br>
<b>3</b>&nbsp; On a given harmonic set<br>
<b>4</b>&nbsp; On changing harmonic sets<br>
<b>5</b>&nbsp; None
</blockquote>

<h3 id="ORNPAR">Parameters</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to use as source material<br>
<i>infile2 ... </i> &#150; optional soundfile(s) to use as additional 
inputs<br>
<i>outfile</i> &#150; output soundfile<br>
<i id="ORNNDF">notedata</i> &#150; <b>textfile, containing:</b>
	<ol>
	<li>assumed MIDI 'pitch' of each input sound, specified on the 
	1<sup>st</sup> line; a pitch value must be given for each 
	<i>infile</i> (separated by a space).</li>
	<li>followed by a 'line' substructure NOTELIST, specified thus:</li>
		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		pitches in the notelist).</li>
		<li>In all Modes, this is followed by <i>N</i> lines to 
		define the nodal substructure on which the ornaments 
		will be placed.  These are in the format <i>time</i> 
		(secs) &nbsp;<i>infile_no</i> &nbsp;<i>pitch</i> (MIDI) 
		&nbsp;<i>amp</i> (MIDI) &nbsp;<i>dur</i> (secs).  
		<i>Amp</i> and <i>dur</i> are inactive fields in TEXTURE 
		ORNATE in the node substructure section.</li>
		<li>different start times must be given, and they must must 
		increase;  all 0's for chords are not allowed.</li>
		</ul>
		
	<li>In Modes <b>1&#150;4</b> this is followed by <i>N</i> 
		lines to define the harmonic field&#47;set in the format:<br>
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>dur</i> (secs).  <i>Starttime</i>, <i>Amp</i> 
		and <i>dur</i> are inactive fields in TEXTURE ORNATE in 
		the harmonic field&#47;set section.  <b>This section is 
		omitted for Mode 5</b>.</li>
	<li>Now the ornament itself must be defined.  Again, this 
	is in the form <i>time</i> (secs) &nbsp;<i>infile_no</i> 
	&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
	&nbsp;<i>dur</i> (secs) &#150; <b>in which <i>time</i>, 
	<i>amp</i> and <i>dur</i> and all active fields</b>.  Thus 
	the ornament is able to be very precisely defined.</li>
	</ol>

<p>
<div align=center>
<table border="1" cellpadding="2" bgcolor="#B0E0E6">
<tr>
<td align=center colspan=2>Form: <b>MPV&#47;NS&#47;O&#47;&#150</b></td>
<td align=center colspan=2>Form: <b>MPV&#47;NS&#47;HF-S&#47;O</b></td>
</tr>

<tr>
<th>Mode 5 format</th>
<th>Comments</th>
<th>Modes 1-4 format</th>
<th>Comments</th>
</tr>

<tr>
<td align=center>60</td>
<td align=center>MIDI pitch value(s)</td>
<td align=center>60<br></td>
<td align=center>MIDI pitch value(s)<br></td>
</tr>

<tr>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of 'line' (Nodal Substructure)</td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of 'line' (Nodal Substructure)</td>
</tr>

<tr>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Ornaments </td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Harmonic Field&#47;Set</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Ornaments</td>
</tr>

</table>
</div>
</p>

<i>outdur</i> &#150; minimum duration of the <i>outfile</i><br>
<i>skiptime</i> &#150; time between repeats of motif-to-ornament in 
  <i>notedata</i>, i.e., between runs of the 'line' substructure 
  notelist<br>
<i>sndfirst, sndlast</i> &#150; first and last soundfiles to use from a 
list of soundfiles for input (Range: 1 to the number of sounds)<br>
<i>mingain, maxgain</i> &#150; minimum and maximum level of input sounds 
(Range: 1 to 127;  Default: 64 and 64)<br>
<i>mindur, maxdur</i> &#150; minimum and maximum duration of events in 
texture<br>
<i>phgrid</i> &#150; a timegrid in milliseconds applying WITHIN the 
ornaments (Range: 0.0 to 1000.0)<br>
<i>gpspace</i> &#150; spatialisation of event-groups (Range: 0 to 5; 
Default: 1)
	<blockquote>
	<b>0</b> no change<br>
	<b>1</b> scattered (Default)<br>
	<b>2</b> ornaments will move <b>towards</b> where 
	    the event is<br>
	<b>3</b> ornaments move <b>away from</b> where the 
	    event is<br>
	<b>4</b> ornaments follow the texture motion from 
	    Left to Right<br>
	<b>5</b> ornaments follow the texture motion from 
	    Right to Left
	</blockquote>
<i>gpsprange</i> &#150; spatial range of event-groups (Range: 0 to 1; 
Default: 1)<br>
<i>amprise</i> &#150; amplitude change within ornaments (Range: 0 to 127; 
Default: 0)<br>
<i>contour</i> &#150; amplitude contour of groups (Range: 0 to 6; 
Default: 0)
	<blockquote>
	<b>0</b> mixture of the other types (Default)<br>
	<b>1</b> crescendo<br>
	<b>2</b> flat (no change)<br>
	<b>3</b> decrescendo<br>
	<b>4</b> crescendo or flat<br>
	<b>5</b> crescendo or decrescendo<br>
	<b>6</b> decrescendo or flat
	</blockquote>
<i>multlo, multhi</i> &#150; smallest &amp; largest multiplier of total 
input duration of motif<br>
<b>-a</b><i>atten</i> &#150; overall attenuation of the output<br>
<b>-p</b><i>position</i> &#150; centre of sound output image (Range: 
0 to 1, where 0 is Left and 1 is Right;  Default: 0.5)<br>
<b>-s</b><i>spread</i> &#150; spatial spread of texture events (Range: 
0 to 1, where 1 is full spread)<br>
<b>-r</b><i>seed</i> &#150; the same <i>seed</i> number will produce the 
same result on rerun (Default: 0, where 0 is different result each time)<br>
<b>-w</b> &#150; always play whole input sound, ignoring duration values<br>
<b>-d</b> &#150; ornament notes all have the same duration as the 
ornamented note<br>
<b>-i</b> &#150; ornaments are not confined to the instrument of the 
ornamented note (Default: same note)<br>
<b>-h</b> &#150; ornaments on <b>highest</b> note of any chord (Default: 
on first note listed)<br>
<b>-e</b> &#150; ornaments on all the notes of any chord<br><br>

<b> All parameters except <i>notedata, outdur, skiptime</i>  and <i>seed</i> may vary over time.</b>
</blockquote>


<h3 id="#ORNUND">Understanding the TEXTURE ORNATE Process</h3>

<p>
	<blockquote>
	<i>The salient feature in TEXTURE ORNATE is that an ornament 
	is attached to an underlying substructure node.  The ornament 
	is a precisely defined musical figure:  the start time, 
	amplitude and duration fields in the ornament definition part 
	of the note data file are all active.  Individual ornament note 
	durations may be longer than the time until the next ornament 
	note start time, which makes fades and legato effects possible.  
	Amplitude values will be important to shape the ornament 
	rhythmically in an audible way.</i>
	</blockquote>
</p>

<p>
	<blockquote>
	<b>All the examples for TEXTURE ORNATE can be made by running 
	<i>ornatexs.bat</i> from the DOS prompt.  The soundfiles produced 
	can be deleted with <i>ornatdel.bat</i>.</b>
	</blockquote>
</p>

<blockquote>
<h3>
MODE 5
</h3>

<p>
The ornament has specified start times, amplitude and durations for 
each of its notes.  A 'turn' (upper and lower neighbors around a 
centre) could look like this, a quintuplet over the time of a crotchet:
	<pre><code>
	#5
	0.0 1 60 84 0.3
	0.2 1 62 64 0.3
	0.4 1 60 68 0.3
	0.5 1 58 72 0.3
	0.8 1 60 76 0.3
	</code></pre>
In Mode <b>5</b> this is all that is needed.  This ornament will be 
automatically transposed in both time and pitch so that it begins on 
each of the nodes of the substructure melody line defined in the first 
part of the note data file.  Because no harmonic field is defined, 
the full chromatic set is used by default.  Thus the complete file 
<i>ndforn1.txt</i> could look like this:
	<pre><code>
	60
	#4			<font color="#FF0000">(node substructure)</font>
	0.0 1 60 0 0
	2.0 1 67 0 0
	4.0 1 65 0 0
	6.0 1 62 0 0
	#5			<font color="#FF0000">(ornament definition)</font>
	0.0 1 60 84 0.3
	0.2 1 62 64 0.3
	0.4 1 60 68 0.3
	0.5 1 58 72 0.3
	0.8 1 60 76 0.3
	</code></pre>

	<blockquote>
	<b>ORNATE Example 1</b> (Preset&#47;Patch <b>ornate1&#47;ornatex1</b>): <br>
	 <i>... minoutdur (12) skiptime (2) <br>
	sndf (1) sndl (2) ming (30) maxg (90) mind (1.0) maxd (1.0)<br> 
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br> 
	multlo (1) multhi (1)<br></i>
	<code>texture postornate 5 marimba <a href="txsnds\ornatex1.mp3">
	<b>ornatex1</b></a> ndforn1.txt 12 2 1 1 30 90 1.0 1.0 0 1 1 0 0 1 1</code>
	</blockquote>
</p>

<p>
The <b>tempo and time-relationship</b> between repeats of the ornament 
offers many possibilities.  In the above file, the ornament lasts 
1 second, and there are 2 seconds between substructure nodes.  Thus 
there will be gap of 1 second before the next ornamented node.  The 
speed (tempo) <i>of the ornaments</i> can be altered with 
<i>multlo&#47;hi</i>: 1 is no change (e.g., crotchet&#47;quarter-note = 60), 
0.5 doubles the speed (e.g., crotchet&#47;quarter-note = 120) 
etc.  <b>However, this does not change the time <i>between</i> the 
ornaments.</b>
</p>

<p>
Although you can enter ornament timings with any values, I (AE) find it useful 
to use 1 second (crotchet&#47;quarter-note = 60) as a reference.  Then 
standard values for durations, such as 0.5 for &#189; sec (quaver&#47;
eighth-note), can be used, maintaining a conventional musical understanding 
of beats.  This is normally how it is done in <i>Csound</i>, for example, 
with a tempo control to alter the actual rate of flow.  And here in TEXTURE, 
the formula to calculate a tempo ratio (multiplier) for the ornaments will 
be <b>60 divided by the desired tempo</b>. E.g.,
	<blockquote>
	<ul>
	<li>60&#47;72 = 5&#47;6 = 0.833</li>
	<li>60&#47;120 = 1&#47;2 = 0.5</li>
	<li>60&#47;90 = 2&#47;3 = 0.667</li>
	<li>60&#47;84 = 5&#47;7 = 0.714</li>
	<li>60&#47;76 = 15&#47;19 = 0.789</li>
	<li>etc.</li>
	</ul>
	</blockquote>
</p>

<p>
<b><i>Skiptime</i></b> is the time between runs of the whole node 
substructure.  <b>It begins at the start time of the last substructure 
node</b>.  For no overlap, the <b>rule of thumb</b> is:
	<blockquote>
	<b>'the last ornament start time <i>plus</i> the length of time 
	after this until the next ornament is to begin'.</b>
	</blockquote>
The actual duration of this note (in the <i>duration</i> field of the note 
data file) may be longer&#47;shorter than this to achieve a 
legato&#47;staccato effect.
</p>

<p>
In the above example the total ornament time would be 0.8 &#43; 0.2 to 
make 1 full second so that it will stay 'on the beat'.  Thus, for the 
whole sequence to repeat seamlessly without a break (or an overlap), 
<i>skiptime</i> would be 1, 1 being the full time we want for the 
ornament.  You can specify any <i>outdur</i>, so the sequence 
repeats until <i>outdur</i> is reached.  <i>Skiptimes</i> less than 1 
will, therefore, cause overlaps.  We shall explore this in greater 
detail in Example 3 below.
</p>

<h3>
Modes <b>1 to 4</b>
</h3>

<p>
You therefore have a great deal of control over the design of your 
ornaments.  In these Modes, you can define a <b>harmonic field or set</b> 
so that only these pitches will be used.  Note that you have to take 
care that all the pitches are available to enable the ornament to 
transpose to all nodes.  If you hear any missing or incorrectly repeated 
ornament notes, the cause is usually a pitch missing in the harmonic 
field&#47;set.  The transposition within the program is done by simple 
addition, not by indexing, which accounts for this restriction.
</p>

<p>
It is possible to have <b>more than one ornament</b>.  These are defined 
in the same way (starting with the #<i>N</i> separator).  The start 
time of each ornament in the note data file will be zero.  They are then 
attached to nodes at the times when the nodes are set to begin. The program 
will select from the list of ornaments in random order. If you want 
this random order to vary on different runs of the program, <i>but be 
reproduceable</i>, use the <i>seed</i> flag [<b>-r</b>] with specific 
values greater than 1. 
</p>

<p>
<b>More than one input sound file</b> may be used.  Provide a MIDI pitch 
for each of them in the note data file and adjust <i>last snd-in-list to 
use</i> accordingly.  <b>You can, in <i>all</i> the Texture programs, make 
the value of the first- and last-sound-to-use vary over time (using a 
breakpoint file) so you can sweep through a list of input sound files 
as the texture progresses</b>.  Different ornaments will use different 
sounds.  If you specify the <b>Scatter decor instrs</b> flag [<b>-i</b>], 
the various notes within an ornament will randomly use different sounds.  
(Specifying specific instruments for specific ornament notes in the note 
data file has no effect, and specifying instruments for substructure nodes 
badly confuses the program, although it doesn't complain).
</p>

<p>
Remember that it will often be very important to shape the ornament 
with the <b>amplitude</b> field.  The notes will just run on together without 
any aural definition unless accents, crescendos and decrescendos are 
introduced.
</p>
</blockquote>

<h3 id="#ORNAPP"><b>Musical Applications</b></td>
</h3>

<blockquote>
<p>
We shall present three examples here, all of which use Mode <b>3</b> 
so that the full note data file is used (all three sections). 
</p>

<h3>ORNATE Example 2
</h3>


<p>
<b>ORNATE Example 2</b> defines a harmonic set which enables a little 
figure to be accurately transposed onto two substructure nodes: 
C-60 and G-67.  The note data file is <i>ndforn2.txt</i> as follows:

	<pre><code>
	60 59
	#2			<font color="#FF0000">(the nodal substructure)</font>
	0.0 1 60 0 0
	2.0 1 67 0 0
	#8			<font color="#FF0000">(the harmonic set definition)</font>
	0.0 1 60 0 0
	0.0 1 62 0 0
	0.0 1 63 0 0
	0.0 1 65 0 0
	0.0 1 67 0 0
	0.0 1 69 0 0
	0.0 1 70 0 0
	0.0 1 72 0 0
	#8			<font color="#FF0000">(the ornament definition)</font>
	0.0    1 60 30 0.5
	0.25   1 62 30 0.5
	0.5    1 63 30 0.5
	0.8333 1 62 30 0.5
	1.0    1 63 30 0.5
	1.25   1 65 30 0.5
	1.5    1 63 30 0.5
	1.75   1 62 30 0.5
	</code></pre>

Two input soundfiles are used.<br>

	<blockquote>
	<b>ORNATE Example 2</b> (Preset&#47;Patch <b>ornate2&#47;ornatex2</b>): <br>
	 <i>... minoutdur (12) skiptime (2) <br>
	sndf (1) sndl (2) ming (30) maxg (90) mind (1.0) maxd (1.0)<br> 
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br> 
	multlo (1) multhi (1)<br></i>
	<code>texture postornate 3 marimba horn <a href="txsnds\ornatex2.mp3">
	<b>ornatex2</b></a> ndforn2.txt 12 2 1 2 30 90 1.0 1.0 0 1 1 0 0 1 1</code>
	</blockquote>

What we hear is a series of repetitions of the same ornament, placed 
alternately on the C and the G nodes.  Sometimes the whole ornament 
is played by the horn and sometimes by the marimba &#150; a random 
selection of the instrument is being made, but once made, it plays 
the whole ornament.  Were we to use the <b>-i</b> flag, this random 
selection of instrument would be made <i>for each note of the ornament</i>, 
an altogether different result not unlike a Medieval hocket.  If 
<i>instr_no</i> is specified for the various ornament notes, this has 
no effect on these results, with or without the <b>-i</b> flag.
</p>

<p>
<blockquote>
The actual pitch level of the ornaments could be inaccurate if the two 
source sounds were actually at different pitches and the same MIDI pitches 
in the note data file were given for each of them.  If accuracy is 
important, you might be able to adjust one of the the MIDI pitch values 
given in the note data file (remember, you don't have to use whole numbers), 
or you could retune one of the source sounds.
</blockquote>
</p>

<p>
We should also observe that the various repetitions follow on at 
regular intervals.  The nodes are spaced at two seconds, the ornament 
takes 2 seconds, and <i>skiptime</i> is set at two seconds, which 
relates to the period between runs of the <i>whole sequence of the nodal 
substructure</i>.  If we made <i>skiptime</i> 3 seconds, we would hear 
two ornaments, one on C and one on G, and then a pause of 1 second.  
Why 1 second?  This is important:  because the <i>skiptime</i> begins 
at the start time of the last node of the substructure.  The ornament 
lasts 2 seconds, so there will be one more second of silence before the 
sequence repeats.
</p>



<h3>ORNATE Example 3
</h3>


<p>
This example creates several different ornaments and attaches them 
to a stepwise rising nodal substructure.  Again, the ornaments are 
selected in random order.  Again, the harmonic set definition has 
to have all the notes it needs to play all the ornaments transposed 
to each of the nodes.  This implies a compositional task to consider 
how to create ornaments which will follow one another in the 
manner you wish when they occur in various orders at various transposition 
levels.
</p>

<p>
The now much longer note data file <i>ndforn3.txt</i> is as follows:

	<pre><code>
	60
	#5			<font color="#FF0000">(node substructure)</font>
	0.0  1 60 0 0
	3.0  1 62 0 0
	6.0  1 63 0 0
	9.0  1 65 0 0
	12.0 1 67 0 0
	#17			<font color="#FF0000">(harmonic set definition)</font>
	0.0 1 60 0 0
	0.0 1 62 0 0
	0.0 1 63 0 0
	0.0 1 64 0 0
	0.0 1 65 0 0
	0.0 1 66 0 0
	0.0 1 67 0 0
	0.0 1 68 0 0
	0.0 1 69 0 0
	0.0 1 70 0 0
	0.0 1 71 0 0
	0.0 1 72 0 0
	0.0 1 73 0 0
	0.0 1 74 0 0
	0.0 1 75 0 0
	0.0 1 76 0 0
	0.0 1 77 0 0
	#8			<font color="#FF0000">(ornament 1)</font>
	0.0    1 60 60 0.5
	0.25   1 62 55 0.5
	0.5    1 63 65 0.5
	0.8333 1 62 55 0.5
	1.0    1 63 70 0.5
	1.25   1 65 65 0.5
	1.5    1 63 60 0.5
	1.75   1 62 55 0.5
	#8			<font color="#FF0000">(ornament 2)</font>
	0.0    1 60 70 0.5
	0.2    1 63 72 0.5
	0.4    1 62 74 0.5
	0.6    1 65 76 0.5
	0.8    1 63 78 0.5
	1.0    1 66 90 0.5
	1.5    1 67 85 0.5
	1.75   1 66 85 0.5
	#6			<font color="#FF0000">(ornament 3)</font>
	0.0    1 60 60 0.5
	0.34   1 63 50 0.5
	0.67   1 67 50 0.5
	1.00   1 62 60 0.5
	1.25   1 62 45 0.5
	1.50   1 66 50 0.5
	#6			<font color="#FF0000">(ornament 4)</font>
	0.0    1 60 50 0.5
	0.25   1 67 60 0.5
	0.75   1 60 40 0.5
	1.00   1 65 70 0.5
	1.50   1 65 70 0.5
	1.75   1 62 65 0.5
	#14			<font color="#FF0000">(ornament 5)</font>
	0.0   1 60 40 0.5
	0.125 1 62 45 0.5
	0.25  1 63 50 0.5
	0.375 1 65 55 0.5
	0.5   1 67 60 0.5
	0.625 1 65 55 0.5
	0.75  1 63 50 0.5
	0.875 1 62 45 0.5
	1.0   1 63 70 0.5
	1.17  1 65 65 0.5
	1.33  1 67 70 0.5
	1.5   1 65 65 0.5
	1.66  1 63 70 0.5
	1.83  1 62 70 0.5
	</code></pre>

</p>

<p>
To help read it and write out the ornaments in musical notation, here's 
a quick review of key duration values (and <a href="notechrt.htm">
<b>Note Chart</b></a> lists MIDI note vales):
	<ul>
	<li>1.0 &nbsp;&nbsp;= 1 crotchet (quarter note)</li>
	<li>0.75 &nbsp;= a dotted quaver (dotted eighth note)</li>
	<li>0.5 &nbsp;&nbsp;= 1 quaver (eighth note)</li>
	<li>0.25 = &nbsp;1 semiquaver (16<sup>th</sup> note) </li>
	<li>0.125 = 1 demisemiquaver (32<sup>nd</sup> note)</li>
	<li>0.33 &nbsp;= 1 quaver in a triplet (.33 &#43; .33 &#43; 
	.34 in any order)</li>
	<li>0.166 = 1 semiquaver in a triplet (.167 &#43; .167 
	&#43; .166 in any order)</li>
	<li>0.66 &nbsp;= 1 crotchet in a triplet (.67 &#43; .67 
	&#43; .66 in any order)</li>
	</ul>
Note that all the ornaments start at time zero.  They take their 
actual start time from the node to which they become attached.  Note 
that they are also transposed to that node.  These are all the 
parameters in command line format:

	<blockquote>
	<b>ORNATE Example 3</b> (Preset&#47;Patch <b>ornate3&#47;ornatex3</b>): <br>
	 <i>... minoutdur (21) skiptime (4) <br>
	sndf (1) sndl () ming (30) maxg (90) mind (1.0) maxd (1.0)<br> 
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br> 
	multlo (0.5) multhi (1.2)</i><br>
	<code>texture postornate 3 marimba <a href="txsnds\ornatex3.mp3">
	<b>ornatex3</b></a> ndforn3.txt 21 4 1 1 30 90 1 1 0 1 1 0 0 0.5 1.2</code>
	</blockquote>

What we hear is a sequence of different ornaments, probably not in the 
order in which the appear in they note data file.  You will also notice 
that each ornament is at a slightly different tempo.  This is because 
the <i>mult</i> parameter has been given a range from less than 1 (0.5) 
to greater than 1 (1.2).
</p>


<h3>ORNATE Example 4
</h3>

<p>
This example plays with phasing the same ornament with precise rhythmic 
control, which enables us to create specific interval relationships in 
the overlapping figures.  To do this, we design a single ornament for 
the purpose, in this case a rising and falling scale.  This is note 
data file <i>ndforn4.txt</i> with one node, a harmonic set and the 
scale ornament:
	<pre><code>
	60
	#1			<font color="#FF0000">(single node)</font>
	0.0  1 60 0 0
	#8			<font color="#FF0000">(scale as harmonic set)</font>
	0.0  1 60 0 0
	0.0  1 62 0 0
	0.0  1 63 0 0
	0.0  1 65 0 0
	0.0  1 67 0 0
	0.0  1 69 0 0
	0.0  1 70 0 0
	0.0  1 72 0 0
	#16			<font color="#FF0000">(ornament:  rising and falling scale)</font>
	0.0  1 60 50 0.3
	0.25 1 62 55 0.3
	0.5  1 63 60 0.3
	0.75 1 65 65 0.3
	1.0  1 67 70 0.3
	1.25 1 69 75 0.3
	1.5  1 70 80 0.3
	1.75 1 72 85 0.3
	2.0  1 72 85 0.3
	2.25 1 70 85 0.3
	2.5  1 69 85 0.3
	2.75 1 67 85 0.3
	3.0  1 65 85 0.3
	3.25 1 63 85 0.3
	3.5  1 62 85 0.3
	3.75 1 60 85 0.5
	</code></pre>
</p>

<p>
	<blockquote>
	<b>ORNATE Example 4</b> (Preset&#47;Patch <b>ornate4&#47;ornatex4</b>): <br>
	 <i>... minoutdur (12) skiptime (0.5) <br>
	sndf (1) sndl (1) ming (30) maxg (90) mind (1.0) maxd (1.0)<br> 
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br> 
	multlo (1) multhi (1)</i><br>
	<code>texture postornate 3 marimba <a href="txsnds\ornatex4.mp3">
	<b>ornatex4</b></a> ndforn4.txt 21 0.5 1 1 30 90 1 1 0 1 1 0 0 1 1 -a0.75</code>
	</blockquote>
What we hear is a dense texture of rising and falling scale pattern spaced 
at the interval of a third.  The density of overlap has led to overload, 
so the attenuation parameter [<b>-a</b>] is also used.  Fortunately, the 
program itself calculates the attenuation which may be needed and suggests 
a figure to the user.
</p>

<p>
There are two methods by which the overlaps can be achieved.
	<ol>
	<li>The most direct (as above) is to create only one node 
	and adjust the skip time.  Our ornament in this case is 
	4 seconds long, so a <i>skiptime</i> of 4 would cause 
	regular repeats of the whole ornament on the beat without 
	overlap or gap.  When we reduce <i>skiptime</i> to 0.5, the 
	ornament begins again at MIDI note 60 at the same time that the 
	first one is playing MIDI note 63 (at 0.5 sec), thus creating the 
	interval of a third.  The original and repeated ornaments will 
	proceed upwards in thirds.  However, after another &#189; second, 
	another ornament will start, creating a whole texture of thirds 
	out of the phased ornament.  A <i>skiptime</i> of 0.25 
	will (with this ornament) produce 2<sup>nds</sup> and 1.0 will 
	result in 5<sup>ths</sup>, and so it goes.</li>
	<br />

	<li>The second method involves creating more than one 
	node, which necessarily have to be at different times.  
	If in this case both were at MIDI note 60 and the second 
	node began at 0.5, with <i>skiptime</i> set to 4.0 (full 
	ornament duration), we will hear the ornament begin 
	again after half a second and produce thirds.  No 
	additional ornament repeats will come in, so we will 
	hear the second one end by itself, but the whole sequence 
	will repeat after 4 seconds until the specified <i>outdur</i> 
	is reached.  There will be a slight overlap at the repeats 
	of the whole node sequence because of the second ornament 
	starting later.  This method gives more control over density 
	and the pitch level of each repeat.</li>
	</ol>

</p>

<p>
If we want to make use of the tempo control as well (<i>mult</i>), 
we might also want to adjust <i>skiptime</i> to reflect the new 
tempo in order to preserve the same time relationships.  Otherwise, 
the ornament(s) will play at different speeds, but the <i>skiptime</i> 
will stay the same, which will alter the timing relationship of the 
ornaments as the underlying node sequence repeats.
</p>

<p>
Preserving time relationships while using a time-varying tempo can be 
improved by multiplying the desired <i>skiptime</i> by the <i>mult</i> 
factor.  When a tempo <i>range</i> is used things do seem to get out of step, 
but it is possible to keep things somewhat more in step when <i>breakpoint 
files</i> are used:  the breakpoint times are matched in the <i>skiptime</i> 
file, and its values are multiplied by the corresponding <i>mult</i> 
factor.  I had hoped that the phased ornaments would keep perfectly in step 
while the tempo waxed and waned, but this does not appear to be 
happening, so there does seem to be some degree of offsetting taking 
place as well.
</p>

<p>
Here are some further experiments you can carry out with the timing of 
the ornament.  The following are suggested alterations to the (command 
line) parameters as given for Example 3 in <i>ornexs.bat</i> with the 
note data file <i>ndforn4.txt</i> as above.

	<ul>
	<li><b>time-varying <i>skiptime</i></b> &#150; <i>oex3skip.brk</i> 
	<pre><code>
	0	4
	12	0.5
	</code></pre>
	sets a <i>skiptime</i> of 4 at time 0 and 0.5 (creates the 
	3<sup>rds</sup>) at time 12.  <b>We hear</b> a full run of the ornament 
	by itself; the ornament begins again, and then the first few notes 
	of the next run come in a little before the end of the first, and 
	subsequent repeats move the overlap forward until the 0.5 time 
	mark is reached.</li>
	<br>
	<li><b>time-varying tempo: accel</b> &#150; both the low and high 
	tempo parameters use the same breakpoint data: 
	<i>oex3mulo&#47;hi.brk</i>: 
	<pre></code>
	0	1
	12	0.5
	</code></pre>
	Thus we have 1 (no change) at time zero and 0.5 (twice as fast) at 
	time 12; <i>skiptime</i> is reset to 4 as above.  <b>We hear</b> 
	a gradual speedup during the course of the output soundfile as the 
	ornaments repeat (without overlap).</li>
	<br>
	<li><b>time-varying tempo: Accel&#47;decel</b> &#150; Similarly, 
	moving from 1 at time 0 to 0.5 at time 6 and back to 1 and time 12 
	will result in an accel&#47;decel over the course of the output 
	soundfile:  revised <i>oex3mulo&#47;hi</i>:
	<pre></code>
	0	1
	6	0.5
	12	1
	</code></pre>
	<b>We hear</b> the ornaments move faster-slower, but also notice 
	that the time between the ornaments appears to alter.  This 
	paradoxically is because the skip time is constant.  What is 
	happening is that the faster ornaments take less time and end 
	sooner, but the next run is still set to begin after 4 seconds, 
	so we have longer and shorter periods of silence, although the 
	actual time between repeats is staying the same.</li>
	<br>
	<li><b>combining time-varying tempo with overlaps set by the 
	<i>skiptime</i></b>:  revised <i>oex3skip.brk</i>:
	<pre></code>
	0	4
	6	0.5
	12	4
	</code></pre>
	Now <b>we hear</b> the ornaments overlap in a complex way (notes 
	are not in sync) as the time-varying <i>skiptime</i> gradually 
	moves the overlap forward from 4 seconds and back again.</li>
	<br>
	<li><b>skip times adjusted by tempo ratio</b> &#150; To get a 
	better (not not perfect) preservation of ornament overlap 
	relationships while changing tempo, we multiply the skip time 
	values by the tempo factors.  Let's see what happens when we 
	do this with the two previous experiments:
	<pre><font color="#FF0000">
	[<i>oex3skip.brk &#42; oex3mulo&#47;hi &#61; new skiptime</i>]<code></font>
	0   4    &#42;   1     &#61;	4
	6   0.5  &#42;   0.5   &#61;	0.25
	12  4    &#42;   1     &#61;	4
	</code></pre>
	Now the <i>skiptime</i> is reduced more in step with the 
	tempo.  <b>We hear</b> not a perfect synchronisation, but 
	considerably closer temporal relationships than before. </li>
	<br>
	<li><b>sustained tones within ornaments</b> &#150; Try using 
	the horn.mp3 source and adding a 2 second C-60 at the start 
	(bottom) of the scale and a 2 second C-72 at the top.  This 
	introduces a contrapuntal dimension which further illustrates 
	potential applications, esp. within the context of music 
	based on harmonic fields.</li>
	<br>
	<li><b>mixed rhythms</b> &#150; Ornaments with more varied 
	rhythmic contents open up the possibility of a more strongly 
	shaped gestural and motivic music.</li>
	</ul>
</p>
</blockquote>

<p>
End of TEXTURE ORNATE &#47; PREORNATE &#47; POSTORNATE<br>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a> 
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ********************************************************** -->


<h2 id="TIMED">TEXTURE TIMED &#150; A texture with events constrained 
to a rhythmic template and pitches selected at random from a pitch range or 
a Harmonic Field&#47;Set;  one or more input sounds
</h2>

<p>
<div align=center>
<table border="1" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#TIMEDPAR"><b>Parameters</b></a></td>
<td align=center><a href="#TIMEDNDF"><b>Note data file</b></a></td>
<td align=center><a href="#TIMEDUND"><b>Understanding</b></a></td>
<td align=center><a href="#TIMEDAPP"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3>
Usage
</h3>
<b>texture timed mode</b> <i>infile [infile2...] outfile notedata outdur 
skiptime<br>
sndfirst sndlast mingain maxgain mindur maxdur minpich maxpich</i><br>
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>]
[<b>-s</b><i>spread</i>] [<b>-r</b><i>seed</i>] [<b>-w</b>]
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; On a given harmonic field<br>
<b>2</b>&nbsp; On changing harmonic fields<br>
<b>3</b>&nbsp; On a given harmonic set<br>
<b>4</b>&nbsp; On changing harmonic sets<br>
<b>5</b>&nbsp; None
</blockquote>

<h3 id="TIMEDPAR">Parameters</h3>

<p>
<blockquote>
<i>infile</i> &#150; input soundfile to use as source material<br>
<i>infile2 ... </i> &#150; optional soundfile(s) to use as additional 
inputs<br>
<i>outfile</i> &#150; output soundfile<br>
<i>notedata</i> &#150; <b>textfile, containing:</b>
	<ol>
	<li>assumed MIDI 'pitch' of each input sound, specified on the 
	1<sup>st</sup> line</li>
	<li>followed by a times NOTELIST, specified thus:</li>
		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		events in the notelist).</li>

		<li>This is followed by <i>N</i> lines to define a 
		rhythmic template in the format:<br>
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>dur</i> (secs) <b>NB:</b> Only the times of 
		the motif are active, although pitch and loudness must 
		also be specified (arbitrary values are OK);  durations 
		may be 0.</li>

		<li>the specified times within the motif must increase</li>
		</ul>
	<li>followed (optionally) by another notelist to specify a 
	harmonic field or set (not used in Mode <b>5</b>).</li>
		<ul>
		<li>these begin with <b>#</b><i>N</i> (where <i>N</i> 
		is the number of events in the notelist).  This also 
		acts as a 'separator', enabling the program to know 
		where the timed motif ends and the harmonic field or 
		set begins.</li>
		<li>in the list of note events, all start times will 
		be zero for a given harmonic field or set (Modes 
		<b>1</b> and <b>3</b>).</li>
		<li>for Modes <b>2</b> and <b>4</b> give later start times 
		for the changing harmonic field(s) or set(s).</li>
		</ul>
	</ol>

<p>
<div align=center>
<table border="1" cellpadding="2" bgcolor="#B0E0E6">

<tr>
<td align=center colspan=2>Form: <b>MPV&#47;T&#47;&#150;&#47;&#150</b></td>
<td align=center colspan=2>Form: <b>MPV&#47;T&#47;HF-S&#47;&#150</b></td>
</tr>

<tr>
<th>Mode 5 format</th>
<th>Comments</th>
<th>Modes 1-4 format</th>
<th>Comments</th>
</tr>

<tr>
<td align=center>60</td>
<td align=center>MIDI pitch value(s)</td>
<td align=center>60<br></td>
<td align=center>MIDI pitch value(s)<br></td>
</tr>

<tr>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of times </td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of times</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Harmonic Field&#47;Set</td>
</tr>

</table>
</div>
</p>

<i>outdur</i> &#150; minimum duration of the <i>outfile</i><br>
<i>skiptime</i> &#150; time between repetitions of timing motif in the note 
data file (from the end of one motif to the beginning of the next;  NB: 
cannot produce overlaps with values shorter than the motif itself)<br>
<i>sndfirst, sndlast</i> &#150; first and last soundfiles to use from a 
list of soundfiles for input (Range: 1 to the number of sounds)<br>
<i>mingain, maxgain</i> &#150; minimum and maximum level of input sounds 
(Range: 1 to 127;  Default: 64 and 64)<br>
<i>mindur, maxdur</i> &#150; minimum and maximum duration of events in 
texture<br>
<i>minpich, maxpich</i> &#150; minimum and maximum pitch (MIDI note value)<br>
<b>-a</b><i>atten</i> &#150; overall attenuation of the output<br>
<b>-p</b><i>position</i> &#150; centre of sound output image (Range: 
0 to 1, where 0 is Left and 1 is Right;  Default: 0.5)<br>
<b>-s</b><i>spread</i> &#150; spatial spread of texture events (Range: 
0 to 1, where 1 is full spread)<br>
<b>-r</b><i>seed</i> &#150; the same <i>seed</i> number will produce the 
same result on rerun (Default: 0, where 0 is different result each time)<br>
<b>-w</b> &#150; always play whole input sound, ignoring duration values<br><br>

<b> All parameters except <i>notedata, outdur, skiptime</i> and <i>seed</i> may vary over time.</b>
</blockquote>

<h3 id="TIMEDUND">Understanding the TEXTURE TIMED Process
</h3>

	<blockquote>
	<i>TEXTURE TIMED repeats a series of notes in random order 
	but locked into a defined rhythmic template.</i>
	

<p>
	
	<b>All the examples for TEXTURE TIMED can be made by running 
	<i>timedexs.bat</i> from the DOS prompt.  The soundfiles produced 
	can be deleted with <i>timeddel.bat</i>.</b>
	
</p>

<p>
The key to this process lies in realising that the first part of the note data 
file consists of note events in which <b>only the onset timing is 
relevant</b> (the other three fields need something in them, however, 
1 for the <i>instr_no</i> and usually zeros for the other fields).  
<b>You are therefore specifying a <i>rhythmic</i> template</b> which can 
be filled with any sequence of pitches.
</p>

<p>
This template will draw upon the parameter pitch range in random fashion 
in Mode <b>5</b>.  For example, <i>ndftim1.txt</i> contains only:
	<pre><code>
	60
	#6		<font color="#FF0000">(rhythmic template definition)</font>
	0.00 1 0 0 0
	0.34 1 0 0 0
	0.67 1 0 0 0
	1.00 1 0 0 0
	1.50 1 0 0 0
	1.75 1 0 0 0
	</code></pre>

	<blockquote>
	<b>TIMED Example 1</b> (Preset&#47;Patch <b>timed1&#47;timedex1</b>): <br>
	sndfirst (1) sndlast (1) mingain (24) maxgain (84)<br>
	mindur (0.2) maxdur (1.0) minpich (48) maxpich (84)</i><br>
	<code>texture timed 5 marimba <a href="txsnds\timedex1.mp3"><b>timedex1</b></a> 
	ndftim1.txt 12 2.0 1 1 24 84 0.2 1.0 48 84</code>
	</blockquote>
</p>

<p>
<b>We hear</b> the wide pitch range from which the notes for the rhythmic 
motif are selected.  We also notice that <i>skiptime</i> is different.  
Here <i>skiptime</i> is the time <b>between statements of the rhythmic 
motif&#47;template</b>.  Thus we hear a long gap of two seconds between 
repeats because <i>skiptime</i> = 2.0 sec.  Thus <i>skiptime</i> in 
TEXTURE TIMED begins <i>after the end of the motif</i>.
</p>

<p>
This is <b>not</b> like the <i>skiptime</i> in TEXTURE ORNAMENT, where 
<i>skiptime</i> is the time between repeats of the whole Nodal 
Substructure.  <i>Skiptime</i> begins at the <i>start time of the last 
Node</i>.  Thus, in TEXTURE ORNAMENT a 2 second ornament with a 2 second 
<i>skiptime</i> leads to a repeat without a gap.  Also, where a 
<i>skiptime</i> less than the ornament duration results in overlaps.  
Here in TEXTURE TIMED the <i>skiptime</i> is the time between repetitions 
of the whole rhythmic template definition and there is no mechanism for 
creating overlapping rhythmic motifs (times less than 0 are not allowed).
</p>

<p>
In Modes <b>1-4</b>, the notes are randomly selected from only the pitches 
in a specified Harmonic Field&#47;Set.  In the latter case, you need 
an additional notelist in the note data file.  The following example 
(<i>ndftim2.txt</i>) makes clear how to do this (note the absence of 
pitch data in the list of times, and the identical (0.0) start 
times in the harmonic field&#47;set note list):

	<blockquote>
	<pre><code>
	60
	#5		<font color="#FF0000">(rhythmic template definition)</font>
	0.00 1 0 0 0
	0.25 1 0 0 0
	0.75 1 0 0 0
	1.00 1 0 0 0
	1.50 1 0 0 0
	#6		<font color="#FF0000">(harmonic field&#47;set definition)</font>
	0.0 1 60 0 0	<font color="#FF0000">(omitted in Mode <b>5</b>)</font>
	0.0 1 62 0 0
	0.0 1 65 0 0
	0.0 1 67 0 0
	0.0 1 70 0 0
	0.0 1 72 0 0
	</code></pre>
	</blockquote>

<p>
The above note data file is run with the following set of parameters, 
using Mode <b>3</b>.
	<blockquote>
	<b>TIMED Example 2</b> (Preset&#47;Patch <b>timed2&#47;timedex2</b>): <br>
	<i> ... outdur (12) skiptime (2.0)<br>
	sndfirst (1) sndlast (1) mingain (24) maxgain (84)<br>
	mindur (0.2) maxdur (1.0) minpich (48) maxpich (84)</i><br>
	<code>texture timed 3 marimba <a href="txsnds\timedex2.mp3"><b>timedex2</b></a> 
	ndftim2.txt 12 2.0 1 1 24 84 0.2 1.0 48 84</code>
	</blockquote>
</p>

EXAMPLE 3 - quick note gestures on a harmonic grid.  The 'b' 
example uses Mode <b>1</b> to open the texture out to other octaves.
	<pre><i>ndftim3.txt</i><code>
	60
	#17		<font color="#FF0000">(rhythmic template)</font>
	0.00 1 0 0 0
	0.05 1 0 0 0
	0.10 1 0 0 0
	0.15 1 0 0 0
	0.20 1 0 0 0
	0.25 1 0 0 0
	0.30 1 0 0 0
	0.35 1 0 0 0
	0.40 1 0 0 0
	0.45 1 0 0 0
	0.50 1 0 0 0
	1.00 1 0 0 0
	1.50 1 0 0 0
	1.60 1 0 0 0
	1.70 1 0 0 0
	1.80 1 0 0 0
	1.90 1 0 0 0
	#5		<font color="#FF0000">(Harmonic Field&#47;Set)</font>
	0.0 1 48 0 0
	0.0 1 50 0 0
	0.0 1 53 0 0
	0.0 1 55 0 0
	0.0 1 58 0 0
	</code></pre>

	<blockquote>
	<b>TIMED Example 3a&#47;b</b> (Preset&#47;Patch <b>timed3a, &b&#47;timedex3a, &b</b>): <br>
	<i> ... outdur (12) skiptime (0.1)<br>
	sndfirst (1) sndlast (1) mingain (40) maxgain (80)<br>
	mindur (0.4) maxdur (1.0) minpich (48) maxpich (84)</i><br>
	<code>texture timed 3 marimba <a href="txsnds\timedex3a.mp3"><b>timedex3a</b></a> 
	ndftim3.txt 12 0.1  1 1 40 80 0.4 1.0  48 84<br>
	texture timed 1 marimba <a href="txsnds\timedex3b.mp3"><b>timedex3b</b></a> 
	ndftim3.txt 12 0.1  1 1 40 80 0.4 1.0  48 84</code>
	</blockquote>

<b>We hear</b> the rapid flows constrained to the C-D-F-G-Bb harmonic 
grid.  In the absence of amplitude shaping, the ear inevitably begins 
to hear the longer notes at time 0.5 and 1.0 as the main foci, with 
the fast 5 .1 and faster 10 0.05 durations flowing around them.  
The 'b' example using Mode <b>1</b> opens out the octaves and creates 
a richer, warmer texture.
</p>
</blockquote>

<h3 id="TIMEDAPP">Musical Applications</h3>
<blockquote>
<p>
TEXTURE TIMED requires a very specific set of note event timings, and yet 
makes its note selections randomly.  It is therefore it is well suited to 
to slower and very distinctive rhythmic ideas.
</p>

<p>
The random reworking of the note selections can be a bit too obvious, 
however, so, to mitigate this, you might consider using longer note 
durations, a fairly large and sonorous harmonic field or set, and possibly 
several input soundfiles.
</p>

<p>
Alternatively, a vigorous texture of fast, repeated rhythms can be 
obtained with very closely placed timings and a <i>skiptime</i> equal 
to the length you want the note of the last rhythmic motif note event 
to have.  Then the next motif will begin with a gap.  If <i>skiptime</i> 
is near zero (min <i>skiptime</i> is 0.000002), there is no time 
allowance for the last note event of the motif, and the last note of 
one motif and the first of the next motif will be virtually simultaneous.
</p>
</blockquote>

<p>
End of TEXTURE TIMED<br>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a> 
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ********************************************************** -->


<h2 id="TGROUPED">TEXTURE TGROUPED &#150; A texture with the onsets of 
separate internally shaped event groups constrained to a rhythmic 
template, with pitches drawn from a pitch range or a Harmonic 
Field&#47;Set;  one or more input sounds
</h2>

<p>
<div align=center>
<table border="1" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#TGRPPAR"><b>Parameters</b></a></td>
<td align=center><a href="#TGRPNDF"><b>Note data file</b></a></td>
<td align=center><a href="#TGRPUND"><b>Understanding</b></a></td>
<td align=center><a href="#TGRPAPP"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3>
Usage
</h3>
<b>texture tgrouped mode</b> 
<i>infile [infile2 ..] outfile notedata outdur skip<br>
sndfirst sndlast mingain maxgain mindur maxdur minpich maxpich<br>
phgrid grpspace gpsprange amprise contour<br>
gpsizelo gpsizehi gppacklo gppackhi gpranglo gpranghi</i><br>
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>]
[<b>-s</b><i>spread</i>] [<b>-r</b><i>seed</i>]<br>
[<b>-w</b>] [<b>-d</b>] [<b>-i</b>]
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; On a given harmonic field<br>
<b>2</b>&nbsp; On changing harmonic fields<br>
<b>3</b>&nbsp; On a given harmonic set<br>
<b>4</b>&nbsp; On changing harmonic sets<br>
<b>5</b>&nbsp; None
</blockquote>

<h3 id="TGRPPAR">Parameters</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to use as source material<br>
<i>infile2 ... </i> &#150; optional soundfile(s) to use as additional 
inputs<br>
<i>outfile</i> &#150; output soundfile<br>
<i>notedata</i> &#150; <b>textfile, containing:</b>
	<ol>
	<li>assumed MIDI 'pitch' of each input sound, specified on the 
	1<sup>st</sup> line</li>
	<li>followed by a times NOTELIST, specified thus:</li>
		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		events in the notelist).</li>
		<li>This is followed by <i>N</i> lines to define a 
		rhythmic template in the format:<br>
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>dur</i> (secs) <b>NB:</b> Only the times in 
		the template are active, although pitch and loudness must 
		also be specified (arbitrary values are OK);  durations 
		may be 0.</li>
		<li>times in the template must increase</li>
		</ul>
	<li>followed (optionally) by another notelist to specify a harmonic 
	field or set (not used in Mode <b>5</b>):
		<ul>
		<li>these begin with <b>#</b><i>N</i> (where <i>N</i> 
		is the number of events in the notelist).  This also 
		acts as a 'separator', enabling the program to know 
		where the time template ends and the harmonic field or 
		set begins.</li>
		<li>in the list of note events, all start times will 
		be zero for a given harmonic field or set (Modes 
		<b>1</b> and <b>3</b>).</li>
		<li>for Modes <b>2</b> and <b>4</b> give later start times 
		for the changing harmonic field(s) or set(s).</li>
		</ul>
	</ol>

<p>
<div align=center>
<table border="1" cellpadding="2" bgcolor="#B0E0E6">

<tr>
<td align=center colspan=2>Form: <b>MPV&#47;T&#47;&#150;&#47;&#150</b></td>
<td align=center colspan=2>Form: <b>MPV&#47;T&#47;HF-S&#47;&#150</b></td>
</tr>

<tr>
<th>Mode 5 format</th>
<th>Comments</th>
<th>Modes 1-4 format</th>
<th>Comments</th>
</tr>

<tr>
<td align=center>60</td>
<td align=center>MIDI pitch value(s)</td>
<td align=center>60<br></td>
<td align=center>MIDI pitch value(s)<br></td>
</tr>

<tr>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of times </td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of times</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Harmonic Field&#47;Set</td>
</tr>

</table>
</div>
</p>

<i>outdur</i> &#150; minimum duration of the <i>outfile</i><br>
<i>skip</i> &#150; time between repeats of timing motif in 
  <i>notedata</i>, i.e., between runs of the 'line' substructure 
  notelist<br>
<i>sndfirst, sndlast</i> &#150; first and last soundfiles to use from a 
list of soundfiles for input (Range: 1 to the number of sounds)<br>
<i>mingain, maxgain</i> &#150; minimum and maximum level of input sounds 
(Range: 1 to 127;  Default: 64 and 64)<br>
<i>mindur, maxdur</i> &#150; minimum and maximum duration of events in 
texture<br>
<i>minpich, maxpich</i> &#150; minimum and maximum pitch (MIDI note value)<br>
<i>phgrid</i> &#150; a timegrid in milliseconds applying WITHIN the 
groups (Range: 0.0 to 1000.0)<br>
<i>gpspace</i> &#150; spatialisation of event-groups (Range: 0 to 5; 
Default: 1)
	<blockquote>
	<b>0</b> no change<br>
	<b>1</b> scattered (Default)<br>
	<b>2</b> groups will move <b>towards</b> where 
	    the event is<br>
	<b>3</b> motifs move <b>away from</b> where the 
	    event is<br>
	<b>4</b> groups follow the texture motion from 
	    Left to Right<br>
	<b>5</b> groups follow the texture motion from 
	    Right to Left
	</blockquote>
<i>gpsprange</i> &#150; spatial range of event-groups (Range: 0 to 1; 
Default: 1)<br>
<i>amprise</i> &#150; amplitude change within groups (Range: 0 to 127; 
Default: 0)<br>
<i>contour</i> &#150; amplitude contour of groups (Range: 0 to 6; 
Default: 0)
	<blockquote>
	<b>0</b> mixture of the other types (Default)<br>
	<b>1</b> crescendo<br>
	<b>2</b> flat (no change)<br>
	<b>3</b> decrescendo<br>
	<b>4</b> crescendo or flat<br>
	<b>5</b> crescendo or decrescendo<br>
	<b>6</b> decrescendo or flat
	</blockquote>
<i>gpsizelo, gpsizehi</i> &#150; smallest &amp; largest numbers of 
events in the groups<br>
<i>gppacklo, gppackhi</i> &#150; shortest &amp; longest time between 
event-onsets in the groups<br>
<i>gpranglo, gpranghi</i> &#150; minimum &amp; maximum pitch range of 
the groups OR, for harmonic field&#47;sets, the range of notes within 
the field to use<br>

<b>-a</b><i>atten</i> &#150; overall attenuation of the output<br>
<b>-p</b><i>position</i> &#150; centre of sound output image (Range: 
0 to 1, where 0 is Left and 1 is Right;  Default: 0.5)<br>
<b>-s</b><i>spread</i> &#150; spatial spread of texture events (Range: 
0 to 1, where 1 is full spread)<br>
<b>-r</b><i>seed</i> &#150; the same <i>seed</i> number will produce the 
same result on rerun (Default: 0, where 0 is different result each time)<br>
<b>-w</b> &#150; always play whole input sound, ignoring duration values<br>
<b>-d</b> &#150; fixed timestep between group notes<br>
<b>-i</b> &#150; each group is not each confined to a fixed instrument 
(Default: fixed)<br><br>
<b> All parameters except <i>notedata, outdur, skiptime</i> and <i>seed</i> may vary over time.</b>
</blockquote>


<h3 id="#TGRPUND">Understanding the TEXTURE TGROUPED Process</h3>
<blockquote>
	<p>
	<i>TEXTURE TGROUPS is a natural (and wonderful) development 
	of the rhythmic template idea in TEXTURE TIMED.  In this 
	case, the template times replace the <i>packing</i> parameter 
	as the time-onsets of each group.  Thus the groups can not 
	only follow one another at regular time onsets, but these 
	onsets can be have a defined rhythm.  The groups themselves 
	are shaped just as they are in TEXTURE GROUPED.</i>
	
	</p>

	<p>
	Once the idea is clear that the time-onsets of each group follow the 
	rhythmic template defined in the first part of the note data file, 
	understanding TGROUPED follows easily.  We shall illustrate this 
	by using the parameters in Mode <b>5</b> to make the rhythmic template 
	audible, and then 'populate' it with groups.
	</p>
	<p>
	
	<b>All the examples for TEXTURE TGROUPED can be made by running 
	<i>tgrouexs.bat</i> from the Console prompt.  The soundfiles produced 
	can be deleted with <i>tgroudel.bat</i>.</b>
	
	</p>

<h3>TGROUPED Example 1a</h3>


<p>
The first example sets out the rhythmic template in the note data 
file <i>ndftgr1.txt</i>, which is in fact an exact copy of 
<i>ndftim1.txt</i> used with TEXTURE TIMED.  This now familiar 
rhythm is made completely audible by having a 'group' of only 
one event (<i>gpsizelo</i>, <i>gpsizehi</i>, <i>gpranglo</i> and 
<i>gpranghi</i> are all = 1).  Here is the data:

	<pre><font color="#FF0000">
	[<i>ndftgr1.txt</i>]<code></font>
	60
	#5
	0.00 1 0 0 0
	0.25 1 0 0 0
	0.75 1 0 0 0
	1.00 1 0 0 0
	1.50 1 0 0 0
	</code></pre>

	<blockquote>
	<b>TGROUPED Example 1a</b> (Preset&#47;Patch <b>tgrouped1a&#47;tgrouex1</b>): <br>
	<i> ... minoutdur skiptime<br> 
	snd1st sndlast  mingain maxgain mindur maxdur minpch maxpch<br> 
	phgrid grpspace gpsprange amprise contour<br>  
	gpsizelo gpsizehi gppaklo gppakhi gppranglo gppranghi<br> 
	[-aatten -ppos -ssprd -rseed -w]</i><br> 
	<code>texture tgrouped 5 marimba <a href="txsnds\tgrouex1a.mp3">	<b>tgrouex1a</b></a> 	ndftgr1.txt 12 2.0 1 1 30 60 0.3 0.6  48 84 0 1 1 0 0 1 1 100 200 1 1</code>
	</blockquote>

<b>We hear</b> the defined rhythm over two beats very clearly, because 
only one note is playing each of the rhythmic durations (the <i>grpsize</i> 
range is 1).  The pitches are widely spaced because selected (at random) 
from a 3-octave pitch range.  There is a two second pause (<i>skiptime</i>) 
between repeats of the rhythmic template.
</p>


<h3>TGROUPED Example 1b</h3>


<p>
Using the same note data file, we now increase the <i>grpsize</i> range 
to 3, using 3 for both low and high.  Thus all the pitches which previously 
had 1 note on them, will now have three.

	<blockquote>
	<b>TGROUPED Example 1b</b> (Preset&#47;Patch <b>tgrouped1b&#47;tgrouex1</b>): <br>
	(In <i>Sound Loom</i> use <b>tgrouex1</b>, making the parameter changes 
	described below.)<br>
	<i> ... minoutdur skiptime<br> 
	snd1st sndlast  mingain maxgain mindur maxdur minpch maxpch<br> 
	phgrid grpspace gpsprange amprise contour<br>  
	gpsizelo gpsizehi gppaklo gppakhi gppranglo gppranghi<br> 
	[-aatten -ppos -ssprd -rseed -w]</i><br> 
	<code>texture tgrouped 5 marimba <a href="txsnds\tgrouex1b.mp3"><b>tgrouex1b</b></a>  	ndftgr1.txt 12 2.0  1 1 40 80 0.4 1.0 48 84 0 1 1 0 0  3 3 166 167 1 1</code>
	</blockquote>

Group size high and low are reset to 3.  The group packing is set between 166 
and 167 milliseconds.  In the context of this musical example, this corresponds 
to the duration of a semiquaver (16<sup>th</sup> note) triplet.  We also make 
the example a little louder by changing <i>min, max event gain</i> to 40 and 80.  
<b>We hear</b> the triplets on each note &#150; but notice that all the triplets 
have the same overall duration of one quaver (8<sup>th</sup> note).  Thus the 
triplets which begin on semiquaver durations of the timing template will overlap 
with those which begin a semiquaver later.
</p>


<h3>TGROUPED Example 1c</h3>


<p>
Now we make things more variable, with the number of notes in each group 
ranging from 5 to 10 (<i>grpsize</i>), the packing between group note 
events ranging between 50 and 100 ms (<i>grppak</i>) and the number of 
pitches taken from the pitch range widening from 1 in the above 'a' and 
'b' examples to a range of 3 to 10 (<i>gpranghi</i>).

	<blockquote>
	<b>TGROUPED Example 1c</b>(Preset&#47;Patch <b>tgrouped1c&#47;tgrouex1</b>): <br>
	(In <i>Sound Loom</i> use <b>tgrouex1</b>, making the parameter changes 
	described above.)<br>

	<i> ... minoutdur skiptime<br> 
	snd1st sndlast  mingain maxgain mindur maxdur minpch maxpch<br> 
	phgrid grpspace gpsprange amprise contour<br>  
	gpsizelo gpsizehi gppaklo gppakhi gppranglo gppranghi<br> 
	[-aatten -ppos -ssprd -rseed -w]</i><br> 
	<code>texture tgrouped 5 marimba <a href="txsnds\tgrouex1c.mp3"><b>tgrouex1c</b></a>  	ndftgr1.txt 12 2.0  1 1 40 80 0.4 1.0 48 84 0 1 1 0 0 5 10 50 100 3 10</code>
	</blockquote>

<b>We hear</b> a much more fluid texture of overlapping events.  While 
we may sense some variation in density, one side effect of the ranges 
used is that the onsets of the rhythmic template can no longer be easily 
perceived.
</p>


<h3>TGROUPED Example 1d</h3>

<p>
The final version of this parameter set simply reduces the <i>skiptime</i> 
to &#189; a second.  This draws the repeats much closer together, thus 
increasing the overlap of the groups as they play themselves out, even 
though the rhythmic templates themselves do not overlap.

	<blockquote>
	<b>TGROUPED Example 1d</b>(Preset&#47;Patch <b>tgrouped1d&#47;tgrouex1</b>): <br>
	(In <i>Sound Loom</i> use <b>tgrouex1</b>, making the parameter changes 
	described above.)<br>

	<i> ... minoutdur skiptime<br> 
	snd1st sndlast  mingain maxgain mindur maxdur minpch maxpch<br> 
	phgrid grpspace gpsprange amprise contour<br>  
	gpsizelo gpsizehi gppaklo gppakhi gppranglo gppranghi<br> 
	[-aatten -ppos -ssprd -rseed -w]</i><br> 
	<code>texture tgrouped 5 marimba <a href="txsnds\tgrouex1d.mp3"><b>tgrouex1d</b></a> 
	ndftgr1.txt 12 0.5  1 1 40 80 0.4 1.0 48 84 0 1 1 0 0  5 10 50 100 3 10</code>
	</blockquote>

<b>We hear</b> a rapid, fluid texture, in which the random element has 
become prominent.
</p>
</blockquote>

<h3 id="#TGRPAPP">Musical Applications</h3>
<blockquote>
<p>
We now have a fairly good idea of what TIMED GROUPS is all about.  We 
can try for a different range of effects by making use of harmonic fields 
or sets to constrain the random dimension.  <i>Ndftgr2.txt</i> adds a 
harmonic field to a new and simpler timegrid.
	<pre><code>
	60
	#4
	0.00 1 0 0 0
	0.50 1 0 0 0
	3.00 1 0 0 0
	4.50 1 0 0 0
	#7
	0.0  1 48 0 0
	0.0  1 53 0 0
	0.0  1 58 0 0
	0.0  1 63 0 0
	0.0  1 68 0 0
	0.0  1 73 0 0
	0.0  1 78 0 0
	</code></pre>
	<blockquote>

	<b>TGROUPED Example 2</b>(Preset&#47;Patch <b>tgrouped2&#47;tgrouex2</b>): <br>
	<i> ... minoutdur skiptime (0.5)<br> 
	snd1st (1) sndlast (1) mingain (40) maxgain (70) 
	mindur (0.25) maxdur (0.75) minpch (48) maxpch (84)<br> 
	phgrid (0) grpspace (1) gpsprange (1) amprise (0) contour (0)<br>  
	gpsizelo (7) gpsizehi (28) gppaklo (75) gppakhi (150) 
	gppranglo (1) gppranghi (7)<br> 
	[-aatten -ppos -ssprd -rseed -w]</i><br> 
	<code>texture tgrouped 3 marimba <a href="txsnds\tgrouex2.mp3"><b>tgrouex2</b></a> 
	ndftgr2.txt 21 0.5  1 1 40 70 0.25 0.75 48 84 0 1 1 0 0  7 28 75 150 1 7</code>
	</blockquote>

<b>We hear</b> repeated notes, arpeggios on perfect 4<sup>ths</sup>, 
something that sounds like permutations on 2 or 3 pitches, some dyads 
(2-note chords), varying speeds.  Let's look more closely at the 
various settings:
	<ul>
	<li>A new time template spreads out the onsets.</li>
	<br />

	<li>Mode <b>3</b> is used so that only the pitches defined 
	in the harmonic set are used.  Arpeggios along stacked 
	4<sup>ths</sup> are frequent.  If Mode <b>1</b> is used, it is 
	interesting to note that the inclusion of different octaves 
	also has the effect of enabling adjacent pitches to be used, 
	enriching the texture, but reducing the clarity of the defined 
	harmonic grid.</li>
	<br />

	<li>The <i>skiptime</i> of 0.5 relates to the time template.  
	The last time is at 4.5 (sec).  Adding 0.5 to this = 5.0, 
	so that the next sequence will begin 'on the beat' at 5 sec.</li>
	<br />

	<li>The note duration range of 0.25 to 0.75 concerns how much 
	of the input soundfile to allow to play, which produces shorter 
	and longer note values, the latter allowing in a bit of resonance.  
	Note duration ('sustain') cannot be longer than the input soundfile.</li>
	<br />

	<li>The groupsize range moves between 7 and 28 notes per group.  
	This will result in some groups which end well within before the 
	next timegrid onset, and others which will still be playing 
	out their notes when the next timegrid onset comes:  i.e., 
	overlaps will occur, in this case producing dyads.  These dyads 
	may be perfect 4<sup>ths</sup>, but other intervals may 
	occur.  It all depends on the note selected for the start of 
	the group.</li>
	<br />

	<li>The faster and slower pacing of the notes in the groups 
	results from the internal group packing range of 75 to 150 ms.</li>
	<br />

	<li>The groups vary nicely between repeated notes and arpeggios 
	because the group pitch range goes from 1 to 7 notes of the 
	harmonic field.</li>
	</ul>
</p>
</blockquote>

<p>
End of TEXTURE TGROUPED<br>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a> 
to 'Groucho' Time-Domain Index
</p>

<hr><!-- ********************************************************** -->


<h2 id="TMOTIFS">TEXTURE TMOTIFS&#47;MOTIFSIN &#150; A texture with 
the onsets of fully user-specified motifs constrained to a rhythmic grid 
and attached to pitches drawn from a pitch range or from a Harmonic 
Field&#47;Set;  one or more input sounds
</h2>

<p>
<div align=center>
<table border="1" cellpadding="3" bgcolor="#B0E0E6">
<tr>
<td align=center><a href="#TMOTPAR"><b>Parameters</b></a></td>
<td align=center><a href="#TMOTNDF"><b>Note data file</b></a></td>
<td align=center><a href="#TMOTUND"><b>Understanding</b></a></td>
<td align=center><a href="#TMOTAPP"><b>Applications</b></a></td>
</tr>
</table>
</div>
</p>

<h3>
Usage
</h3>
<b>texture tmotifs&#47;tmotifsin mode</b> 
<i>infile [infile2 ..] outfile notedata outdur skip<br>
sndfirst sndlast mingain maxgain minpich maxpich<br>
phgrid grpspace gpsprange amprise contour multlo multhi</i><br>
[<b>-a</b><i>atten</i>] [<b>-p</b><i>position</i>]
[<b>-s</b><i>spread</i>] [<b>-r</b><i>seed</i>]<br>
[<b>-w</b>] [<b>-d</b>] [<b>-i</b>]
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; On a given harmonic field<br>
<b>2</b>&nbsp; On changing harmonic fields<br>
<b>3</b>&nbsp; On a given harmonic set<br>
<b>4</b>&nbsp; On changing harmonic sets<br>
<b>5</b>&nbsp; None [not used by TMOTIFSIN]
</blockquote>

<h3 id="TMOTPAR">Parameters</h3>

<blockquote>
<i>infile</i> &#150; input soundfile to use as source material<br>
<i>infile2 ... </i> &#150; optional soundfile(s) to use as additional 
inputs<br>
<i>outfile</i> &#150; output soundfile<br>
<i>notedata</i> &#150; <b>textfile, containing:</b>
	<ol>
	<li>assumed MIDI 'pitch' of each input sound, specified on the 
	1<sup>st</sup> line</li>
	<li>followed by a times NOTELIST, specified thus:</li>
		<ul>
		<li><b>#</b><i>N</i> (where <i>N</i> is the number of 
		pitches in the notelist).</li>
		<li>This is followed by <i>N</i> lines in the format:<br>
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>dur</i> (secs).  Only <i>time</i> is active.  
		<i>Pitch</i>, <i>amp</i> and <i>dur</i> are inactive 
		fields in TEXTURE TMOTIFS.</li>
		<li>different times must be given, and they must increase;  
		all 0's for chords are not allowed.</li>
		</ul>
	<li>Now you need an additional set of lines for the motif 
	definition.</li>
		<ul>
		<li>these are also introduced by the number of lines 
		(<b>#</b><i>N</i>, which acts as a separator).</li>
		<li>This is followed by <i>N</i> lines in the format:<br>
		<i>time</i> (secs) &nbsp;<i>infile_no</i> 
		&nbsp;<i>pitch</i> (MIDI) &nbsp;<i>amp</i> (MIDI) 
		&nbsp;<i>dur</i> (secs).  All fields are active to define 
		the motif.</li>
		</ul>
	<li>Optionally there may be a Harmonic Field&#47Set definition in 
	the usual format, omitted in Mode <b>5</b>.  If omitted, the 
	motif definition occupies the second section of the note data file.</li>
	</ol>

<p>
<div align=center>
<table border="1" cellpadding="2" bgcolor="#B0E0E6">

<tr>
<td align=center colspan=2>Form: <b>MPV&#47;T&#47;M&#47;&#150</b></td>
<td align=center colspan=2>Form: <b>MPV&#47;T&#47;HF-S&#47;M</b></td>
</tr>

<tr>
<th>Mode 5 format</th>
<th>Comments</th>
<th>Modes 1-4 format</th>
<th>Comments</th>
</tr>

<tr>
<td align=center>60</td>
<td align=center>MIDI pitch value(s)</td>
<td align=center>60<br></td>
<td align=center>MIDI pitch value(s)<br></td>
</tr>

<tr>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of times</td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of times</td>
</tr>

<tr>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Motifs</td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Harmonic Field&#47;Set</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><b>#</b><i>N</i></td>
<td align=center>No. of lines to follow</td>
</tr>

<tr>
<td align=center><br></td>
<td align=center><br></td>
<td align=center><i>time instr pitch amp dur</i></td>
<td align=center>List of Motifs</td>
</tr>

</table>
</div>
</p>

<i>outdur</i> &#150; minimum duration of the <i>outfile</i><br>
<i>skip</i> &#150; time between repeats of timing motif in 
  <i>notedata</i>, i.e., between runs of the 'line' substructure 
  notelist<br>
<i>sndfirst, sndlast</i> &#150; first and last soundfiles to use from a 
list of soundfiles for input (Range: 1 to the number of sounds)<br>
<i>mingain, maxgain</i> &#150; minimum and maximum level of input sounds 
(Range: 1 to 127;  Default: 64 and 64)<br>
<i>minpich, maxpich</i> &#150; minimum and maximum pitch (MIDI note 
value)<br>
<i>phgrid</i> &#150; a timegrid in milliseconds applying WITHIN the 
motifs (Range: 0.0 to 1000.0)<br>
<i>gpspace</i> &#150; spatialisation of event-groups (Range: 0 to 5; 
Default: 1)
	<blockquote>
	<b>0</b> no change<br>
	<b>1</b> scattered (Default)<br>
	<b>2</b> motifs will move <b>towards</b> where 
	    the event is<br>
	<b>3</b> motifs move <b>away from</b> where the 
	    event is<br>
	<b>4</b> motifs follow the texture motion from 
	    Left to Right<br>
	<b>5</b> motifs follow the texture motion from 
	    Right to Left
	</blockquote>
<i>gpsprange</i> &#150; spatial range of event-groups (Range: 0 to 1; 
Default: 1)<br>
<i>amprise</i> &#150; amplitude change within motifs (Range: 0 to 127; 
Default: 0)<br>
<i>contour</i> &#150; amplitude contour of groups (Range: 0 to 6; 
Default: 0)
	<blockquote>
	<b>0</b> mixture of the other types (Default)<br>
	<b>1</b> crescendo<br>
	<b>2</b> flat (no change)<br>
	<b>3</b> decrescendo<br>
	<b>4</b> crescendo or flat<br>
	<b>5</b> crescendo or decrescendo<br>
	<b>6</b> decrescendo or flat
	</blockquote>
<i>multlo, multhi</i> &#150; smallest &amp; largest multiplier of total 
input duration of motif<br>
<b>-a</b><i>atten</i> &#150; overall attenuation of the output<br>
<b>-p</b><i>position</i> &#150; centre of sound output image (Range: 
0 to 1, where 0 is Left and 1 is Right;  Default: 0.5)<br>
<b>-s</b><i>spread</i> &#150; spatial spread of texture events (Range: 
0 to 1, where 1 is full spread)<br>
<b>-r</b><i>seed</i> &#150; the same <i>seed</i> number will produce the 
same result on rerun (Default: 0, where 0 is different result each time)<br>
<b>-w</b> &#150; always play whole input sound, ignoring duration values<br>
<b>-d</b> &#150; motif notes all have the same duration as the 
timing note<br>
<b>-i</b> &#150; motif is not each confined to a fixed instrument 
(Default: fixed)<br><br>

<b> All parameters except <i>notedata, outdur, skiptime</i> and <i>seed</i> may vary over time.</b>
</blockquote>


<h3 id="#TMOTUND"><b>Understanding the TEXTURE TMOTIFS Process</b></td>
</h3>

<blockquote>
	<i>TEXTURE TMOTIFS enables us to create fully defined motifs 
	which begin to play according to the times in a rhythmic 
	template.  These will draw their pitches either from a pitch 
	range (Mode <b>5</b>) or from a Harmonic Field&#47;Set (Modes 
	<b>1 - 4</b>).</i>
	
<p>
In TGROUPED we found that the rhythmic template repeated without very 
much definition because we could not set the amplitude at specific 
time points.  TMOTIFS enables us to create fully defined musical figures, 
thus providing a useful spectrum in the 'timed' group of functions from 
random to fully specified.
</p>
<p>
	<blockquote>
	<b>All the examples for TEXTURE TMOTIFS can be made by running 
	<i>tmotiexs.bat</i> from the DOS prompt.  The soundfiles produced 
	can be deleted with <i>tmotidel.bat</i>.</b>
	</blockquote>
</p>

<p>
Our first example, then, simply creates a 6-note figure which repeats 
on a rhythmic template of compressing durations: 3-2-1-0.5 seconds, 
giving us the onset template of onsets at 0, 3, 5, 6, and 6.5 seconds.  
<i>Ndftmo1.txt</i> sets this template and an easily recognisable 
musical figure:
	<pre><code>
	60
	#5
	0.0 1 0 0 0
	3.0 1 0 0 0
	5.0 1 0 0 0
	6.0 1 0 0 0
	6.5 1 0 0 0
	#6
	0.000 1 63 70 0.4
	0.167 1 62 65 0.3
	0.334 1 60 60 0.3
	0.500 1 62 65 0.4
	0.667 1 60 60 0.3
	0.834 1 59 55 0.3
	</code></pre>

	<blockquote>
	<b>TMOTIFS Example 1</b> (Preset&#47;Patch <b>tmotif1&#47;tmotiex1</b>): <br>
		... outdur (21) skiptime (3.5)<br>
	snd1st (1) sndlast (1) mingain (40) maxgain (80)<br>
	minpich (48) maxpich (84)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	multlo (1) multhi (1)<br>
	[-aatten -ppos -ssprd -rseed -w -d -i]<br>
	<code>texture tmotifs 5 marimba <a href="txsnds\tmotiex1.mp3"><b>tmotiex1</b></a> 
	ndftmo1.txt 21 3.5 1 1 40 80 48 84 0 1 1 0 0 1 1</code>
	</blockquote>

<b>We hear</b> a dynamically shaped semi-quaver sextuplet motif get closer 
together and, because each motif is 1 second long, there is an overlap of 
&#189; second at 6.5 seconds.  Longer note durations in the note data file 
(up to the length of the input soundfile) will produce more resonance due 
to a greater note event overlap within the motifs.
</p>

<p>
Let's look at the time between repeats very closely, as it is musically  
useful to understand this accurately.  The <i>skiptime</i> parameter is 
the time between repetitions of the rhythmic template, which <i>Sound 
Loom</i> refers to as the 'pause between line repeats'.  <b>This is 
calculated from the <i>onset</i> of the last motif, i.e., the last of the 
timing template nodes.</b>  The program does not take into account how 
long the motif is, so this <i>skiptime</i> pause does <i>not</i> begin 
at the end of the last motif, but rather at its beginning.  (If it did 
begin at the end, this would prevent any overlapping of the last motif 
and the start of the next repetition of the template.)
</p>

<p>
The last motif in the Example 1 template begins at 6.5, lasts for 1 second 
and ends at 7.5.  The 3.5 second <i>skiptime</i> pause therefore starts 
at 6.5 and ends at 10.0.  Thus the repeat begins at 10 seconds.  
Suggestion:  When counting this out while listening to the output 
soundfile, remember to start the count at 0 as in the note data file so 
that your count will match the numbers in the file.
</p>

<p>
Thus we could see that a <i>skiptime</i> pause of 0.5 seconds would cause 
the template to begin again at 7.0 seconds, overlapping the last motif by 
&#189; second.  Try it!  With longer and more harmonically oriented 
motifs, this overlap potential can become musically significant.
</p>

<p>
The motif duration multiplier <i>multlo&#47;hi</i> alters the speed of 
the motifs, but not of the timing template.  A range from 0.5 (twice as 
fast) to 2.0 (twice as slow) introduces more variety of tempo into the 
output.  Also note that it changes the overlaps considerably.
</p>

<p>
A second example introduces the use of a Harmonic Field&#47;Set and seeks 
to play with the overlaps which may occur.  <i>Ndftmo2.txt</i> creates a 
timegrid equally spaced at &#189; sec. and revises the motif to form a 
3 second arpeggio on various thirds.  The harmonic set comprising pitches 
which belong to the motif itself leads to transpositions which create 
intervals of 3<sup>rd</sup> as the 3 second motifs overlap on a &#189; 
second rhythmic template.
	<pre><code>
	60
	#5
	0.0 1 0 0 0
	0.5 1 0 0 0
	1.0 1 0 0 0
	1.5 1 0 0 0
	2.0 1 0 0 0
	#9
	0.0 1 52 60 0
	0.0 1 55 60 0
	0.0 1 58 60 0
	0.0 1 61 60 0
	0.0 1 63 60 0
	0.0 1 66 60 0
	0.0 1 68 60 0
	0.0 1 72 60 0
	0.0 1 75 60 0
	#18
	0.000 1 52 70 0.4
	0.167 1 55 65 0.3
	0.334 1 58 60 0.3
	0.500 1 55 65 0.4
	0.667 1 58 60 0.3
	0.834 1 61 55 0.3
	1.000 1 58 70 0.4
	1.167 1 61 65 0.3
	1.334 1 63 60 0.3
	1.500 1 61 65 0.4
	1.667 1 63 60 0.3
	1.834 1 66 55 0.3
	2.000 1 63 70 0.4
	2.167 1 66 65 0.3
	2.334 1 68 60 0.3
	2.500 1 66 65 0.4
	2.667 1 68 60 0.3
	2.834 1 72 55 0.3
	
	</code></pre>
	<blockquote>
	<b>TMOTIFS Example 2a&#47;b</b> (Preset&#47;Patch <b>tmotif2a, &b&#47;
	tmotiex2</b>): <br>
	(In <i>Sound Loom</i> use <b>tmotiex2</b>, making the parameter changes 
	described below to create the 'b' example.)<br>
	... outdur (21) skiptime (0.5)<br>
	snd1st (1) sndlast (1) mingain (40) maxgain (80)<br>
	minpich (48) maxpich (84)<br>
	phgrid (0) gpspace (1) gpsprange (1) amprise (0) contour (0)<br>
	multlo (1) multhi (1)<br>
	[-aatten -ppos -ssprd -rseed -w -d -i]<br>
	<code>texture tmotifs 3 marimba <a href="txsnds\tmotiex2a.mp3"><b>tmotiex2a</b></a> 
	ndftmo2.txt 21 0.5 1 1 40 80 48 84 0 1 1 0 0 1 1</code><br>
	<code>texture tmotifs 3 marimba <a href="txsnds\tmotiex2b.mp3"><b>tmotiex2b</b></a> 
	ndftmo2.txt 21 0.75 1 1 40 80 48 84 0 1 1 0 0 1 1</code>
	</blockquote>

<b>We hear</b> the motif rising repeatedly without a break.  The 
<i>skiptime</i> of 0.5 sec. added to the final time node of 2.0 sec 
means that the time pattern repeats starting at 2.5 sec.  Thus the 
&#189; second time intervals is smoothly maintained.  The similarity of 
motif and field in harmonic design leads to the interval of a third 
sounding as a simultaneity as the motifs overlap.  The 'b' example makes 
only one change: 0.25 is added to the <i>skiptime</i>.  This &#188; 
second offset starts to produce semiquaver (16<sup>th</sup> note) 
offsets when the rhythmic template repeats.
</p>

<p>
As with MOTIFS and MOTIFSIN, the harmonic field or set is used in two 
different ways:
	<ul>
	<li>MOTIFS: just the first note of the motif is placed on the 
	harmonic grid, with all the pitches of the motif itself being 
	accurately transposed from that reference point;</li>
	<li>MOTIFSIN: all the notes of the motif are constrained to the 
	harmonic grid, warping the motif to do so.</li>
	</ul>
</p>

<p>
Also see some further observations about starting off motifs on the 
<a href="#SAMESTARTPCH">same pitch each time</a>.
</p>
</blockquote>

<h3 id="TMOTAPP">Musical Applications</h3>
<blockquote>

<p>
The range of possibilities in the TEXTURE set provides facilities for 
remarkably varied musical situations.  In particular, there is a balance 
between random selection and fully defined musical figures.  Always 
there are constraints within which random selections are made, such 
as parameter ranges and harmonic fields or sets, and all of these can 
vary through time. In addition you are not constrained to use the pitches 
of the tempered scale &#150; fractional MIDI values will give you any 
tuning you desire.  Thus, while it is possible to duplicate MIDI sequencer 
type fully defined pitch and rhythmic relationships, it is also possible to 
use the algorithmic potential of this software to move beyond towards freer 
forms of texture design, designs often very suitable for sounds of a more 
'natural' character, i.e., with limited pitch content.
</p>

<p>
For example, you may move from a dense apparently unpitched texture, 
(using a very small packing time and a wide pitch range, but with no 
harmonic field specified &#150; Mode <b>5</b>) then gradually narrow the 
pitch range to (close to) a single pitch.  In this way the unpitched 
band becomes gradually focused on a pitch (provided your source material 
has some pitch content).  You can also take any sound of complex 
quality (e.g. speech) and by creating a very dense texture by using a 
very small packing time, 'white out' the texture, producing a band of 
undifferentiated noise. By varying the packing time you can then pass 
between the noise band and a texture of voices.
</p>

<p>
Thus the DECORATED group defines a 'line' (nodal substructure), but 
the decorations themselves are formed by (constrained) random selections.  
Complementing this is the ORNATE group, which enables you to place 
fully defined figures ('ornaments') on this 'line', with the option to 
constrain the pitches of the figure(s) to a harmonic grid.
</p>

<p>
Similarly, MOTIFS makes fully defined motifs possible, but the 'line' 
feature is removed.  Thus the motifs will begin either on a pitch 
selected at random from a pitch range, or selected at random from a 
harmonic grid.  In MOTIFS only the first pitch of the motif is 'forced' 
onto this grid, and in MOTIFSIN, all the pitches of the motif are 
forced onto the grid, warping the figure if necessary to do so.  
</p>

<p>
TMOTIFS&#47;TMOTIFSIN complements the 'line' feature of DECORATED and 
ORNATE with a <b>timing grid</b>, so that the motifs can be made to 
begin at specified times.  This opens up possibilities such as controlled 
overlaps, variations in density, and interval control.  The relationship 
between the timing grid, the intervals in the harmonic grid, the 
intervals in the motif itself, the time between the onset of the 
last motif on the grid and the rerun of the grid pattern (<i>skiptime</i>), 
and the tempo control (the motif duration multiplier <i>multlo&#47;hi</i>) 
&#150; all affect the overall result and provide a wonderfully flexible 
environment for designing musical textures.
</p>

<p>
Furthermore, as we are working in the context of sound transformation 
software, it will be normal to apply the designs to inharmonic input 
soundfiles with little or no clearly defined pitch content.  In this 
case the timing and pitch contours control 'washes' of sound and 
timbral colour.
</p>
</blockquote>

<p>
End of TEXTURE TMOTIFS &#47; TMOTIFSIN<br>
<a href="#TEXTURELIST"><b>Return</b></a> to list of TEXTURE functions at top 
of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cgroundx.htm" Target="_top"><b>Return</b></a> 
to 'Groucho' Time-Domain Index
</p>


<!-- ********************************************************** -->
  <div id = "footer">
   <p>
    <address>
    Last Updated 22 June 2023 for CDP8<br />
    Documentation: Archer Endrich<br />
    Revisions: Robert Fraser<br>
    All observations &amp; ideas for improvement appreciated<br />
    Composers Desktop Project Ltd<br />
    Email: cdpse9@gmail.com<br />
    &#169; Copyright 1998-2023 Archer Endrich &amp; CDP<br>
    </address>
   </p>
  </div>

</div> <!-- End of 'right' (contents) indentation -->

</body>

</html>