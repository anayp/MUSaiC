<!DOCTYPE html>
<html lang="en">
<!-- cstrange.htm  - HTML5 version -->
<html>

<head>
<title>CDP STRANGE Functions</title>
<meta charset="UTF-8" />
	<link rel = "stylesheet"
	 type = "text/css"
	 href = "cdpmanshtml5.css" />
  <link rel="icon"  href="images/cdp_favicon.ico">
    <style>
	a { text-decoration: none }
	a:hover { color:#FF3333;
          text-decoration: underline }          	
    </style>
</head>

<body>

<div id = "left"> <!-- Keep indexing on left ABOVE headlines so index goes to top of page -->

  <p>
  <div align = "center">
  <IMG SRC = "images/cdpcircs90.jpg"></a>
  </div>
  </p>

  <p>
  <nav>
  <!-- list-style-type NOT removing bullets in IE9, using Definition List -->
  <dl>
  <dt><a href="ccdpndex.htm" Target="_top"><b>Main Index</b></a>
  <dt><a href="cspecndx.htm" Target="_top"><b>Spectral Index</b></a> 
  <dt><a href="filestxt.htm" Target="_blank"><b>File Formats</b></a>
  <hr>
  <br />
  <dt><a href="#STRANGELIST"><b>STRANGE:</b></a>
  <dt>&nbsp;&nbsp;<a href = "#GLIS"><b>GLIS</b></a>
  <dt>&nbsp;&nbsp;<a href = "#INVERT"><b>INVERT</b></a>
  <dt>&nbsp;&nbsp;<a href = "#SHIFT"><b>SHIFT</b></a>
  <dt>&nbsp;&nbsp;<a href = "#WAVER"><b>WAVER</b></a>
  <!-- 
  <br /><br /> 
  <dt><a href = "#STRANGETECHNICAL"><b>Technical</b></a>
  <br /><br />
   -->
  </dl>
  </p>

</div>  <!-- End of left index panel -->

<div id = "right"> <!-- Keep headlines here so index goes to top of page -->

   <div id = "head">

   <!-- 
   <p><IMG SRC="images/cdpcircs.jpg" align=left ALT="CDP circles logo"></a></p>
   -->
   <div align=center>
   <br>
   <img src="images/cdplogo2.jpg" ALT="CDP Logo">
   </div>

   <h1 align=center>
   CDP Functions for STRANGE Effects</h1>
   <h2 align=center><font color="#3366ff"> (with Command Line Usage)</font></h2>
   </div>  <!-- End of 'head' -->


<!-- ========================================================================= -->
<h2 align = "center" id="STRANGELIST">Functions to Create STRANGE Relationships Between Partials</h2>

<dl>
<dt><a href="#GLIS"><b>GLIS</b></a><dd>Create glissandi inside the (changing) spectral envelope of the original sound </dd>
<dt><a href="#INVERT"><b>INVERT</b></a><dd>Invert the spectrum </dd> 
<dt><a href="#SHIFT"><b>SHIFT</b></a><dd>Linear frequency shift of (part of) the spectrum </dd>
<dt><a href="#WAVER"><b>WAVER</b></a><dd>Oscillate between harmonic and inharmonic state </dd>
<!-- 
<dt><a href="#STRANGETECHNICAL"><b>Technical Discussion</b></a> <dd>of some unusual 
effects
 -->
</dl>

<hr><!-- ****************************************************** -->

<h2 id="GLIS">STRANGE GLIS &#150; create glissandi inside the (changing) 
spectral envelope of the original sound</h2>

<h3>
Usage
</h3>
<b>strange glis 1</b> <i>infile outfile</i> <b>-f</b><i>N</i>&#124;
<b>-p</b><i>N</i> [<b>-i</b>] <i>glisrate</i> <b>-t</b><i>topfrq</i>
<br>
<b>strange glis 2</b> <i>infile outfile</i> <b>-f</b><i>N</i>&#124;
<b>-p</b><i>N</i> [<b>-i</b>] <i>glisrate</i> <i>hzstep</i> 
<b>-t</b><i>topfrq</i>
<br>
<b>strange glis 3</b> <i>infile outfile</i> <b>-f</b><i>N</i>&#124;
<b>-p</b><i>N</i> [<b>-i</b>] <i>glisrate</i> <b>-t</b><i>topfrq</i>
<br>


<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Shepard tones<br>
<b>2</b>&nbsp; inharmonic glide<br>
<b>3</b>&nbsp; self-glissando<br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input analysis file made with PVOC<br>
<i>outfile</i> &#150; output analysis file<br>
<b>-f</b>  extract formant envelope linear frequency-wise, using 
1 point for every <i>N</i> equally-spaced frequency-channels<br>
<b>-p</b>  extract formant envelope linear pitchwise, using <i>N</i> 
equally-spaced pitch-bands per octave<br>
<b>-i</b> quicksearch for formants (less accurate)<br>
<i>glisrate</i> rate of glissing in semitones per second (negative value 
for downward glissando)<br>
<i>hzstep</i> partials spacing in inharmonic glide.  Range:  FROM 
channel-frq-width (usually 43Hz) TO Nyquist&#47;2 (i.e., &#188; the 
sample rate)<br>
<b>-t</b><i>topfrq</i> top of spectrum:  must be &gt; 2*channel width 
of the analysis.  Default:  Nyquist (i.e., &#189; the sample rate)<br>
</blockquote>

<h3>
Understanding the STRANGE GLIS Process
</h3>
<blockquote>

<p>
This program extracts the time-changing spectral contour (the spectral 
trajectory) of the sound.  It therefore retains any spectral articulation, 
such as patterns of speech, but replaces the signal by an endlessly 
rising (positive values for <i>glissrate</i>) or falling (negative 
values for <i>glissrate</i>) shepard tone or inharmonic glissando.  It 
uses linear interpolation in determining the spectral contour.<br>
</p>

<p>
In Mode <b>1</b> (Shepard tones) 
<blockquote>the key parameter appears to be <i>glissrate</i>.  A 
high positive or negative value (e.g., + or -50) introduces quite a 
bit of noise into the sound, whereas a low value such as 0.3 results in 
a twangy vibrating sound.
</blockquote>
</p>

<p>
In Mode <b>2</b> (inharmonic glissando) 
<blockquote>the two most salient parameters are <i>glissrate</i> 
and <i>spacing</i>.  Higher postive or lower negative values for 
<i>glissrate</i>, e.g., +24 or -24, +100 or -100, gives a very rapidly 
cycling glissando (a pretty mushy twang).  Low values for <i>spacing</i> 
(e.g., 45) gives a fairly deep twang, whereas high values, e.g. 1101, 
results in a rather hollow sound.
</blockquote>
</p>

<blockquote>
<p>
The number of channels (frequency-wise formant extraction) or bands per 
octave (pitchwise) affects the resolution of the analysis without changing 
the resulting sound effect very much, and adjusting the top frequency can 
offer a certain degree of filtering control.
</p>
</blockquote>

<p>
In Mode <b>3</b> (self-glissando) 
<blockquote>the original tonal quality of the sound is largely preserved, 
especially with low values for <i>glissrate</i>.  With higher values of 
<i>glissrate</i>, a higher, somewhat hollow glissando is added to the 
sound, otherwise very much like the original input.
</blockquote>
</p>

</blockquote>

<h3>
Musical Applications
</h3>
<blockquote>

<p>
In effect, the original sound is replaced by the glisandoing tone, 
but the articulations of the original are retained, i.e., the rhythm 
and attack transients of the spectral envelope are notably the same.  
However, the tone of the sound is greatly altered, acquiring in Mode 
<b>2</b> as noted above a mushy twang with low values for <i>spacing</i> 
and a rather hollow vibrating sound with higher values for <i>spacing</i>.  
One set of trials on a low drum sound transformed it into something not 
unlike a didgerdoo.
</p>

<p>
Because formants are involved, input sounds with significant resonance 
features work well with this function, e.g., vocal and some drum sounds, 
especially those lower in the frequency range.
</p>
</blockquote>

End of STRANGE GLIS<br>
<a href="#STRANGELIST"><b>Return</b></a> to List of strange functions at 
top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="INVERT">STRANGE INVERT &#150; invert the spectral envelope
</h2>

<h3>
Usage
</h3>
<b>strange invert mode</b> <i>infile outfile</i>
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Normal inversion<br>
<b>2</b>&nbsp; Output sound retains the amplitude envelope of the source sound<br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input analysis file made with PVOC<br>
<i>outfile</i> &#150; output analysis file<br>
</blockquote>

<h3>
Understanding the STRANGE INVERT Process
</h3>
<blockquote>

<p>
STRANGE INVERT is derived from an idea developed by Allen Strange. It inverts the spectral envelope, relative to the overall spectral envelope.  This means that the energy asociated with the highest frequency bands is transferred to the lowest ones and vice versa. As the lowest partials in many sounds have the greatest amplitude and the highest ones the least, the result is typically a much brighter timbre. Mode 2 retains the <i>amplitude</i> envelope of the sound, so will sound closer to the original, with just the timbral change. 
</p>

<p>
STRANGE INVERT does NOT invert the frequencies themselves. 
For this see <a href="cspecnu.htm#SLICE">SPECNU SLICE</a>, Mode 5. 
</p>

<p>
This function was formerly SPEC INV, which required that its <i>infile</i> 
be generated by SPEC BARE (zeros channels which don't contain harmonics).  
The SPEC BARE function is now built into STRANGE INVERT, meaning that 
the result may have more of a 'harmonic' quality than it might have.  
This will be related to the degree that the original sound was distinctly 
pitched.  The main reason for including the BARE function, however, was 
simply to make the spectrum 'easier to manipulate'; it doesn't go so 
far as to harmonise the sound as such (see the PITCH functions for this).
</p>
</blockquote>


<h3>
Musical Applications
</h3>
<blockquote>

<p>
The spectral envelope is shaped by the amplitude level of the various 
frequencies, changing through time.  Inverting this shape should reduce 
the level of some frequencies, while making others more prominent.  
So what should be most noticeable would be a timbral 
change in the sound, perhaps deeper and richer in character.  But it 
will be important to explore the possibilities by submitting different 
types of source to it, ranging from strong, focussed pitches, to sounds 
of a more amorphous nature.
</p>
</blockquote>

<p>
End of STRANGE INVERT<br>
<a href="#STRANGELIST"><b>Return</b></a> to List of STRANGE functions at 
top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="SHIFT">STRANGE SHIFT &#150; Linear frequency shift of (part of) 
the spectrum</h2>

<h3>
Usage
</h3>
<b>strange shift 1</b> <i>infile outfile frqshift</i> [<b>-l</b>]<br>
<b>strange shift 2-3</b> <i>infile outfile frqshift frqdivide</i> 
[<b>-l</b>]<br>
<b>strange shift 4-5</b> <i>infile outfile frqshift frqlo frqhi</i> 
[<b>-l</b>]<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Shift the whole spectrum<br>
<b>2</b>&nbsp; Shift the spectrum above frq_divide<br>
<b>3</b>&nbsp; Shift the spectrum below frq_divide<br>
<b>4</b>&nbsp; Shift the spectrum only inside the range <i>frqlo &shy; frqhi</i><br>
<b>5</b>&nbsp; Shift the spectrum only outside the range <i>frqlo &shy; 
frqhi</i><br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input analysis file made with PVOC<br>
<i>outfile</i> &#150; output analysis file<br>
<i>frqshift</i> linear shift in Hz of spectral frequencies (same for 
all);  for downward shifts, use <i>-frqshift</i>, i.e., a negative 
value (Range: -22050 to 22050)<br>
<i>frq_divide</i> frequency at which the shifting starts or stops<br>
<i>frqlo &shy; frqhi</i> define a range inside or outside of which 
shifting takes place<br>
<b>-l</b> logarithmic interpolation between varying frequency values 
(Default:  linear).<br>
(The <b>-l</b> option is useful only if any of the above input parameters 
are time-varying, AND <i>frqshift</i> values must be all positive or all 
negative for this to work.)<br>
	<p>
	<blockquote> <i>frqshift, frq_divide, frqlo</i> and <i>frqhi</i> 
	may vary over time<br>
	</blockquote>
	</p>
</blockquote>

<h3>
Understanding the STRANGE SHIFT Process
</h3>
<blockquote>

<p>
The fact that this shift is linear means that it will produce inharmonic 
results: it will alter any harmonic relationships between partials.  The 
linear (i.e., additive) change distorts harmonic relationships and musical intervals, which are based on multiplication. An upwards shift reduces the intervals between partials, while a downwards shift stretches them.
</p>
</blockquote>

<h3>
Musical Applications
</h3>
<blockquote>

<p>
This function can be used to create major alterations in the timbral 
character of a sound.  A shift upwards will emphasise high frequencies 
in a way which makes a dense, inharmonic sound.  A shift downwards will 
produce a deeper, more gong-like sound.
</p>
</blockquote>

<p>SEE ALSO: <a href="cspecfnu.htm#FREQSHIFT"> <b>SPECFNU Mode 13</b></a>, which frequency-shifts partials under formants
</p>

<p>
End of STRANGE SHIFT<br>
<a href="#STRANGELIST"><b>Return</b></a> to List of strange functions at 
top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<hr><!-- ****************************************************** -->

<h2 id="WAVER">STRANGE WAVER &#150; Oscillate between harmonic and 
inharmonic state</h2>

<h3>
Usage
</h3>
<b>strange waver 1</b> <i>infile outfile vibfrq stretch botfrq</i><br>
<b>strange waver 2</b> <i>infile outfile vibfrq stretch botfrq expon</i><br>
<br>

<h3>
Modes
</h3>

<blockquote>
<b>1</b>&nbsp; Standard spectral stretching for inharmonic state<br>
<b>2</b>&nbsp; Specify spectral stretching for inharmonic state<br>
</blockquote>

<h3>
Parameters
</h3>

<blockquote>
<i>infile</i> &#150; input analysis file made with PVOC<br>
<i>outfile</i> &#150; output analysis file<br>
<i>vibfrq</i> the frequency of oscillation, i.e., number of oscillations 
per second. (Range: 1/infile_duration to 172.265628)<br />
<i>stretch</i> the maximum spectral stretch in the inharmonic state 
(Range: 1 to 2205)<br />
<i>botfrq</i> the frequency above which spectral stretching happens<br />
<i>expon</i> defines the type of stretch (must be &gt; 0)<br />
	<p>
	<blockquote>
	<i>vibfrq</i> and <i>stretch</i> may vary over time<br />
	</blockquote>
	</p>
</blockquote>

<h3>
Understanding the STRANGE WAVER Process
</h3>
<blockquote>

<p>
STRANGE WAVER introduces an oscillation towards and 
away from 'inharmonicness' in the spectrum of a sound.  The program 
moves towards inharmonicness by means of the <i>stretch</i> factor.  The 
rate of oscillation, <i>vibfrq</i>, can be fixed or time-varying, using 
a <i>time vibfrq</i> breakpoint file.  The effect can be very much like a 
frequency vibrato &#150; it depends on the relationship between 
<i>vibfrq</i> and <i>stretch</i>.
</p>

<p>
The minimum value for <i>vibfrq</i> is related to the duration of the 
<i>infile</i>:  <b>1/infile_duration</b>.  Thus, durations less than 
1 result in a minimum <i>vibfrq</i> which is &gt; 1, and durations 
greater than 1 result in a minimum <i>vibfrq</i> which is less than 1.  
<i>Vibfrq</i> will always be greater than 0.  The 0.32 minimum value 
recommended in <i>SoundShaper</i> is for an input file of about 3 sec 
duration.  Longer input files will result in a lower a lower acceptable 
minimum value.  For example, a 10 second file will have a minimum value 
of 0.1 sec.  Whether you would want the effect to operate at this rate 
is another matter.
</p>

<p>
<i>Vibfrq</i> values greater than 24 start to produce a 'flutter' effect.
</p>

<p>
Higher <i>stretch</i> values will raise the perceived pitch of the output.
</p>

<p>
The <i>stretch</i> factor affects the spectral character of the sound, 
but does not alter the length &#150; it is not a time-stretch.  Take care 
with the <i>stretch</i> parameter:  this function can produce 'wispy' 
artefacts which higher values will tend to increase.
</p>

<p>
The <i>vibfrq</i> and <i>stretch</i> factors interact in a very 
interesting way, which is well worth exploring.
</p>
</blockquote>

<h3>
Musical Applications
</h3>
<blockquote>

<p>
This progam is a useful way to create vibrato and flutter effects, 
especially via the <i>vibfrq</i> parameter.  However, a very low 
<i>vibfrq</i> combined with a rather high <i>stretch</i> produces 
something quite different.
</p>
</blockquote>

<p>
End of STRANGE WAVER<br>
<a href="#STRANGELIST"><b>Return</b></a> to List of strange functions at 
top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>

<!-- <hr> --> <!-- ****************************************************** -->
<!-- 
<p>
<h2 id="STRANGETECHNICAL">Technical Discussion of some unusual effects</h2>

<p>
End of Technical Discussion<br>
<a href="#STRANGELIST">Return</a> to List of strange functions at 
top of this file<br>
<a href="ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.<br>
<a href="cspecndx.htm" Target="_top">Return</a> 
to Spectral Index
</p>
 -->


<!-- ********************************************************** -->
  <div id = "footer">
   <p>
    <address>
    Last Updated 4 Apr 2023 for CDP8<br />
    Documentation: Archer Endrich<br />
    Revisions: Robert Fraser<br>
    All observations &amp; ideas for improvement appreciated<br />
    Composers Desktop Project Ltd<br />
    Email: cdpse9@gmail.com<br />
    &#169; Copyright 1998-2023 Archer Endrich &amp; CDP<br>
    </address>
   </p>
  </div>

</div> <!-- End of 'right' (contents) indentation -->

</body>

</html>