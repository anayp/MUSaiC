<!DOCTYPE html>
<html lang="en">
<!-- cbrkedit.htm  - HTML5 version -->
<html>

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>CDP BRKEDIT Graphic Editor</title>
<meta charset="UTF-8" />
	<link rel = "stylesheet"
	 type = "text/css"
	 href = "cdpmanshtml5.css" />
<link rel="icon"  href="images/cdp_favicon.ico">
    <style>
	a { text-decoration: none }
	a:hover { color:#FF3333;
          text-decoration: underline }          	
    </style>
</head>

<body>

<div id = "left"> <!-- Keep indexing on left ABOVE headlines so index goes to top of page -->

  <p>
  <div align = "center">
  <IMG SRC = "images/cdpcircs90.jpg"></a>
  </div>
  </p>

  <p>
  <nav>
  <!-- list-style-type NOT removing bullets in IE9, using Definition List -->
  <dl>
  <dt><a href="ccdpndex.htm" Target="_top"><b>Main Index</b></a>
  <dt><a href="cgroundx.htm" Target="_top"><b>'Groucho' Index</b></a> 
  <dt><a href="filestxt.htm" Target="_blank"><b>File Formats</b></a>
  <hr>
  <br />
  <dt><a href = "#CONTENTSTABLE"><b>CONTENTS</b></a>
  <br><br>
  <dt><a href="#BRKINTRO"><b>INTRODUCTION</b></a>
  <dt><a href = "#FILE"><b>STARTUP</b></a>
  <dt><a href = "#OPERATE"><b>OPERATE</b></a>
  <dt><a href = "#ZOOM"><b>ZOOM&#47;SCROLL</b></a>
  <dt><a href = "#PLAYIT"><b>PLAY</b></a>
  <dt><a href = "#EDIT"><b>EDIT</b></a>
  <dt><a href = "#OPTIONS"><b>SETTINGS</b></a>
  <dt><a href = "#HELP"><b>HELP</b></a>

  <br /><br /> 
  <hr>
  <dt><a href="cgrnmill.htm"><b><i>GrainMill</i> Reference</b></a>
  </dl>
  </p>

</div>  <!-- End of left index panel -->

<div id = "right"> <!-- Keep headlines here so index goes to top of page -->

   <div id = "head">

	<div align=center>
	<img src="images/cdpcircs.jpg" align=left ALT="CDP circles logo">
	</div>
     <!--
     <div align=center>
     <br>
     <img src="images/cdplogo2.jpg" ALT="CDP Logo">
     </div>
     -->

   <h1 align=center>BRKEDIT Reference Manual</h1>
   <h2 align=center>by Archer Endrich</h2>
<!-- ========================================================================= -->
<p>
<div align = "center" id="CONTENTSTABLE">
<table border="2" cellpadding="10" bgcolor="#B0E0E6">
<tr>
	<td><a href="#FILE">Startup, Save &amp; Compare</a></td>
	<td><a href="#OPERATE">Operating the Editor</a></td>
	<td><a href="#ZOOM">Zoom&#47;Scroll</a></td>
	<td><a href="#PLAYIT">Play</a> (Audition)</td>
</tr>
<tr>
	<td><a href="#EDIT">The Edit Menu</a></td>
	<td><a href="#OPTIONS">The Settings Menu</a></td>
	<td><a href="#HELP">The Help Menu</a></td>
	<td><br></td>
</tr>
</table>
</div>
</p>

   </div>  <!-- End of 'head' -->

<!-- ========================================================================= -->
<h2 id="BRKINTRO">Introduction</h2>

<p>
The BRKEDIT program was written by Richard Dobson, building on an 
initial program coded by Martin Atkins.  It is designed for use with 
the CDP System, which provides a large number of time-varying parameters 
with which to shape sound.  In particular, note the VERTICAL RANGE 
facility in the EDIT menu.  This enables you to adapt the numerical 
range to that of the parameter for which you are creating the file.  
Also note the <b>Get length from soundfile</b> option in LENGTH of 
the EDIT menu, with which you can have the program automatically scale 
your breakpoint file to the length of a specific soundfile.
</p>

<p>
The current version of this Reference Manual is intended for use as 
a separate HTML file accessed by double-clicking on the name of the 
file, which is 'gbrkedit.htm'.  It is also accessed in another way 
from within the <i>GrainMill</i> HTML documentation.
</p>

<p>
<a href="#CONTENTSTABLE"><b>Return</b></a> to list of topics
</p>

<h2 id="FILE">The FILE Menu &#150; Startup, Save &amp; Compare</h2>

<p>
You begin by double-clicking on the name or icon of the program, or by 
summoning it from within another program (such as <i>GrainMill</i>) if 
this facility is available.  The BRKEDIT display screen comes up, with 
a default breakpoint file in place as a starting point.
</p>

<p>
As shown by the FILE dropdown menu, you can the proceed in three ways:

<ol>
<li><b>NEW</b> &#150; create a new breakpoint file, or</li> 
<li><b>OPEN</b> &#150; open an existing breakpoint (text) file, or</li> 
<li><b>EXTRACT FROM SFILE</b> &#150; extract an amplitude envelope from an 
existing soundfile.  Note the <b>Hide Span Handles</b> option above the 
main display.  Ticking option will remove the black squares 
marking the breakpoints.  An extracted soundfile may have 10's or 100's 
of these all bunched together, so it is sometimes useful to see the 
breakpoint shape without them.  Ticking on 'Hide Span Handles' again 
will remove the tick and restore the black squares: the button is a 
toggle.</li>
</ol>

</p>

<p>
There are three different ways in which your breakpoint file can be saved:

<ol>
<li><b>SAVE</b> &#150; saves as a text file of separate lines containing the 
data pair <i>time amplitude_value</i>.  The nature of the amplitude value 
is affected by the way the vertical range has been set.</li>

<li><b>SAVE EXTENDED</b> &#150; save in extended format.  This is a textfile 
which contains additional text information about the types of span used.  
For example, you will see a line such as the following:
	<blockquote>
	<code>0.476079 0.411255 exp 5.500000</code>
	</blockquote>
These show, from left to right:  time, amplitude value, line type, and 
line setting.  The default linear line type is left blank.

	<blockquote>
	<p>
	In both these SAVE options, you are prompted to enter a 
	filename.  The default extension is '.brk'.  This is not 
	mandatory, but has the advantage that all .brk files are 
	automatically displayed when OPEN is selected.
	</p>

	<p>
	You can save to the same name if you wish.  You are notified that 
	the file already exists and asked if you wish to overwrite it.
	</p>
	</blockquote></li>

<li><b>SAVE AS AUDIO</b> &#150; saves the breakpoint shape as an audio 
soundfile.  This will save in the mode (Amplitude oe Frequency) in which 
you are currently auditioning the shape.  You can set the Sample Rate and 
the Sample Type in the SETTINGS menu under OPTIONS.  Sample rates available 
are 96000, 88200, 48000, 44100, 32000, 22050, 18000 and 11025.  Sample 
type can be 16-bit short or 32-bit float.</li>
</ol>
</p>

<p>
It is also possible to compare the breakpoint shape you are making with 
one which has been made and stored previously.
<ol>
<li><b>COMPARE WITH ...</b></li>
	<ul>
	<li>Click on COMPARE WITH ... in the FILE menu to selct and open 
	a second breakpoint file.  It will be shown in red.</li>

	<li>Data relating to this second file is now displayed in the 
	'Compare File' box at the left above the breakpoint display.  
	It is likely to have a duration and range which is different from 
	that of the file you're working on (the range is shown with the 
	'Data maxval' and 'Data minval' fields), but by default the 
	<b>display</b> shows it as it originally appeared on the screen.  
	'View maxval' and 'View minval' shows what the view range of the 
	comparison file actually was.</li>

	<li>If you click on the <b>Align Vertical</b> button, the vertical 
	range setting is altered to match that of whichever of the two 
	files has the largest vertical range &#150; you see the 'View 
	maxval' and 'View minval' fields alter accordingly.  You can then 
	see the ranges of the two files proportional to one another within 
	the same range.  The vertical range can then be adjusted, if you 
	wish, so that you can view the two, now related, ranges within any 
	chosen vertical range.</li>

	<li>If you click on the <b>Align Horizontal</b> box, the display now 
	adjusts the comparison file so as to show its true time location 
	within the duration of the current breakpoint file on which you are 
	working.</li>

	<li>Both of these facilities are especially useful when working 
	with breakpoint files for low and high range limits, because 
	they are not supposed to cross into each other's territory during 
	the same period of time.</li>

	<li>You can also extract the envelope of a soundfile as a breakpoint 
	file (FILE, EXTRACT FROM SFILE) and in this way see your breakpoint 
	file laid out against the shape of the sound itself.  (The extracted 
	envelope will be much easier to see if you tick 'Hide Span Handles').</li>
	</ul>
<li><b>CLOSE COMPARE</b> &#150; enables you to remove the (red) comparison 
file from the display.</li>
</ol>
</p>

<p>
<a href="#CONTENTSTABLE"><b>Return</b></a> to list of topics
</p>

<h2 id="OPERATE">Operating the Breakpoint Editor</h2>

<p>
The operation of the breakpoint editor can be illustrated by selecting 
NEW as a starting point.  The default breakpoint file is in place, with 
5 points and 4 straight lines (line type 'linear').  Now there are 
several actions you can take:

<ol>
<li><b>Select and move a point</b> &#150; place the tip of the cursor 
arrow on a point, click and hold down the left button.  You can now drag 
that point left or right, up or down.  As you do so you will see the 
displayed <b>time</b> and <b>value</b> of this point change.

<li><b>Insert a new point</b> &#150; double-click on a line at about the 
right time location along the line.  This will insert a point at that 
location.  You can now move it as in Action 1.</li>

<li><b>Delete a point</b> &#150; a single click will select a point for 
deletion.  It will turn red in colour.  To delete it, then click on the 
<b>Delete Point</b> button.  If you change you mind while the point is 
red (selected for deletion), but before you actually delete it, just 
click somewhere else within the breakpoint file display screen and the  
point will turn black again, thus cancelling the Delete Point action.</li>

<li><b>Select a line span</b> &#150; a single click on a line with the 
left button will select it.  A selected span will turn green.  You can 
cancel this action by clicking somewhere else within the breakpoint file 
display.</li>

<li><b>Alter the type of line span</b> &#150; first select a line span as 
in Action 4.  Now go to <b>span settings</b> and click on the radio button 
for the type of line you want.  You will see the line change shape when 
you select a different type.  The slider to the right of the line types 
can be used to increase the intensity of the shape:  you will see the 
shape change as you move it.  Note that the curve of the logarithmic 
line starts with a fast rate of change and then slows down, while the 
explonential line starts with a slow rate of change and then speeds up.  
You can also move the end points of the line while it is still green and 
see how this affects its shape.  These curves enable you to make your 
breakpoint shapes more fluid.</li>
</ol>
</p>

<p>
<a href="#CONTENTSTABLE"><b>Return</b></a> to list of topics
</p>

<h2 id="ZOOM">Zoom&#47;Scroll</h2>

<p>
You can zoom in on different parts of the line.  This may appear to be 
like scrolling through the line, but is actually zooming in on it.  There 
are two sliders beneath the breakpoint display, one on the left and one 
on the right.
<ul>
<li>The left slider zooms starting at the beginning of the file, stepping 
in towards the end.  You can click along the slider line, or drag its 
button.  You see the display move further into the file, stretching the 
display) distances between points at the same time.</li>
<li>The right slider zooms starting at the end of the file, stepping in 
towards the beginning.  You therefore see the front part of the file 
expand as the later sections disappear off the right of the screen.</li>
</ul>
The zoom function makes it easier to insert points and see the effect of 
logarithmic or exponential line types.
</p> 

<p>
<a href="#CONTENTSTABLE"><b>Return</b></a> to list of topics
</p>

<h2 id="PLAYIT">PLAY&#47;STOP (Audition)</h2>

<p>
You will see two buttons above the breakpoint shape display window:  
'PLAY' and 'Amplitude'.  The Amplitude button toggles (alternates) 
with 'Frequency'.  With PLAY you can audition the breakpoint shape, 
either in an Amplitude mode or in a Frequency mode.  With the STOP 
button, you can terminate playback.
<blockquote>
<p>
In the Amplitude mode you hear a single pitch, the volume of which 
changes according to the breakpoint shape on the screen, over the length 
of time set for the breakpoint file.  This is especially useful 
when, for example, you have extracted the amplitude envelope from a 
soundfile and want to hear it in the abstract, imagining what it might 
be like imposed on another soundfile.  It is a very clean and simple 
way to hear what the shape is really like.  The vertical range of the 
breakpoint file is normalised between 0 and 1 to handle the relative 
loudness of the shape.  The frequency of the single tone can be set in 
OPTIONS, SETTINGS.
</p>

<p>
In the Frequency mode you hear a pitch glissando moving through the 
breakpoint shape on the screen, over the time of the file.  In OPTIONS, 
SETTINGS, you can set High and Low limits in Hz for the frequency range 
to be heard.
</p>
</blockquote>

<p>
Several benefits arise from the ability to hear the breakpoint shape:

<ul>
<li>A help to mentally imagining the effect the shape will have.  As 
the orchestrator develops the ability to hear the effect of various 
combinations of instruments will have, so the electroacoustic composer 
needs to develop the ability to imagine mentally the effect a breakpoint 
shape will have on a given parameter and the sound as a whole.  It is 
important to take the time to engage in this mental process.  For example, 
if a time-varying shape is to be applied to grainsize in a granular 
synthesis process, one should mentally listen to the grains getting 
larger and&#47;smaller as the sound unfolds.  Auditioning the breakpoint 
file at the same time can help with this mental exercise.</li>

<li>Auditioning a breakpoint shape in the two different modes, Amplitude and 
Frequency, has useful educational benefits.  For example, it illustrates 
how much more sensitive the ear is to frequency than to amplitude.  Small 
changes in the shape that are quite clear as pitch changes, may be inaudible 
or scarcely audible as amplitude changes.  Amplitude mode is good for 
large, sweeping changes, and also may possess emotional connotations which 
the pitch audition may not elicit.</li>

<li>BRKEDIT can be used for synthesising sounds.  For example, try creating 
a 'chirp' sound by making one or several exponentially changing shapes.  
Signals of this kind can be saved as soundfiles, used as test signals, etc.</li>
</ul>
</p>

<p>
<a href="#CONTENTSTABLE"><b>Return</b></a> to list of topics
</p>

<h2 id="EDIT">The Edit Menu</h2>

<p>
The EDIT Menu provides several additional facilities:
<ol>
<li><b>LENGTH</b> &#150; there are three ways to alter the length of 
the breakpoint file.  For the first two of these, you first enter the 
length you would like it to be.  Then you select either:
	
	<ol type="a">
	<br>
	<li><b>Truncate&#47;Extend</b> the file &shy; if the length you have 
	specified is <i>shorter</i> than the existing breakpoint file, the 
	file will be truncated by removing one or more segments from the end 
	of the file;  if the length you have specified is <i>longer</i> than 
	the existing breakpoint file, a new segment will be added to the end 
	of the file to bring it up to the required length.  Or,</li>

	<br>
	<li><b>Shrink&#47;Stretch</b> the file &shy; in this case, all the 
	segments of the breakpoint file are made proportionately smaller 
	or larger so that the whole file fits &#150; is scaled to &#150; 
	the new length specified.</li>
	
	<br>
	<li><b>Get length from soundfile</b> &shy; alternatively, your 
	existing breakpoint file can be rescaled to match a specific 
	soundfile.  In this case you may need to browse your directories for 
	the right soudfile.  Click on the 'BR' button to begin browsing.  
	When you have selected the soundfile and have clicked on OK, the 
	breakpoint file will be rescaled to fit the soundfile you've 
	selected.</li>
	
	</ol>
	<br>

<li><b>ALL SPANS TO LINES</b> &#150; this function converts the logarithmic 
or exponential curves into a series of linear segments.</li>  

<li><b>VERTICAL RANGE</b> &#150; the default vertical range for the 
breakpoint file is from 0.0 to 1.0.  The Maximum value can be raised, and 
the Minimum value can be lowered (into the minus range).  This is useful to 
get the values produced by the editor to match the range of values required 
by a specific parameter.  For example, some of these are from the -1.0 to 
1.0 range, so you would adjust the vertical range.  You will notice that 
if you do this for an existing breakpoint file made with the vertical range 
set at 0.0 to 1.0, it will at first only occupy the upper half of the 
display:  because the lowest value so far was 0.0.  However, you can now 
drag points down into the negative part of the range.</li>

<li><b>REDUCE</b> &#150; this reduces the number of points used to express 
the shape of the breakpoint file.  This facility has been provided because 
sometimes, when the breakpoint file has been extracted from a soundfile 
(i.e., is the shape of its amplitude envelope), the screen ends up jam-packed 
with points.  <b>Reduce</b> removes points to the degree specified by the 
<i>threshold</i>, preserving as intelligently as possible the original 
shape.  This makes the file easier to handle and adapt.  Also see 
the <a href="#FILE">'Hide Span Handles'</a> option.</li>

<li><b>TRANSFORM VALUES</b> &#150; calls a dialog box with a list box with 
four methods:</li>

<ul>
<li>SCALE VALUES &#150; this will multiply the values in a breakpoint file 
by a constant factor.  For example, multiplying by &#189; will halve all 
the values.  A '-1' will invert the signal.</li>

<li>OFFSET &#150; this will add a constant to all the values.  The constant 
may be a negative number.</li>

<li>WARP &#150;	this applies squares or square roots to the values in 
the breakpoint table.  Some remarkable shapes can be achieved with this 
function.  The warping process first rescales the values of the existing 
breakpoint table to lie between 0 and 1.  For example, 0 2 4 6 becomes 
0 .33 .67 1.  The mathematical effect of the warp factor is based on the 
fact that it is operating on values less than 1.  This is what happens:
	<blockquote>
	Warp factors &gt; 1 will push values towards 
	the minimum (positive numbers will move downwards towards 0, 
	negative numbers will move upwards towards 0) &#150; a square 
	process.<br>
	Similarly, warp factors &lt; 1 will push values towards the 
	maximum (i.e., away from zero) &#150; a square root process.<br>
	</blockquote>

<div align=center>
<table border=5 cellpadding=3>
<caption><h2>Warp Values &amp; Shapes</h2></caption>
<tr>
<th>original value</th>
<th>warp factor</th>
<th>resulting value</th>
</tr>

<tr>
<td><b>positive &amp; &lt; 1</b></td>
<td><b>&gt; 1</b> (square)</td>
<td>becomes smaller, trace descends towards 0</td>
</td>

<tr>
<td><b>negative &amp; &lt; 1</b></td>
<td><b>&gt; 1</b> (square)</td>
<td>becomes smaller, trace rises towards 0</td>
</td>

<tr>
<td><b>positive &amp; &lt; 1</b></td>
<td><b>&lt; 1</b> (square root)</td>
<td>becomes larger, trace rises towards top</td>
</td>

<tr>
<td><b>negative &amp; &lt; 1</b></td>
<td><b>&lt; 1</b> (square root)</td>
<td>becomes larger, trace descends towards bottom</td>
</td>

<tr>
<td align=center><b>0 or 1</b></td>
<td align=center>any</td>
<td>no change</td>
</tr>
</table>
</div>

<blockquote>
<p>
When 'values become smaller', they are drawn towards zero.  This means that 
positive values will descend (and negative values will rise).
</p>

<p>
When 'values become larger', they move away from zero.  This means that 
positive values will rise (and negative values will descend).
</p>

<p>
Traces which cover a -1 to +1 range will have a double bend in them.
</p>

<p>
You can study this function by creating a breakpoint file which forms 
a straight line, e.g., the integers from 0 to 10, spaced time-wise as 
you wish.  Then apply a warp factor &gt; 1.  You will see the line rising 
slowly at first, and then curving upwards more rapidly.  Now apply a warp 
factor which is &lt; 1.  You will see the line rising rapidly at first, and 
then curve upwards more slowly.  Finally, change the scale to lie between 
-1 and +1.  Warp factors &lt; 1 and &gt; 1 will both induce some form of 
'S' curve.  The Play facility in Frequency mode gives an even better 
indication of what is happening.
</p>
</blockquote></li>

<li>RECIPROCATE &#150; this is a special, somewhat experimental, facility 
which has been supplied to help overcome a difference between 
<a href="cgromody.htm#BRASSAGE"><b>MODIFY BRASSAGE</b></a> and the graphic <i>GrainMill</i> program.  
In <i>GrainMill</i> the <i>timestretch</i> parameter is set as a multiplier;  
e.g., a '2' means twice as long.  In BRASSAGE, the reciprocal of this is 
used in the <i>velocity</i> parameter:  e.g., &#189; or 0.5.  RECIPROCATE 
can be used to convert breakpoint files created for <i>velocity</i> in 
BRASSAGE to the form used by <i>GrainMill</i>.  RECIPROCATE can have strange 
effects on other breakpoint files, so should be used with caution.</li>
</ul>

<li><b>UNDO</b> &#150; the program records your operations on the file so 
that it is possible to backtrack through a series of UNDOs.  Note that this 
does not apply to adding and deleting points, which you can easily do on 
the screen.  Rather, it applies to major global changes to the files, 
such as New and the EDIT menu:  Length, Span to lines, Reduce, Reciprocate 
and Scale &#150; not Vertical scale, which only affects the display.</li>

<li><b>REDO</b> &#150; this steps back through your UNDOs, restoring the 
previous state of the file.</li>
</ol>
</p>

<p>
<a href="#CONTENTSTABLE"><b>Return</b></a> to list of topics
</p>

<h2 id="OPTIONS">The Options Menu</h2>

<p>
<b>SETTINGS</b> &#150;  this calls up a dialogue box in which you can 
adjust the audio settings, as described above under <a href="#PLAYIT">
PLAY</a> (Audition):  Sample Rate, Sample Type, Frequency range of a 
pitch glissando through the breakpoint file, or frequency of the single 
tone on which the amplitude shape is imposed.  The 'A&#47;D ramp msecs' 
option in Frequency mode defaults to 50.  This tailors the beginning 
and end of the sound with a somewhat exponential shape, thus smoothing 
out clicks which may otherwise occur.  It can be set between 0 and 925ms.
</p>

<p>
<a href="#CONTENTSTABLE"><b>Return</b></a> to list of topics
</p>

<h2 id="HELP"></a>The Help Menu</h2>

<p>
Under <b>ABOUT</b>, this will display the version number for the BRKEDIT 
you are using.
</p>

<p>
<a href="#CONTENTSTABLE"><b>Return</b></a> to list of topics<br>
<a href=" ccdpndex.htm" Target="_top"><b>Return</b></a> 
to Main Index for the CDP System.
</p>


<!-- ********************************************************** -->
  <div id = "footer">
   <p>
    <address>
    Last Updated 30 Oct 2021 -- HTML5 version<br />
    Documentation: Archer Endrich<br />
    Revisions: Robert Fraser<br>
    All observations &amp; ideas for improvement appreciated<br />
    Composers Desktop Project Ltd<br />
    Email: cdpse9@gmail.com<br />
    &#169; Copyright 1998-2015 Archer Endrich &amp; CDP<br>
    </address>
   </p>
  </div>

</div> <!-- End of 'right' (contents) indentation -->

</body>

</html>