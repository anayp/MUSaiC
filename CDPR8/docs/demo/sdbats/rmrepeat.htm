<!DOCTYPE html>
<html lang="en">
<!-- rmrepeat.htm - HTML file for rmrepeat.bat,
     5th Sound-Builder Template - HTML5 version -->
<html>

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>RINGMOD-REPEAT</title>
<meta charset="UTF-8" />
	<link rel = "stylesheet"
	 type = "text/css"
	 href = "cdpcssdf.css" />
    <!-- might revise this to match orig .css better -->
<link rel="icon"  href="../images/cdp_favicon.ico">
    <style>
	a { text-decoration: none }
	a:hover { color:#FF3333; text-decoration: underline }          	
    </style>
</head>

<body>

<div id = "left"> <!-- Keep indexing on left ABOVE headlines so index goes to top of page -->
<p>
<IMG SRC="images/hg2sm150.gif" align="center"></a><br clear>
&nbsp;<b>H<small>ITHER</small> G<small>ATE</small> M<small>USIC</small></b>
</p>

  <p>
  <nav>
  <dl>
  <dt><a href="../../html/ccdpndex.htm" Target="_top"><b>Main Index</b></a>
  <dt><a href="../../html/tutorials.htm" Target="_top"><b>Tutorials Index</b></a> 
  <dt><a href="../../html/cgroundx.htm" Target="_top"><b>'Groucho' Index</b></a> 
  <dt><a href="../../html/cspecndx.htm" Target="_top"><b>Spectral Index</b></a> 
  <dt><a href="../../html/filestxt.htm" Target="_blank"><b>File Formats</b></a>
  <hr>
<dl>
<dt><a href="#START"><b>START</b></a>
<br /><br />
<dt>&nbsp;&nbsp;<a href="#STEP1"><b>1. COPY</b></a>
<dt>&nbsp;&nbsp;<a href="#STEP2"><b>2. RING-MOD</b></a>
<dt>&nbsp;&nbsp;<a href="#STEP3"><b>4. DISTORT</b></a>
<dt>&nbsp;&nbsp;<a href="#STEP4"><b>5. TRANSPOSE</b></a>
<br /><br />
<dt><a href="#BATCH5"><b>BATCH FILE</b></a>
<br /><br />
<dt><a href="#PT5"><b>PLAY LIST</b></a>
<br><br>
<dt><a href="#SOUNDSHAPER"><b>Screenshot Updates</b></a>

<hr>
<dt><a href = "sdbatstemplatesindex.htm"><b>TEMPLATES INDEX</b></a>
<br>
<dt>&nbsp;&nbsp;<a href = "reentry.htm"><b>1. RE-ENTRY</b></a>
<dt>&nbsp;&nbsp;<a href = "churbles.htm"><b>2. CHURBLES</b></a>
<dt>&nbsp;&nbsp;<a href = "grnflow.htm"><b>3. GRAIN-FLOW</b></a>
<dt>&nbsp;&nbsp;<a href = "glissswp.htm"><b>4. GLISS-SWEEP</b></a>
<dt>&nbsp;&nbsp;<a href = "rmrepeat.htm"><b>5. RING-MOD REPEAT</b></a>
<dt>&nbsp;&nbsp;<a href = "widentrn.htm"><b>6. WIDEN</b></a>

</dl>


</div>  <!----------------- End of left index panel ----------------------->

<div id = "right"> <!-- Keep headlines here so index goes to top of page -->

   <div id = "head">


<p>
<IMG SRC="images/hg2sm150.gif" align="left"></a><br> &nbsp;&nbsp;&nbsp;
<b>H<small>ITHER</small> G<small>ATE</small> M<small>USIC</small></b>
</p>

<br>


<h1>
Sound-builder Template 5<br />RING-MOD-REPEAT<br />
<h5>&#126; Processing Sequence, Step-by-Step &#126;</h5>
<h2>for Sound Design Workshops,<br>prepared by A Endrich</h2>
</h1>

<p align="center">
<i><b>Goal:</b> deep, churning sound, with a nasal edge</i>
</p>

<p>
<div align="center">
<table border="0" cellpadding="3">
<!-- <caption><h3>This is a Table</h3></caption> -->

<tr>
<td align="left"><h3><a href="asrcmix.wav">Starting Point 1</a></h3></td>
<td align="right"><h3><a href="ermrepd11.mp3">End Result</a></h3></td>
</tr>

<tr>
<td colspan="2" align="center"><h3><a href="#PT5">All Steps Play 
Table</a></h3></td>
</tr>

</table>
</div>
</p>

<p>
<br />
</p>


   </div>  <!-- End of 'head' -->


<!-- ========================================================================= -->
<h2 id="START">Starting Point (varied inputs)</h2>

<blockquote>
<p>
The starting point can be any soundfile.  It doesn't matter if 
the end result is poor because the point is to explore what happens 
with different types of input soundfile.  The <b>processing sequence</b> 
is a template, an exploratory tool.  It is used not only to produce 
good end results, but also to learn what kind of inputs work well 
with the given sequence.
</p>

<p>
The input should be mono, nicely dovetailed, and reasonably short, such 
as up to about 12 seconds, because the RING-MOD-REPEAT process lengthens 
the sound considerably.  The sequence can be realised one step at a time 
with a graphic interface or all at once with a batch file.  A batch file 
is an MS-DOS mechanism that runs commands.  It is a text file with a 
<b>.bat</b> extension.  It contains a series of commands and explanatory 
comments introduced with the word <b>rem</b>.  In the <i>Sound Loom</i> 
GUI, the processing sequence can be constructed as an <b>Instrument</b>.
</p>

<p>
I prefer to use a naming convention which indicates which processing 
function has been used.  Thus, as a new sound grows, you can read the 
processing steps in the name itself.
</p>
</blockquote>

<p>
<br>
</p>

<!-- ========================================================================= -->
<h2 id="STEP1">Step 1: Copy</h2>

<blockquote>
<h3>
Make a copy of the input soundfile, giving it a single letter name.
</h3>

<p>
It is presumed that the input is mono and begins and ends smoothly, 
i.e., without a click or being suddenly cut off.  We only have to 
name the outfile.  The default values for the copy procedure are 
used because no change to the format is being made, i.e., 
<i>sampletype</i> = 1, <i>header</i> = 0 and <i>formatout</i> = 0.  
The outfile name is specified.  The .wav extension is added 
automatically.
</p>

<p>
The example sounds as supplied use <i>asrcmix.wav</i> as the input.  
This is our generic source file, made up of various instruments 
and a spoken text.  Different processes will pick up on different 
features of this input.
</p>

<blockquote>
<h4>Dialogue box:</h4>

<p align="center">
<IMG SRC="images/copysfx1.gif" align="center" hspace="15" vspace="10" 
alt="[default parameters]"><b>Default parameters</b></a><br> 
</p>

<p align="center">
<IMG SRC="images/ecopysfx.gif" align="center" hspace="15" vspace="10" 
alt="[new name specified]"><b>New name is 'e.wav'</b></a>
</p>

<h4>Command:</h4>

<p>
<code>rem function infile outfile<br>
copysfx asrcmix.wav e.wav
</code></p>
</blockquote>

</blockquote>

<p>
<br>
</p>

<!-- ========================================================================= -->
<h2 id="STEP2">Step 2: Ring-Modulate</h2>

<blockquote>
<h3>
Apply ring-modulation
</h3>

<p>
Ring-modulation pushes the sound outwards from the middle, up 
and down by a frequency band that you specify.  The upper 
and lower 'sidebands' created usually add a metallic edge 
to the sound, but larger values can create a 'hollow' middle.
</p>

<p>
The spoken text in <i>asrcmix.wav</i> is what is most noticeably 
affected by this process.
</p>

<p>
The <i>modulation_frequency</i> used here is 1000, which is 
rather high.  However, many CDP parameters are allowed 
to have 'unreasonable' values so that extremes can be explored.  
So far, I have not given the program a value that has been rejected!  
Very narrow values should also be explored.
</p>
<blockquote>

<p>
<b>Dialogue box:</b><br>
<IMG SRC="images/erm.gif" align="center" hspace="15" vspace="10" 
alt="[Dialogue Box for Modify Radical, Mode 5]"><br clear>
<b>Ring-modulate</b></a>
</p>

<p>
<b>Command:</b><br>
<code>
rem function mode infile outfile params
modify radical 5 e erm 1000
</code></p>


<p>
PLAY <a href="erm.mp3"><b>erm.mp3</b></a> (more edge)<br>
New name: 'e ring-mod'
</p>
</blockquote>
</blockquote>


<p>
<br>
</p>

<!-- ========================================================================= -->
<h2 id="STEP3">Step 3: Distort</h2>

<blockquote>
<h3>
Apply waveshape distortion, with repetitions
</h3>

<p>
DISTORT REPEAT is very good at stirring up a soundfile.  
As one of the waveshape distortion routines, it operates 
on the irregularly long sections of soundfile that occur 
between 'zero-crossings'.
</p>

<p>
There are three parameters:
	<ul>
	<li><i>multiplier</i> &#150; this is the 'repeat' parameter:  
	i.e., how many times to repeat the groups of wavecycles 
	(2 is the minimum allowed)</li>
	<li><i>cyclecnt</i> &#150; (optional) number of wavecycles 
	in each repeated group;  the Default is 1</li>
	<li><i>skipcycles</i> &#150; (optional) number of cycles to 
	skip before beginning to process the sound (not used here)</li>
	</ul>
</p>

<p>
The spoken text seems to disappear into the churning after 
running DISTORT REPEAT.
</p>

<blockquote>
<p>
<b>Dialogue box:</b><br>
<IMG SRC="images/edrpt.gif" align="center" hspace="15" vspace="10" 
alt="[Dialogue Box for Distort Repeat]"><br clear>
<b>Distort with repetitions</b></a>
</p>

<p>
<b>Command:</b><br>
<code>
rem function infile outfile multiplier [cyclecount]<br />
distort repeat erm ermrpt 2 -c2
</code></p>


<p>
PLAY <a href="ermrpt.mp3"><b>ermrpt.mp3</b></a> (churning)<br>
New name: 'e ring-mod repeat'
</p>
</blockquote>
</blockquote>


<p>
<br>
</p>

<!-- ========================================================================= -->
<h2 id="STEP4">Step 4: Transpose</h2>

<blockquote>
<h3>
Lower the churning sound to add depth and richness
</h3>

<p>
At first I tried going down 24 semitones, but this made it too 
thick and muddy.  Down 11 semitones seemed to be enough, but not 
too much, at least with <i>asrcmix.wav</i> as the input.  Another 
soundfile as the source would probably respond to a different 
transposition.
level.  
</p>

<blockquote>
<p>
<b>Dialogue box:</b><br>
<IMG SRC="images/etrna.gif" align="center" hspace="15" vspace="10" 
alt="[Dialogue Box for Modify Speed]"><br clear>
<b>Transposition down 11 semitones</b></a>
</p>

<p>
And now showing the soundfile names at the end of the process:
<br />
<b>Dialogue box:</b><br>
<IMG SRC="images/etrnb.gif" align="center" hspace="15" vspace="10" 
alt="[Dialogue Box for MODIFY SPEED]"><br clear>
<b>Closing soundfile names of processing sequence</b></a>
</p>

<p>
<b>Command:</b><br>
<code>
rem function mode infile outfile semitones<br />
modify speed 2 ermrpt ermrptd11 -11
</code></p>


<p>
PLAY <a href="ermrptd11.mp3"><b>ermrptd11.mp3</b></a> (deeper 
and richer)<br>
New name: 'e ring-mod repeat down 11 semitones'
</p>
</blockquote>
</blockquote>


<p>
<br>
</p>

<!-- ========================================================================= -->
<h2 id="BATCH5">Complete Sequence: Batch File <i>rmrepeat.bat</i></h2>

<h3 align="center">Use <i>rmrepdel.bat</i> to remove the outputs</h3>
 
<p>
<blockquote>
<pre>
rem rmrepeat.bat - RING-MOD-REPEAT - batch file for Sound-Builder 
rem  Template 5 (as in CDP File Formats: filestxt.htm, but path  
rem    and file names have been changed
rem This batch file chains 3 functions to produce a churning 
rem   and deeply sonorous result
rem See rmrepdel.bat for deletions between uses

rem Sources supplied:
rem   asrcmix.wav (12.6 sec.) - basic complex source sound
rem   aklcdp.wav  (1.38 sec) - drum riff
rem   bashdt.wav  (1.5 sec) - strong metallic bash
rem   frogcdt.wav (1.8 sec) - chirpy frog ribbets
rem   hoggdt.wav  (3.7 sec) - rough hog grunt
rem   tomcdt.wav  (1.3 sec) - light, ringing drum
rem   touccdt.wav (3.0 sec) - richly timbral bird call
rem   whdtm.wav   (2.4 sec) - whirling tube

echo on

rem Step 1: COPY TO GENERIC NAME
copysfx asrcmix.wav e.wav

rem Step 2: MODIFY RADICAL:  Mode 5 is Ring Modulation, Mod Freq is 1000
modify radical 5  e  erm  1000
rem (the speech part of the source was most affected)

rem Step 3: DISTORT REPEAT: Parameters: Multiplier and Cyclecount
distort repeat  erm  ermrpt  2  -c2
rem (this doubles the lengths and roughs it up a lot!)

rem Step 4: MODIFY SPEED: lowered by 11 semitones
modify speed 2  ermrpt  ermrptd11  -11 
rem (nearly doubles the length again, deepening and smoothing)

echo off
</pre>
</p>
</blockquote>

<p>
Further fine-tuning of the result might typically include adding some 
reverb and directional movement (panning).
</p>

<!-- ========================================================================= -->
<p id="PT5">
<div><table border="1" align="center" cellpadding="5" bgcolor="#B0E0E6"><caption align="center">
<h2>All Steps Play Table</h2></caption>

<tr>
<th align="center"><h3>STEP</h3></th>
<th align="center"><h3>PROCESS</h3></th>
<th align="center"><h3>OUTPUT</h3></th>
</tr>

<tr>
<td align="left"><a href="#STEP1">Step 1.</a></td>
<td align="center">Copy</td>
<td align="center"><a href="e.mp3">e.mp3</a></td>
</tr>

<tr>
<td align="left">Step 2. RING-MOD</td>
<td align="center">Modify Radical <b>5</b></td>
<td align="center"><a href="erm.mp3">erm.mp3</a></td>
</tr>


<tr>
<td align="left">Step 3. DISTORT</td>
<td align="center">Distort Repeat</td>
<td align="center"><a href="ermrpt.mp3">ermrpt.mp3</a></td>
</tr>


<tr>
<td align="left">Step 4. TRANSPOSE</td>
<td align="center">Modify Speed</td>
<td align="center"><a href="ermrptd11.mp3">ermrptd11.mp3</a></td>
</tr>

</table>
</div>
</p>



<!-- ********************************************************** -->
<hr>
<h2 id="SOUNDSHAPER">SCREENSHOT UPDATES</h2>
<p>(by Robert Fraser, March 2016)</p>
<p>
<b>The Soundshaper screenshots used in this tutorial are out of date in two respects:</b>
<ul>
<li>Output files are no longer named on Parameter Pages: instead, the output is saved to a temporary file and appears on the Main Page patchgrid in a new cell named after the process. <br>
If you want to save the output permanently, highlight the cell (if necessary) and click File/Save or CTRL+S to obtain a standard SAVE dialog:
	<br><br>
	<div style="text-align: left;"><img style="width: 500px;
                height: 285px;" alt="Save File"
                src="images/save1.jpg">
        </div>
	<br>
There is normally no need to do this until the end of the sequence.</li><br>

<li>FFT conversion (PVOC Analysis / Resynthesis) now uses current settings and the FFT page is only used to set these, not to perform a conversion, as shown. As the tutorial examples use default values, there is nothing to set!<br>
Furthermore, Soundshaper does these conversions in the background, so you do not even have to select ANALYSE or SYNTH &#150; just select the next process.</li>
</ul>
</p>

<p>
<b>To run the RINGMOD-REPEAT chain of CDP processes in Soundshaper:</b><br>
<blockquote>
[After each step, you can play the result in the transport panel.]<br>
</blockquote>

<ul>
<li><b>STEP 1</b> (COPYSFX): Open the tutorial folder. Drag and drop the source <b>asrcmix.wav</b> onto Soundshaper's Main Page.<br> 
	Program runs COPYSFX and outputs to cell A_0.</li><br>

<li><b>STEP 2</b> (RING-MOD): Select Soundfiles/Pitch/RingMod.<br>
	Parameter page: set parameter as in tutorial (ModFreq=1000).<br> 
	Click OK to run; output appears in cell A_1 ("RingMod").</li><br>

<li><b>STEP 3</b> (DISTORT): Select Soundfiles/Distort/Repeat.<br>
	Parameter page (Mode 1): set parameters as in tutorial (Repeat=2, Cycles=2, Skip=0).<br> 
	Click OK to run; output appears in cell A_2 ("CycRepeat").</li><br>

<li><b>STEP 4</b> (TRANSPOSE): Select Soundfiles/Pitch/Speed.<br>
	Parameter page: set parameter as in tutorial (Transposition -11 semitones).<br>
	Click OK to run; output appears in cell A_3 ("Speed"):</li><br>

	<div style="text-align: left;"><img style="width: 275px;
                height: 89px;" alt="RingMod-Repeat"
                src="images/rmrpt.gif">
        </div>
	<br></li>

<li><b>SAVE FILE (OPTIONAL)</b>: Save the result to a permanent file. Hit CTRL+S or File / Save(As) to obtain a standard SAVE dialog.<br>
Enter a file name, e.g. <b>ringmodrpt.wav</b> (or <b>ermrptd11</b> if you prefer). </li><br>

<li><b>SAVE PATCH (OPTIONAL)</b>: <b>Uncheck</b> "Include Sources", unless you want to save the copied source (~A_0.wav) with the patch.<br> Click the patch <b>SAVE</b> button (central panel). Select a save name (e.g. <b>ringmodrpt.ssp</b>); click OK. Optionally enter a description; click OK.<br></b></li>
<br>
<li><b>RUN PATCH (OPTIONAL)</b>: To run the patch with a different source (assuming the patchgrid has not been cleared), click on cell A_0, select a source (e.g. by drag+drop) and click the central <b>RUN</b> button, with the "Whole Patch" checkbox checked.</li>
<br>
<li><b>RELOAD PATCH (OPTIONAL)</b>: If the patch is not on the grid, click the central <b>LOAD</b> button. Select the .ssp file (e.g. ringmodrpt.ssp). If you have not saved the source (~A_0.wav), the patch will still run with it, provided it still exists in the same location. Otherwise, you will be prompted to select a source. To run the patch with a different source, see RUN PATCH above. </li>  

</ul>

</p>

<!-- ********************************************************** -->
  <div id = "footer">
   <p>
    <address>
    Last Updated 1 Apr. 2016 -- HTML5 version<br />  
    Created with funding from North Wiltshire District Council<br>
    Documentation: Archer Endrich; last updated: 20 August 2004<br />
    <b>mp3</b> format changes: 21 February 2010 (sources or near sources 
    are kept as <b>wav</b>)<br />
    Revisions: Robert Fraser<br>
    Composers Desktop Project Ltd<br />
    Email: cdpse9@talktalk.net<br />
    &#169; Copyright 2003-2016 Archer Endrich, Chippenham, Wiltshire, England<br>
    </address>
   </p>
  </div>

</div> <!-- End of 'right' (contents) indentation -->

<!-- 
Outline for a Step:

<h2>
Step x: 
</h2>

<blockquote>
<h3>
w
</h3>

<p>
x
</p>

<p>
<b>Dialogue box:</b><br>
<IMG SRC=".gif"><b></b></a>
</p>

<p>
<b>Command:</b><br>
<code>
rem function mode infile outfile
y
</code></p>

</blockquote>

 -->

<!-- 
Play table outline

<p>
<div>
<a id="PTx"><table border="1" cellpadding="5"></a>
<caption align="center"><h2>All Steps Play Table</h2></caption>

<tr>
<th align="center"><h3>STEP</h3></th>
<th align="center"><h3>PROCESS</h3></th>
<th align="center"><h3>OUTPUT</h3></th>
</tr>

<tr>
<td align="left">Step x.</td>
<td align="center">y</td>
<td align="center"><a href="x.mp3">x.mp3</a> &nbsp; <a href="y.mp3">
y.mp3</a></td>
</tr>

</table>
</div>
</p>

 -->


</body>

</html>